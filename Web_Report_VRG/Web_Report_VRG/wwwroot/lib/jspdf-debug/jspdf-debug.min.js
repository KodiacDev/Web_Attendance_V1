!function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.jspdf = e() }(this, function () { "use strict"; var t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; !function () { function t(t) { this.value = t } function e(e) { var n, i; function o(n, i) { try { var a = e[n](i), c = a.value; c instanceof t ? Promise.resolve(c.value).then(function (t) { o("next", t) }, function (t) { o("throw", t) }) : s(a.done ? "return" : "normal", a.value) } catch ($) { s("throw", $) } } function s(t, e) { switch (t) { case "return": n.resolve({ value: e, done: !0 }); break; case "throw": n.reject(e); break; default: n.resolve({ value: e, done: !1 }) }(n = n.next) ? o(n.key, n.arg) : i = null } this._invoke = function t(e, s) { return new Promise(function (t, a) { var c = { key: e, arg: s, resolve: t, reject: a, next: null }; i ? i = i.next = c : (n = i = c, o(e, s)) }) }, "function" != typeof e.return && (this.return = void 0) } "function" == typeof Symbol && Symbol.asyncIterator && (e.prototype[Symbol.asyncIterator] = function () { return this }), e.prototype.next = function (t) { return this._invoke("next", t) }, e.prototype.throw = function (t) { return this._invoke("throw", t) }, e.prototype.return = function (t) { return this._invoke("return", t) } }(); var e = function (e) { var n = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; function i(t) { var n = {}; this.subscribe = function (t, e, i) { if ("function" != typeof e) return !1; n.hasOwnProperty(t) || (n[t] = {}); var o = Math.random().toString(35); return n[t][o] = [e, !!i], o }, this.unsubscribe = function (t) { for (var e in n) if (n[e][t]) return delete n[e][t], !0; return !1 }, this.publish = function (i) { if (n.hasOwnProperty(i)) { var o = Array.prototype.slice.call(arguments, 1), s = []; for (var a in n[i]) { var c = n[i][a]; try { c[0].apply(t, o) } catch ($) { e.console && console.error("jsPDF PubSub Error", $.message, $) } c[1] && s.push(a) } s.length && s.forEach(this.unsubscribe) } } } function o(s, a, c, $) { var l, u = {}; (void 0 === s ? "undefined" : t(s)) === "object" && (s = (u = s).orientation, a = u.unit || a, c = u.format || c, $ = u.compress || u.compressPdf || $), a = a || "mm", c = c || "a4", s = ("" + (s || "P")).toLowerCase(), ("" + c).toLowerCase(); var h, f, d, p, _, m, x, w, y, v = !!$ && "function" == typeof Uint8Array, k = u.textColor || "0 g", C = u.drawColor || "0 G", q = u.fontSize || 16, S = u.lineHeight || 1.15, T = u.lineWidth || .200025, A = 2, P = !1, F = [], E = {}, I = {}, B = 0, R = [], O = [], D = [], z = [], L = [], j = 0, N = 0, H = 0, W = { title: "", subject: "", author: "", keywords: "", creator: "" }, U = {}, M = new i(U), X = function t(e) { return e.toFixed(2) }, V = function t(e) { return e.toFixed(3) }, Y = function t(e) { return ("0" + parseInt(e)).slice(-2) }, G = function t(e) { P ? R[p].push(e) : (H += e.length + 1, z.push(e)) }, J = function t() { return F[++A] = H, G(A + " 0 obj"), A }, Q = function t() { var e = 2 * R.length + 1, n = { objId: e += L.length, content: "" }; return L.push(n), n }, K = function t() { return F[++A] = function () { return H }, A }, Z = function t(e) { F[e] = H }, tt = function t(e) { G("stream"), G(e), G("endstream") }, te = function t() { var n, i, s, a, c, $, l, u, h, d = []; for (l = e.adler32cs || o.adler32cs, v && void 0 === l && (v = !1), n = 1; n <= B; n++) { if (d.push(J()), u = (_ = D[n].width) * f, h = (m = D[n].height) * f, G("<</Type /Page"), G("/Parent 1 0 R"), G("/Resources 2 0 R"), G("/MediaBox [0 0 " + X(u) + " " + X(h) + "]"), M.publish("putPage", { pageNumber: n, page: R[n] }), G("/Contents " + (A + 1) + " 0 R"), G(">>"), G("endobj"), i = R[n].join("\n"), J(), v) { for (s = [], a = i.length; a--;)s[a] = i.charCodeAt(a); $ = l.from(i), (c = new tD(6)).append(new Uint8Array(s)), i = c.flush(), (s = new Uint8Array(i.length + 6)).set(new Uint8Array([120, 156])), s.set(i, 2), s.set(new Uint8Array([255 & $, $ >> 8 & 255, $ >> 16 & 255, $ >> 24 & 255]), i.length + 2), G("<</Length " + (i = String.fromCharCode.apply(null, s)).length + " /Filter [/FlateDecode]>>") } else G("<</Length " + i.length + ">>"); tt(i), G("endobj") } F[1] = H, G("1 0 obj"), G("<</Type /Pages"); var p = "/Kids ["; for (a = 0; a < B; a++)p += d[a] + " 0 R "; G(p + "]"), G("/Count " + B), G(">>"), G("endobj"), M.publish("postPutPages") }, tn = function t(e) { e.objectNumber = J(), G("<</BaseFont/" + e.PostScriptName + "/Type/Font"), "string" == typeof e.encoding && G("/Encoding/" + e.encoding), G("/Subtype/Type1>>"), G("endobj") }, tr = function t() { for (var e in E) E.hasOwnProperty(e) && tn(E[e]) }, ti = function t() { M.publish("putXobjectDict") }, to = function t() { for (var e in G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), G("/Font <<"), E) E.hasOwnProperty(e) && G("/" + e + " " + E[e].objectNumber + " 0 R"); G(">>"), G("/XObject <<"), ti(), G(">>") }, ts = function t() { tr(), M.publish("putResources"), F[2] = H, G("2 0 obj"), G("<<"), to(), G(">>"), G("endobj"), M.publish("postPutResources") }, ta = function t() { M.publish("putAdditionalObjects"); for (var e = 0; e < L.length; e++) { var n = L[e]; F[n.objId] = H, G(n.objId + " 0 obj"), G(n.content), G("endobj") } A += L.length, M.publish("postPutAdditionalObjects") }, tc = function t(e, n, i) { I.hasOwnProperty(n) || (I[n] = {}), I[n][i] = e }, t$ = function t(e, n, i, o) { var s = "F" + (Object.keys(E).length + 1).toString(10), a = E[s] = { id: s, PostScriptName: e, fontName: n, fontStyle: i, encoding: o, metadata: {} }; return tc(s, n, i), M.publish("addFont", a), s }, tl = function t(e, n) { var i, o, s, a, c, $, l, u, f; if (s = (n = n || {}).sourceEncoding || "Unicode", c = n.outputEncoding, (n.autoencode || c) && E[h].metadata && E[h].metadata[s] && E[h].metadata[s].encoding && (a = E[h].metadata[s].encoding, !c && E[h].encoding && (c = E[h].encoding), !c && a.codePages && (c = a.codePages[0]), "string" == typeof c && (c = a[c]), c)) { for (i = 0, l = !1, $ = [], o = e.length; i < o; i++)(u = c[e.charCodeAt(i)]) ? $.push(String.fromCharCode(u)) : $.push(e[i]), $[i].charCodeAt(0) >> 8 && (l = !0); e = $.join("") } for (i = e.length; void 0 === l && 0 !== i;)e.charCodeAt(i - 1) >> 8 && (l = !0), i--; if (!l) return e; for (i = 0, $ = n.noBOM ? [] : [254, 255], o = e.length; i < o; i++) { if ((f = (u = e.charCodeAt(i)) >> 8) >> 8) throw Error("Character at position " + i + " of string '" + e + "' exceeds 16bits. Cannot be encoded into UCS-2 BE"); $.push(f), $.push(u - (f << 8)) } return String.fromCharCode.apply(void 0, $) }, tu = function t(e, n) { return tl(e, n).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, th = function t() { for (var e in G("/Producer (jsPDF " + o.version + ")"), W) W.hasOwnProperty(e) && W[e] && G("/" + e.substr(0, 1).toUpperCase() + e.substr(1) + " (" + tu(W[e]) + ")"); var n = new Date, i = n.getTimezoneOffset(), s = [i < 0 ? "+" : "-", Y(Math.floor(Math.abs(i / 60))), "'", Y(Math.abs(i % 60)), "'"].join(""); G(["/CreationDate (D:", n.getFullYear(), Y(n.getMonth() + 1), Y(n.getDate()), Y(n.getHours()), Y(n.getMinutes()), Y(n.getSeconds()), s, ")"].join("")) }, tf = function t() { switch (G("/Type /Catalog"), G("/Pages 1 0 R"), w || (w = "fullwidth"), w) { case "fullwidth": G("/OpenAction [3 0 R /FitH null]"); break; case "fullheight": G("/OpenAction [3 0 R /FitV null]"); break; case "fullpage": G("/OpenAction [3 0 R /Fit]"); break; case "original": G("/OpenAction [3 0 R /XYZ null null 1]"); break; default: var e = "" + w; "%" === e.substr(e.length - 1) && (w = parseInt(w) / 100), "number" == typeof w && G("/OpenAction [3 0 R /XYZ null null " + X(w) + "]") }switch (y || (y = "continuous"), y) { case "continuous": G("/PageLayout /OneColumn"); break; case "single": G("/PageLayout /SinglePage"); break; case "two": case "twoleft": G("/PageLayout /TwoColumnLeft"); break; case "tworight": G("/PageLayout /TwoColumnRight") }x && G("/PageMode /" + x), M.publish("putCatalog") }, td = function t() { G("/Size " + (A + 1)), G("/Root " + A + " 0 R"), G("/Info " + (A - 1) + " 0 R") }, tp = function t(e, i) { var o = "string" == typeof i && i.toLowerCase(); if ("string" == typeof e) { var s = e.toLowerCase(); n.hasOwnProperty(s) && (e = n[s][0] / f, i = n[s][1] / f) } if (Array.isArray(e) && (i = e[1], e = e[0]), o) { switch (o.substr(0, 1)) { case "l": i > e && (o = "s"); break; case "p": e > i && (o = "s") }"s" === o && (d = e, e = i, i = d) } P = !0, R[++B] = [], D[B] = { width: Number(e) || _, height: Number(i) || m }, O[B] = {}, tg(B) }, t_ = function t() { tp.apply(this, arguments), G(X(T * f) + " w"), G(C), 0 !== j && G(j + " J"), 0 !== N && G(N + " j"), M.publish("addPage", { pageNumber: B }) }, t0 = function t(e) { e > 0 && e <= B && (R.splice(e, 1), D.splice(e, 1), p > --B && (p = B), this.setPage(p)) }, tg = function t(e) { e > 0 && e <= B && (p = e, _ = D[e].width, m = D[e].height) }, tm = function t(e, n) { var i; switch (e = void 0 !== e ? e : E[h].fontName, n = void 0 !== n ? n : E[h].fontStyle, void 0 !== e && (e = e.toLowerCase()), e) { case "sans-serif": case "verdana": case "arial": case "helvetica": e = "helvetica"; break; case "fixed": case "monospace": case "terminal": case "courier": e = "courier"; break; default: e = "times" }try { i = I[e][n] } catch (o) { } return i || null != (i = I.times[n]) || (i = I.times.normal), i }, tx = function t() { P = !1, A = 2, H = 0, z = [], F = [], L = [], M.publish("buildDocument"), G("%PDF-1.3"), te(), ta(), ts(), J(), G("<<"), th(), G(">>"), G("endobj"), J(), G("<<"), tf(), G(">>"), G("endobj"); var e, n = H, i = "0000000000"; for (G("xref"), G("0 " + (A + 1)), G(i + " 65535 f "), e = 1; e <= A; e++)"function" == typeof F[e] ? G((i + F[e]()).slice(-10) + " 00000 n ") : G((i + F[e]).slice(-10) + " 00000 n "); return G("trailer"), G("<<"), td(), G(">>"), G("startxref"), G("" + n), G("%%EOF"), P = !0, z.join("\n") }, t3 = function t(e) { var n = "S"; return "F" === e ? n = "f" : "FD" === e || "DF" === e ? n = "B" : ("f" === e || "f*" === e || "B" === e || "B*" === e) && (n = e), n }, tw = function t() { for (var e = tx(), n = e.length, i = new ArrayBuffer(n), o = new Uint8Array(i); n--;)o[n] = e.charCodeAt(n); return i }, ty = function t() { return new Blob([tw()], { type: "application/pdf" }) }, t1 = ((l = function (t, n) { var i = "dataur" === ("" + t).substr(0, 6) ? "data:application/pdf;base64," + btoa(tx()) : 0; switch (t) { case void 0: return tx(); case "save": if (navigator.getUserMedia && (void 0 === e.URL || void 0 === e.URL.createObjectURL)) return U.output("dataurlnewwindow"); tI(ty(), n), "function" == typeof tI.unload && e.setTimeout && setTimeout(tI.unload, 911); break; case "arraybuffer": return tw(); case "blob": return ty(); case "bloburi": case "bloburl": return e.URL && e.URL.createObjectURL(ty()) || void 0; case "datauristring": case "dataurlstring": return i; case "dataurlnewwindow": var o = e.open(i); if (o || "undefined" == typeof safari) return o; case "datauri": case "dataurl": return e.document.location.href = i; default: throw Error('Output type "' + t + '" is not supported.') } }).foo = function t() { try { return l.apply(this, arguments) } catch (n) { var i = n.stack || ""; ~i.indexOf(" at ") && (i = i.split(" at ")[1]); var o = "Error in function " + i.split("\n")[0].split("<")[0] + ": " + n.message; if (e.console) e.console.error(o, n), e.alert && alert(o); else throw Error(o) } }, l.foo.bar = l, l.foo); switch (a) { case "pt": f = 1; break; case "mm": f = 72 / 25.4000508; break; case "cm": f = 72 / 2.54000508; break; case "in": f = 72; break; case "px": f = 96 / 72; break; case "pc": case "em": f = 12; break; case "ex": f = 6; break; default: throw "Invalid unit: " + a }for (var tv in U.internal = { pdfEscape: tu, getStyle: t3, getFont: function t() { return E[tm.apply(U, arguments)] }, getFontSize: function t() { return q }, getLineHeight: function t() { return q * S }, write: function t(e) { G(1 === arguments.length ? e : Array.prototype.join.call(arguments, " ")) }, getCoordinateString: function t(e) { return X(e * f) }, getVerticalCoordinateString: function t(e) { return X((m - e) * f) }, collections: {}, newObject: J, newAdditionalObject: Q, newObjectDeferred: K, newObjectDeferredBegin: Z, putStream: tt, events: M, scaleFactor: f, pageSize: { get width() { return _ }, get height() { return m } }, output: function t(e, n) { return t1(e, n) }, getNumberOfPages: function t() { return R.length - 1 }, pages: R, out: G, f2: X, getPageInfo: function t(e) { return { objId: (e - 1) * 2 + 3, pageNumber: e, pageContext: O[e] } }, getCurrentPageInfo: function t() { return { objId: (p - 1) * 2 + 3, pageNumber: p, pageContext: O[p] } }, getPDFVersion: function t() { return "1.3" } }, U.addPage = function () { return t_.apply(this, arguments), this }, U.setPage = function () { return tg.apply(this, arguments), this }, U.insertPage = function (t) { return this.addPage(), this.movePage(p, t), this }, U.movePage = function (t, e) { if (t > e) { for (var n = R[t], i = D[t], o = O[t], s = t; s > e; s--)R[s] = R[s - 1], D[s] = D[s - 1], O[s] = O[s - 1]; R[e] = n, D[e] = i, O[e] = o, this.setPage(e) } else if (t < e) { for (var n = R[t], i = D[t], o = O[t], s = t; s < e; s++)R[s] = R[s + 1], D[s] = D[s + 1], O[s] = O[s + 1]; R[e] = n, D[e] = i, O[e] = o, this.setPage(e) } return this }, U.deletePage = function () { return t0.apply(this, arguments), this }, U.setDisplayMode = function (t, e, n) { if (w = t, y = e, x = n, -1 == [void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(n)) throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + n + '" is not recognized.'); return this }, U.text = function (t, e, n, i, o, s) { function a(t) { return t = t.split("	").join(Array(u.TabLen || 9).join(" ")), tu(t, i) } "number" == typeof t && (d = n, n = e, e = t, t = d), "string" == typeof t && (t = t.match(/[\n\r]/) ? t.split(/\r\n|\r|\n/g) : [t]), "string" == typeof o && (s = o, o = null), "string" == typeof i && (s = i, i = null), "number" == typeof i && (o = i, i = null); var c, $, l = "", p = "Td"; if (o) { var _ = Math.cos(o *= Math.PI / 180), x = Math.sin(o); l = [X(_), X(x), X(-1 * x), X(_), ""].join(" "), p = "Tm" } "noBOM" in (i = i || {}) || (i.noBOM = !0), "autoencode" in i || (i.autoencode = !0); var w = "", y = this.internal.getCurrentPageInfo().pageContext; if (!0 === i.stroke ? !0 !== y.lastTextWasStroke && (w = "1 Tr\n", y.lastTextWasStroke = !0) : (y.lastTextWasStroke && (w = "0 Tr\n"), y.lastTextWasStroke = !1), void 0 === this._runningPageHeight && (this._runningPageHeight = 0), "string" == typeof t) t = a(t); else if ("[object Array]" === Object.prototype.toString.call(t)) { for (var v = t.concat(), C = [], T = v.length; T--;)C.push(a(v.shift())); var A = Math.ceil((m - n - this._runningPageHeight) * f / (q * S)); if (0 <= A && C.length, s) { var P, F, E, I = q * S, B = t.map(function (t) { return this.getStringUnitWidth(t) * q / f }, this); if (E = Math.max.apply(Math, B), "center" === s) P = e - E / 2, e -= B[0] / 2; else if ("right" === s) P = e - E, e -= B[0]; else throw Error('Unrecognized alignment option, use "center" or "right".'); F = e, t = C[0]; for (var R = 1, T = C.length; R < T; R++) { var O = E - B[R]; "center" === s && (O /= 2), t += ") Tj\n" + (P - F + O) + " -" + I + " Td (" + C[R], F = P + O } } else t = C.join(") Tj\nT* (") } else throw Error('Type of text must be string or Array. "' + t + '" is not recognized.'); return $ || (c = X((m - n) * f)), G("BT\n/" + h + " " + q + " Tf\n" + q * S + " TL\n" + w + k + "\n" + l + X(e * f) + " " + c + " " + p + "\n(" + t + ") Tj\nET"), $ && this.text($, e, n), this }, U.lstext = function (t, e, n, i) { console.warn("jsPDF.lstext is deprecated"); for (var o = 0, s = t.length; o < s; o++, e += i)this.text(t[o], e, n); return this }, U.line = function (t, e, n, i) { return this.lines([[n - t, i - e]], t, e) }, U.clip = function () { G("W"), G("S") }, U.clip_fixed = function (t) { "evenodd" === t ? G("W*") : G("W"), G("n") }, U.lines = function (t, e, n, i, o, s) { var a, c, $, l, u, h, p, _, x, w, y; for ("number" == typeof t && (d = n, n = e, e = t, t = d), i = i || [1, 1], G(V(e * f) + " " + V((m - n) * f) + " m "), a = i[0], c = i[1], l = t.length, w = e, y = n, $ = 0; $ < l; $++)2 === (u = t[$]).length ? (w = u[0] * a + w, y = u[1] * c + y, G(V(w * f) + " " + V((m - y) * f) + " l")) : (h = u[0] * a + w, p = u[1] * c + y, _ = u[2] * a + w, x = u[3] * c + y, w = u[4] * a + w, y = u[5] * c + y, G(V(h * f) + " " + V((m - p) * f) + " " + V(_ * f) + " " + V((m - x) * f) + " " + V(w * f) + " " + V((m - y) * f) + " c")); return s && G(" h"), null !== o && G(t3(o)), this }, U.rect = function (t, e, n, i, o) { return t3(o), G([X(t * f), X((m - e) * f), X(n * f), X(-i * f), "re"].join(" ")), null !== o && G(t3(o)), this }, U.triangle = function (t, e, n, i, o, s, a) { return this.lines([[n - t, i - e], [o - n, s - i], [t - o, e - s]], t, e, [1, 1], a, !0), this }, U.roundedRect = function (t, e, n, i, o, s, a) { var c = 4 / 3 * (Math.SQRT2 - 1); return this.lines([[n - 2 * o, 0], [o * c, 0, o, s - s * c, o, s], [0, i - 2 * s], [0, s * c, -(o * c), s, -o, s], [-n + 2 * o, 0], [-(o * c), 0, -o, -(s * c), -o, -s], [0, -i + 2 * s], [0, -(s * c), o * c, -s, o, -s]], t + o, e, [1, 1], a), this }, U.ellipse = function (t, e, n, i, o) { var s = 4 / 3 * (Math.SQRT2 - 1) * n, a = 4 / 3 * (Math.SQRT2 - 1) * i; return G([X((t + n) * f), X((m - e) * f), "m", X((t + n) * f), X((m - (e - a)) * f), X((t + s) * f), X((m - (e - i)) * f), X(t * f), X((m - (e - i)) * f), "c"].join(" ")), G([X((t - s) * f), X((m - (e - i)) * f), X((t - n) * f), X((m - (e - a)) * f), X((t - n) * f), X((m - e) * f), "c"].join(" ")), G([X((t - n) * f), X((m - (e + a)) * f), X((t - s) * f), X((m - (e + i)) * f), X(t * f), X((m - (e + i)) * f), "c"].join(" ")), G([X((t + s) * f), X((m - (e + i)) * f), X((t + n) * f), X((m - (e + a)) * f), X((t + n) * f), X((m - e) * f), "c"].join(" ")), null !== o && G(t3(o)), this }, U.circle = function (t, e, n, i) { return this.ellipse(t, e, n, n, i) }, U.setProperties = function (t) { for (var e in W) W.hasOwnProperty(e) && t[e] && (W[e] = t[e]); return this }, U.setFontSize = function (t) { return q = t, this }, U.setFont = function (t, e) { return h = tm(t, e), this }, U.setFontStyle = U.setFontType = function (t) { return h = tm(void 0, t), this }, U.getFontList = function () { var t, e, n, i = {}; for (t in I) if (I.hasOwnProperty(t)) for (e in i[t] = n = [], I[t]) I[t].hasOwnProperty(e) && n.push(e); return i }, U.addFont = function (t, e, n) { t$(t, e, n, "StandardEncoding") }, U.setLineWidth = function (t) { return G((t * f).toFixed(2) + " w"), this }, U.setDrawColor = function (t, e, n, i) { var o; return o = void 0 === e || void 0 === i && t === e === n ? "string" == typeof t ? t + " G" : X(t / 255) + " G" : void 0 === i ? "string" == typeof t ? [t, e, n, "RG"].join(" ") : [X(t / 255), X(e / 255), X(n / 255), "RG"].join(" ") : "string" == typeof t ? [t, e, n, i, "K"].join(" ") : [X(t), X(e), X(n), X(i), "K"].join(" "), G(o), this }, U.setFillColor = function (e, n, i, o) { var s; return void 0 === n || void 0 === o && e === n === i ? s = "string" == typeof e ? e + " g" : X(e / 255) + " g" : void 0 === o || (void 0 === o ? "undefined" : t(o)) === "object" ? (s = "string" == typeof e ? [e, n, i, "rg"].join(" ") : [X(e / 255), X(n / 255), X(i / 255), "rg"].join(" "), o && 0 === o.a && (s = "255 255 255 rg")) : s = "string" == typeof e ? [e, n, i, o, "k"].join(" ") : [X(e), X(n), X(i), X(o), "k"].join(" "), G(s), this }, U.setTextColor = function (t, e, n) { if ("string" == typeof t && /^#[0-9A-Fa-f]{6}$/.test(t)) { var i = parseInt(t.substr(1), 16); t = i >> 16 & 255, e = i >> 8 & 255, n = 255 & i } return k = 0 === t && 0 === e && 0 === n || void 0 === e ? V(t / 255) + " g" : [V(t / 255), V(e / 255), V(n / 255), "rg"].join(" "), this }, U.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, U.setLineCap = function (t) { var e = this.CapJoinStyles[t]; if (void 0 === e) throw Error("Line cap style of '" + t + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return j = e, G(e + " J"), this }, U.setLineJoin = function (t) { var e = this.CapJoinStyles[t]; if (void 0 === e) throw Error("Line join style of '" + t + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return N = e, G(e + " j"), this }, U.output = t1, U.save = function (t) { U.output("save", t) }, o.API) o.API.hasOwnProperty(tv) && ("events" === tv && o.API.events.length ? function (t, e) { var n, i, o; for (o = e.length - 1; -1 !== o; o--)n = e[o][0], i = e[o][1], t.subscribe.apply(t, [n].concat("function" == typeof i ? [i] : i)) }(M, o.API.events) : U[tv] = o.API[tv]); return !function t() { for (var e = "helvetica", n = "times", i = "courier", o = "normal", s = "bold", a = "italic", c = "bolditalic", $ = [["Helvetica", e, o], ["Helvetica-Bold", e, s], ["Helvetica-Oblique", e, a], ["Helvetica-BoldOblique", e, c], ["Courier", i, o], ["Courier-Bold", i, s], ["Courier-Oblique", i, a], ["Courier-BoldOblique", i, c], ["Times-Roman", n, o], ["Times-Bold", n, s], ["Times-Italic", n, a], ["Times-BoldItalic", n, c], ["ZapfDingbats", "zapfdingbats"]], l = 0, u = $.length; l < u; l++) { var h = t$($[l][0], $[l][1], $[l][2], "StandardEncoding"), f = $[l][0].split("-"); tc(h, f[0], f[1] || "") } M.publish("addFonts", { fonts: E, dictionary: I }) }(), h = "F1", t_(c, s), M.publish("initialized"), U } return o.API = { events: [] }, o.version = "1.x-master", "function" == typeof define && define.amd ? define("jsPDF", function () { return o }) : "undefined" != typeof module && module.exports ? module.exports = o : e.jsPDF = o, o }("undefined" != typeof self && self || "undefined" != typeof window && window || void 0); (window.AcroForm = function (t) { var n = window.AcroForm; n.scale = function (t) { return t * (i.internal.scaleFactor / 1) }, n.antiScale = function (t) { return 1 / i.internal.scaleFactor * t }; var i = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: !1, internal: null }; e.API.acroformPlugin = i; var o = function t() { for (var e in this.acroformPlugin.acroFormDictionaryRoot.Fields) { var n = this.acroformPlugin.acroFormDictionaryRoot.Fields[e]; n.hasAnnotation && a.call(this, n) } }, s = function t() { if (this.acroformPlugin.acroFormDictionaryRoot) throw Error("Exception while creating AcroformDictionary"); this.acroformPlugin.acroFormDictionaryRoot = new n.AcroFormDictionary, this.acroformPlugin.internal = this.internal, this.acroformPlugin.acroFormDictionaryRoot._eventID = this.internal.events.subscribe("postPutResources", l), this.internal.events.subscribe("buildDocument", o), this.internal.events.subscribe("putCatalog", $), this.internal.events.subscribe("postPutPages", u) }, a = function t(n) { e.API.annotationPlugin.annotations[this.internal.getPageInfo(n.page).pageNumber].push({ type: "reference", object: n }) }, c = function t(e) { this.acroformPlugin.printedOut && (this.acroformPlugin.printedOut = !1, this.acroformPlugin.acroFormDictionaryRoot = null), this.acroformPlugin.acroFormDictionaryRoot || s.call(this), this.acroformPlugin.acroFormDictionaryRoot.Fields.push(e) }, $ = function t() { void 0 !== this.acroformPlugin.acroFormDictionaryRoot ? this.internal.write("/AcroForm " + this.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R") : console.log("Root missing...") }, l = function t() { this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID), delete this.acroformPlugin.acroFormDictionaryRoot._eventID, this.acroformPlugin.printedOut = !0 }, u = function t(e) { var i = !e; e || (this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId), this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString())); var e = e || this.acroformPlugin.acroFormDictionaryRoot.Kids; for (var o in e) { var s = e[o], a = s.Rect; s.Rect && (s.Rect = n.internal.calculateCoordinates.call(this, s.Rect)), this.internal.newObjectDeferredBegin(s.objId); var c = ""; if (c += s.objId + " 0 obj\n", c += "<<\n" + s.getContent(), s.Rect = a, s.hasAppearanceStream && !s.appearanceStreamContent) { var $ = n.internal.calculateAppearanceStream.call(this, s); c += "/AP << /N " + $ + " >>\n", this.acroformPlugin.xForms.push($) } if (s.appearanceStreamContent) { for (var l in c += "/AP << ", s.appearanceStreamContent) { var u = s.appearanceStreamContent[l]; if (c += "/" + l + " ", c += "<< ", Object.keys(u).length >= 1 || Array.isArray(u)) for (var o in u) { var f = u[o]; "function" == typeof f && (f = f.call(this, s)), c += "/" + o + " " + f + " ", this.acroformPlugin.xForms.indexOf(f) >= 0 || this.acroformPlugin.xForms.push(f) } else { var f = u; "function" == typeof f && (f = f.call(this, s)), c += "/" + o + " " + f + " \n", this.acroformPlugin.xForms.indexOf(f) >= 0 || this.acroformPlugin.xForms.push(f) } c += " >>\n" } c += ">>\n" } c += ">>\nendobj\n", this.internal.out(c) } i && h.call(this, this.acroformPlugin.xForms) }, h = function t(e) { for (var n in e) { var i = n, o = e[n]; this.internal.newObjectDeferredBegin(o && o.objId); var s = ""; s += o ? o.getString() : "", this.internal.out(s), delete e[i] } }; t.addField = function (t) { return t instanceof n.TextField ? d.call(this, t) : t instanceof n.ChoiceField ? p.call(this, t) : t instanceof n.Button ? f.call(this, t) : t instanceof n.ChildClass ? c.call(this, t) : t && c.call(this, t), t.page = this.acroformPlugin.internal.getCurrentPageInfo().pageNumber, this }; var f = function t(e) { var e = e || new n.Field; e.FT = "/Btn"; var i = e.Ff || 0; e.pushbutton && (i = n.internal.setBitPosition(i, 17), delete e.pushbutton), e.radio && (i = n.internal.setBitPosition(i, 16), delete e.radio), e.noToggleToOff && (i = n.internal.setBitPosition(i, 15)), e.Ff = i, c.call(this, e) }, d = function t(e) { var e = e || new n.Field; e.FT = "/Tx"; var i = e.Ff || 0; e.multiline && (i |= 4096), e.password && (i |= 8192), e.fileSelect && (i |= 1048576), e.doNotSpellCheck && (i |= 4194304), e.doNotScroll && (i |= 8388608), e.Ff = e.Ff || i, c.call(this, e) }, p = function t(e) { var i = e || new n.Field; i.FT = "/Ch"; var o = i.Ff || 0; i.combo && (o = n.internal.setBitPosition(o, 18), delete i.combo), i.edit && (o = n.internal.setBitPosition(o, 19), delete i.edit), i.sort && (o = n.internal.setBitPosition(o, 20), delete i.sort), i.multiSelect && this.internal.getPDFVersion() >= 1.4 && (o = n.internal.setBitPosition(o, 22), delete i.multiSelect), i.doNotSpellCheck && this.internal.getPDFVersion() >= 1.4 && (o = n.internal.setBitPosition(o, 23), delete i.doNotSpellCheck), i.Ff = o, c.call(this, i) } })(e.API); var n, i, o, s, a, c, $, l, u, h, f, d, p, _, m, x, w, y, v, k, C, q, S, T, A, P, F, E, I, B, R, O, D, z, L, j, N, H, W, U, M, X, V, Y, G, J, Q, K, Z, tt, te, tn, tr, ti, to, ts, ta, tc, t$, tl, tu, th, tf, td, tp, t_, t0, tg, tm, tx, t3, tw, ty, t1, tv, tb, t2, t5, t6, t4, tk, t8, t7, tC, tq, tS, tT, tA, tP = window.AcroForm; tP.internal = {}, tP.createFormXObject = function (t) { var e = new tP.FormXObject, n = tP.Appearance.internal.getHeight(t) || 0, i = tP.Appearance.internal.getWidth(t) || 0; return e.BBox = [0, 0, i, n], e }, tP.Appearance = { CheckBox: { createAppearanceStream: function t() { return { N: { On: tP.Appearance.CheckBox.YesNormal }, D: { On: tP.Appearance.CheckBox.YesPushDown, Off: tP.Appearance.CheckBox.OffPushDown } } }, createMK: function t() { return "<< /CA (3)>>" }, YesPushDown: function t(e) { var n = tP.createFormXObject(e), i = ""; e.Q = 1; var o = tP.internal.calculateX(e, "3", "ZapfDingbats", 50); return i += "0.749023 g\n             0 0 " + tP.Appearance.internal.getWidth(e) + " " + tP.Appearance.internal.getHeight(e) + " re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 " + o.fontSize + " Tf 0 g\n             BT\n", i += o.text, i += "ET\n             Q\n             EMC\n", n.stream = i, n }, YesNormal: function t(e) { var n = tP.createFormXObject(e), i = ""; e.Q = 1; var o = tP.internal.calculateX(e, "3", "ZapfDingbats", .9 * tP.Appearance.internal.getHeight(e)); return i += "1 g\n0 0 " + tP.Appearance.internal.getWidth(e) + " " + tP.Appearance.internal.getHeight(e) + " re\nf\nq\n0 0 1 rg\n0 0 " + (tP.Appearance.internal.getWidth(e) - 1) + " " + (tP.Appearance.internal.getHeight(e) - 1) + " re\nW\nn\n0 g\nBT\n/F13 " + o.fontSize + " Tf 0 g\n", i += o.text, i += "ET\n             Q\n", n.stream = i, n }, OffPushDown: function t(e) { var n = tP.createFormXObject(e), i = ""; return i += "0.749023 g\n            0 0 " + tP.Appearance.internal.getWidth(e) + " " + tP.Appearance.internal.getHeight(e) + " re\n            f\n", n.stream = i, n } }, RadioButton: { Circle: { createAppearanceStream: function t(e) { var n = { D: { Off: tP.Appearance.RadioButton.Circle.OffPushDown }, N: {} }; return n.N[e] = tP.Appearance.RadioButton.Circle.YesNormal, n.D[e] = tP.Appearance.RadioButton.Circle.YesPushDown, n }, createMK: function t() { return "<< /CA (l)>>" }, YesNormal: function t(e) { var n = tP.createFormXObject(e), i = "", o = tP.Appearance.internal.getWidth(e) <= tP.Appearance.internal.getHeight(e) ? tP.Appearance.internal.getWidth(e) / 4 : tP.Appearance.internal.getHeight(e) / 4; o *= .9; var s = tP.Appearance.internal.Bezier_C; return i += "q\n1 0 0 1 " + tP.Appearance.internal.getWidth(e) / 2 + " " + tP.Appearance.internal.getHeight(e) / 2 + " cm\n" + o + " 0 m\n" + o + " " + o * s + " " + o * s + " " + o + " 0 " + o + " c\n-" + o * s + " " + o + " -" + o + " " + o * s + " -" + o + " 0 c\n-" + o + " -" + o * s + " -" + o * s + " -" + o + " 0 -" + o + " c\n" + o * s + " -" + o + " " + o + " -" + o * s + " " + o + " 0 c\nf\nQ\n", n.stream = i, n }, YesPushDown: function t(e) { var n = tP.createFormXObject(e), i = "", o = tP.Appearance.internal.getWidth(e) <= tP.Appearance.internal.getHeight(e) ? tP.Appearance.internal.getWidth(e) / 4 : tP.Appearance.internal.getHeight(e) / 4, s = 2 * (o *= .9), a = s * tP.Appearance.internal.Bezier_C, c = o * tP.Appearance.internal.Bezier_C; return i += "0.749023 g\n            q\n           1 0 0 1 " + tP.Appearance.internal.getWidth(e) / 2 + " " + tP.Appearance.internal.getHeight(e) / 2 + " cm\n" + s + " 0 m\n" + s + " " + a + " " + a + " " + s + " 0 " + s + " c\n-" + a + " " + s + " -" + s + " " + a + " -" + s + " 0 c\n-" + s + " -" + a + " -" + a + " -" + s + " 0 -" + s + " c\n" + a + " -" + s + " " + s + " -" + a + " " + s + " 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 " + tP.Appearance.internal.getWidth(e) / 2 + " " + tP.Appearance.internal.getHeight(e) / 2 + " cm\n" + o + " 0 m\n" + o + " " + c + " " + c + " " + o + " 0 " + o + " c\n-" + c + " " + o + " -" + o + " " + c + " -" + o + " 0 c\n-" + o + " -" + c + " -" + c + " -" + o + " 0 -" + o + " c\n" + c + " -" + o + " " + o + " -" + c + " " + o + " 0 c\n            f\n            Q\n", n.stream = i, n }, OffPushDown: function t(e) { var n = tP.createFormXObject(e), i = "", o = tP.Appearance.internal.getWidth(e) <= tP.Appearance.internal.getHeight(e) ? tP.Appearance.internal.getWidth(e) / 4 : tP.Appearance.internal.getHeight(e) / 4, s = 2 * (o *= .9), a = s * tP.Appearance.internal.Bezier_C; return i += "0.749023 g\n            q\n 1 0 0 1 " + tP.Appearance.internal.getWidth(e) / 2 + " " + tP.Appearance.internal.getHeight(e) / 2 + " cm\n" + s + " 0 m\n" + s + " " + a + " " + a + " " + s + " 0 " + s + " c\n-" + a + " " + s + " -" + s + " " + a + " -" + s + " 0 c\n-" + s + " -" + a + " -" + a + " -" + s + " 0 -" + s + " c\n" + a + " -" + s + " " + s + " -" + a + " " + s + " 0 c\n            f\n            Q\n", n.stream = i, n } }, Cross: { createAppearanceStream: function t(e) { var n = { D: { Off: tP.Appearance.RadioButton.Cross.OffPushDown }, N: {} }; return n.N[e] = tP.Appearance.RadioButton.Cross.YesNormal, n.D[e] = tP.Appearance.RadioButton.Cross.YesPushDown, n }, createMK: function t() { return "<< /CA (8)>>" }, YesNormal: function t(e) { var n = tP.createFormXObject(e), i = "", o = tP.Appearance.internal.calculateCross(e); return i += "q\n            1 1 " + (tP.Appearance.internal.getWidth(e) - 2) + " " + (tP.Appearance.internal.getHeight(e) - 2) + " re\n            W\n            n\n            " + o.x1.x + " " + o.x1.y + " m\n            " + o.x2.x + " " + o.x2.y + " l\n            " + o.x4.x + " " + o.x4.y + " m\n            " + o.x3.x + " " + o.x3.y + " l\n            s\n            Q\n", n.stream = i, n }, YesPushDown: function t(e) { var n = tP.createFormXObject(e), i = tP.Appearance.internal.calculateCross(e), o = ""; return o += "0.749023 g\n            0 0 " + tP.Appearance.internal.getWidth(e) + " " + tP.Appearance.internal.getHeight(e) + " re\n            f\n            q\n            1 1 " + (tP.Appearance.internal.getWidth(e) - 2) + " " + (tP.Appearance.internal.getHeight(e) - 2) + " re\n            W\n            n\n            " + i.x1.x + " " + i.x1.y + " m\n            " + i.x2.x + " " + i.x2.y + " l\n            " + i.x4.x + " " + i.x4.y + " m\n            " + i.x3.x + " " + i.x3.y + " l\n            s\n            Q\n", n.stream = o, n }, OffPushDown: function t(e) { var n = tP.createFormXObject(e), i = ""; return i += "0.749023 g\n            0 0 " + tP.Appearance.internal.getWidth(e) + " " + tP.Appearance.internal.getHeight(e) + " re\n            f\n", n.stream = i, n } } }, createDefaultAppearanceStream: function t(e) { var n = ""; return n + "/Helv 0 Tf 0 g" } }, tP.Appearance.internal = { Bezier_C: .551915024494, calculateCross: function t(e) { var n, i, o = tP.Appearance.internal.getWidth(e), s = tP.Appearance.internal.getHeight(e), a = (n = o, i = s, n > i ? i : n); return { x1: { x: (o - a) / 2, y: (s - a) / 2 + a }, x2: { x: (o - a) / 2 + a, y: (s - a) / 2 }, x3: { x: (o - a) / 2, y: (s - a) / 2 }, x4: { x: (o - a) / 2 + a, y: (s - a) / 2 + a } } } }, tP.Appearance.internal.getWidth = function (t) { return t.Rect[2] }, tP.Appearance.internal.getHeight = function (t) { return t.Rect[3] }, tP.internal.inherit = function (t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t }, tP.internal.arrayToPdfArray = function (t) { if (Array.isArray(t)) { var e = " ["; for (var n in t) e += t[n].toString(), e += n < t.length - 1 ? " " : ""; return e + "]" } }, tP.internal.toPdfString = function (t) { return 0 !== (t = t || "").indexOf("(") && (t = "(" + t), ")" != t.substring(t.length - 1) && (t += "("), t }, tP.PDFObject = function () { var t; Object.defineProperty(this, "objId", { get: function n() { return !t && (this.internal ? t = this.internal.newObjectDeferred() : e.API.acroformPlugin.internal && (t = e.API.acroformPlugin.internal.newObjectDeferred())), t || console.log("Couldn't create Object ID"), t }, configurable: !1 }) }, tP.PDFObject.prototype.toString = function () { return this.objId + " 0 R" }, tP.PDFObject.prototype.getString = function () { var t = this.objId + " 0 obj\n<<"; return t += this.getContent() + ">>\n", this.stream && (t += "stream\n", t += this.stream, t += "endstream\n"), t += "endobj\n" }, tP.PDFObject.prototype.getContent = function () { var t = ""; return t + function t(e) { var n = "", i = Object.keys(e).filter(function (t) { return "content" != t && "appearanceStreamContent" != t && "_" != t.substring(0, 1) }); for (var o in i) { var s = i[o], a = e[s]; a && (Array.isArray(a) ? n += "/" + s + " " + tP.internal.arrayToPdfArray(a) + "\n" : a instanceof tP.PDFObject ? n += "/" + s + " " + a.objId + " 0 R\n" : n += "/" + s + " " + a + "\n") } return n }(this) }, tP.FormXObject = function () { var t; tP.PDFObject.call(this), this.Type = "/XObject", this.Subtype = "/Form", this.FormType = 1, this.BBox, this.Matrix, this.Resources = "2 0 R", this.PieceInfo, Object.defineProperty(this, "Length", { enumerable: !0, get: function e() { return void 0 !== t ? t.length : 0 } }), Object.defineProperty(this, "stream", { enumerable: !1, set: function e(n) { t = n }, get: function e() { return t || null } }) }, tP.internal.inherit(tP.FormXObject, tP.PDFObject), tP.AcroFormDictionary = function () { tP.PDFObject.call(this); var t = []; Object.defineProperty(this, "Kids", { enumerable: !1, configurable: !0, get: function e() { return t.length > 0 ? t : void 0 } }), Object.defineProperty(this, "Fields", { enumerable: !0, configurable: !0, get: function e() { return t } }), this.DA }, tP.internal.inherit(tP.AcroFormDictionary, tP.PDFObject), tP.Field = function () { tP.PDFObject.call(this), Object.defineProperty(this, "Rect", { enumerable: !0, configurable: !1, get: function e() { if (t) return t }, set: function e(n) { t = n } }); var t, e, n, i, o = ""; Object.defineProperty(this, "FT", { enumerable: !0, set: function t(e) { o = e }, get: function t() { return o } }), Object.defineProperty(this, "T", { enumerable: !0, configurable: !1, set: function t(n) { e = n }, get: function t() { if (!e || e.length < 1) { if (this instanceof tP.ChildClass) return; return "(FieldObject" + tP.Field.FieldNum++ + ")" } return "(" == e.substring(0, 1) && e.substring(e.length - 1) ? e : "(" + e + ")" } }), Object.defineProperty(this, "DA", { enumerable: !0, get: function t() { if (n) return "(" + n + ")" }, set: function t(e) { n = e } }), Object.defineProperty(this, "DV", { enumerable: !0, configurable: !0, get: function t() { if (i) return i }, set: function t(e) { i = e } }), Object.defineProperty(this, "Type", { enumerable: !0, get: function t() { return this.hasAnnotation ? "/Annot" : null } }), Object.defineProperty(this, "Subtype", { enumerable: !0, get: function t() { return this.hasAnnotation ? "/Widget" : null } }), this.BG, Object.defineProperty(this, "hasAnnotation", { enumerable: !1, get: function t() { return !!this.Rect || !!this.BC || !!this.BG } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !1, configurable: !0, writable: !0 }), Object.defineProperty(this, "page", { enumerable: !1, configurable: !0, writable: !0 }) }, tP.Field.FieldNum = 0, tP.internal.inherit(tP.Field, tP.PDFObject), tP.ChoiceField = function () { tP.Field.call(this), this.FT = "/Ch", this.Opt = [], this.V = "()", this.TI = 0, this.combo = !1, Object.defineProperty(this, "edit", { enumerable: !0, set: function t(e) { !0 == e ? (this._edit = !0, this.combo = !0) : this._edit = !1 }, get: function t() { return !!this._edit && this._edit }, configurable: !1 }), this.hasAppearanceStream = !0, Object.defineProperty(this, "V", { get: function t() { tP.internal.toPdfString() } }) }, tP.internal.inherit(tP.ChoiceField, tP.Field), window.ChoiceField = tP.ChoiceField, tP.ListBox = function () { tP.ChoiceField.call(this) }, tP.internal.inherit(tP.ListBox, tP.ChoiceField), window.ListBox = tP.ListBox, tP.ComboBox = function () { tP.ListBox.call(this), this.combo = !0 }, tP.internal.inherit(tP.ComboBox, tP.ListBox), window.ComboBox = tP.ComboBox, tP.EditBox = function () { tP.ComboBox.call(this), this.edit = !0 }, tP.internal.inherit(tP.EditBox, tP.ComboBox), window.EditBox = tP.EditBox, tP.Button = function () { tP.Field.call(this), this.FT = "/Btn" }, tP.internal.inherit(tP.Button, tP.Field), window.Button = tP.Button, tP.PushButton = function () { tP.Button.call(this), this.pushbutton = !0 }, tP.internal.inherit(tP.PushButton, tP.Button), window.PushButton = tP.PushButton, tP.RadioButton = function () { tP.Button.call(this), this.radio = !0; var t, e = []; Object.defineProperty(this, "Kids", { enumerable: !0, get: function t() { if (e.length > 0) return e } }), Object.defineProperty(this, "__Kids", { get: function t() { return e } }), Object.defineProperty(this, "noToggleToOff", { enumerable: !1, get: function e() { return t }, set: function e(n) { t = n } }) }, tP.internal.inherit(tP.RadioButton, tP.Button), window.RadioButton = tP.RadioButton, tP.ChildClass = function (t, e) { tP.Field.call(this), this.Parent = t, this._AppearanceType = tP.Appearance.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(e), this.F = tP.internal.setBitPosition(this.F, 3, 1), this.MK = this._AppearanceType.createMK(), this.AS = "/Off", this._Name = e }, tP.internal.inherit(tP.ChildClass, tP.Field), tP.RadioButton.prototype.setAppearance = function (t) { if (!("createAppearanceStream" in t && "createMK" in t)) { console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!"); return } for (var e in this.__Kids) { var n = this.__Kids[e]; n.appearanceStreamContent = t.createAppearanceStream(n._Name), n.MK = t.createMK() } }, tP.RadioButton.prototype.createOption = function (t) { this.__Kids.length; var n = new tP.ChildClass(this, t); return this.__Kids.push(n), e.API.addField(n), n }, tP.CheckBox = function () { Button.call(this), this.appearanceStreamContent = tP.Appearance.CheckBox.createAppearanceStream(), this.MK = tP.Appearance.CheckBox.createMK(), this.AS = "/On", this.V = "/On" }, tP.internal.inherit(tP.CheckBox, tP.Button), window.CheckBox = tP.CheckBox, tP.TextField = function () { tP.Field.call(this), this.DA = tP.Appearance.createDefaultAppearanceStream(), this.F = 4, Object.defineProperty(this, "V", { get: function e() { return t ? "(" + t + ")" : t }, enumerable: !0, set: function e(n) { t = n } }), Object.defineProperty(this, "DV", { get: function t() { return e ? "(" + e + ")" : e }, enumerable: !0, set: function t(n) { e = n } }); var t, e, n = !1; Object.defineProperty(this, "multiline", { enumerable: !1, get: function t() { return n }, set: function t(e) { n = e } }); var i = !1; Object.defineProperty(this, "MaxLen", { enumerable: !0, get: function t() { return i }, set: function t(e) { i = e } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !1, get: function t() { return this.V || this.DV } }) }, tP.internal.inherit(tP.TextField, tP.Field), window.TextField = tP.TextField, tP.PasswordField = function () { TextField.call(this), Object.defineProperty(this, "password", { value: !0, enumerable: !1, configurable: !1, writable: !1 }) }, tP.internal.inherit(tP.PasswordField, tP.TextField), window.PasswordField = tP.PasswordField, tP.internal.calculateFontSpace = function (t, e, n) { var n = n || "helvetica", i = tP.internal.calculateFontSpace.canvas || (tP.internal.calculateFontSpace.canvas = document.createElement("canvas")), o = i.getContext("2d"); o.save(); var s = e + " " + n; o.font = s; var a = o.measureText(t); o.fontcolor = "black"; var o = i.getContext("2d"); return a.height = 1.5 * o.measureText("3").width, o.restore(), a.width, a }, tP.internal.calculateX = function (t, e, n, i) { var i = i || 12, n = n || "helvetica", o = { text: "", fontSize: "" }, s = (e = ")" == (e = "(" == e.substr(0, 1) ? e.substr(1) : e).substr(e.length - 1) ? e.substr(0, e.length - 1) : e).split(" "), a = i, c = tP.Appearance.internal.getHeight(t) || 0; c = c < 0 ? -c : c; var $ = tP.Appearance.internal.getWidth(t) || 0; $ = $ < 0 ? -$ : $; var l = function t(e, i, o) { if (!(e + 1 < s.length)) return !1; var a, c = i + " " + s[e + 1]; return tP.internal.calculateFontSpace(c, o + "px", n).width <= $ - 4 }; a++; FontSize: for (; ;) { var e = ""; a--; var u = tP.internal.calculateFontSpace("3", a + "px", n).height, h = t.multiline ? c - a : (c - u) / 2, f = -2, d = f, p = h += 2, _ = 0, m = 0, x = 0, w = 0; if (0 == a) { a = 12, e = "(...) Tj\n", e += "% Width of Text: " + tP.internal.calculateFontSpace(e, "1px").width + ", FieldWidth:" + $ + "\n"; break } x = tP.internal.calculateFontSpace(s[0] + " ", a + "px", n).width; var y = "", v = 0; for (var k in s) { y += s[k] + " ", y = " " == y.substr(y.length - 1) ? y.substr(0, y.length - 1) : y; var C = parseInt(k); x = tP.internal.calculateFontSpace(y + " ", a + "px", n).width; var q = l(C, y, a), S = k >= s.length - 1; if (q && !S) { y += " "; continue } if (q || S) { if (S) m = C; else if (t.multiline && (u + 2) * (v + 2) + 2 > c) continue FontSize } else if (t.multiline) { if ((u + 2) * (v + 2) + 2 > c) continue FontSize; m = C } else continue FontSize; for (var T = "", A = _; A <= m; A++)T += s[A] + " "; switch (T = " " == T.substr(T.length - 1) ? T.substr(0, T.length - 1) : T, x = tP.internal.calculateFontSpace(T, a + "px", n).width, t.Q) { case 2: f = $ - x - 2; break; case 1: f = ($ - x) / 2; break; default: f = 2 }e += f + " " + p + " Td\n", e += "(" + T + ") Tj\n", e += -f + " 0 Td\n", p = -(a + 2), d = f, x = 0, _ = m + 1, v++, y = "" } break } return o.text = e, o.fontSize = a, o }, tP.internal.calculateAppearanceStream = function (t) { if (t.appearanceStreamContent) return t.appearanceStreamContent; if (t.V || t.DV) { var e = "", n = t.V || t.DV, i = tP.internal.calculateX(t, n); e += "/Tx BMC\nq\n/F1 " + i.fontSize + " Tf\n1 0 0 1 0 0 Tm\n", e += "BT\n", e += i.text, e += "ET\n", e += "Q\nEMC\n"; var o = new tP.createFormXObject(t); return o.stream = e, o } }, tP.internal.calculateCoordinates = function (t, e, n, i) { var o = {}; if (this.internal) { var s = function t(e) { return e * this.internal.scaleFactor }; Array.isArray(t) ? (t[0] = tP.scale(t[0]), t[1] = tP.scale(t[1]), t[2] = tP.scale(t[2]), t[3] = tP.scale(t[3]), o.lowerLeft_X = t[0] || 0, o.lowerLeft_Y = s.call(this, this.internal.pageSize.height) - t[3] - t[1] || 0, o.upperRight_X = t[0] + t[2] || 0, o.upperRight_Y = s.call(this, this.internal.pageSize.height) - t[1] || 0) : (t = tP.scale(t), e = tP.scale(e), n = tP.scale(n), i = tP.scale(i), o.lowerLeft_X = t || 0, o.lowerLeft_Y = this.internal.pageSize.height - e || 0, o.upperRight_X = t + n || 0, o.upperRight_Y = this.internal.pageSize.height - e + i || 0) } else Array.isArray(t) ? (o.lowerLeft_X = t[0] || 0, o.lowerLeft_Y = t[1] || 0, o.upperRight_X = t[0] + t[2] || 0, o.upperRight_Y = t[1] + t[3] || 0) : (o.lowerLeft_X = t || 0, o.lowerLeft_Y = e || 0, o.upperRight_X = t + n || 0, o.upperRight_Y = e + i || 0); return [o.lowerLeft_X, o.lowerLeft_Y, o.upperRight_X, o.upperRight_Y] }, tP.internal.calculateColor = function (t, e, n) { var i = [, , ,]; return i.r = 0 | t, i.g = 0 | e, i.b = 0 | n, i }, tP.internal.getBitPosition = function (t, e) { var n = 1; return (t = t || 0) | (n <<= e - 1) }, tP.internal.setBitPosition = function (t, e, n) { t = t || 0, n = n || 1; var i = 1; if (i <<= e - 1, 1 == n) var t = t | i; else var t = t & ~i; return t }, (n = e.API).addHTML = function (t, e, n, i, o) { if ("undefined" == typeof html2canvas && "undefined" == typeof rasterizeHTML) throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js"); "number" != typeof e && (i = e, o = n), "function" == typeof i && (o = i, i = null); var s = this.internal, a = s.scaleFactor, c = s.pageSize.width, $ = s.pageSize.height; if ((i = i || {}).onrendered = (function (t) { e = parseInt(e) || 0, n = parseInt(n) || 0; var s = i.dim || {}, l = s.h || 0, u = s.w || Math.min(c, t.width / a) - e, h = "JPEG"; if (i.format && (h = i.format), t.height > $ && i.pagesplit) { var f = (function () { for (var i = 0; ;) { var s = document.createElement("canvas"); s.width = Math.min(c * a, t.width), s.height = Math.min($ * a, t.height - i), s.getContext("2d").drawImage(t, 0, i, t.width, s.height, 0, 0, s.width, s.height); var l = [s, e, i ? 0 : n, s.width / a, s.height / a, h, null, "SLOW"]; if (this.addImage.apply(this, l), (i += s.height) >= t.height) break; this.addPage() } o(u, i, null, l) }).bind(this); if ("CANVAS" === t.nodeName) { var d = new Image; d.onload = f, d.src = t.toDataURL("image/png"), t = d } else f() } else { var p = Math.random().toString(35), _ = [t, e, n, u, l, h, p, "SLOW"]; this.addImage.apply(this, _), o(u, l, p, _) } }).bind(this), "undefined" != typeof html2canvas && !i.rstz) return html2canvas(t, i); if ("undefined" != typeof rasterizeHTML) { var l = "drawDocument"; return "string" == typeof t && (l = /^http/.test(t) ? "drawURL" : "drawHTML"), i.width = i.width || c * a, rasterizeHTML[l](t, void 0, i).then(function (t) { i.onrendered(t.image) }, function (t) { o(null, t) }) } return null }, i = e.API, o = "addImage_", s = ["jpeg", "jpg", "png"], a = function t(e) { var n = this.internal.newObject(), i = this.internal.write, o = this.internal.putStream; if (e.n = n, i("<</Type /XObject"), i("/Subtype /Image"), i("/Width " + e.w), i("/Height " + e.h), e.cs === this.color_spaces.INDEXED ? i("/ColorSpace [/Indexed /DeviceRGB " + (e.pal.length / 3 - 1) + " " + ("smask" in e ? n + 2 : n + 1) + " 0 R]") : (i("/ColorSpace /" + e.cs), e.cs === this.color_spaces.DEVICE_CMYK && i("/Decode [1 0 1 0 1 0 1 0]")), i("/BitsPerComponent " + e.bpc), "f" in e && i("/Filter /" + e.f), "dp" in e && i("/DecodeParms <<" + e.dp + ">>"), "trns" in e && e.trns.constructor == Array) { for (var s = "", a = 0, c = e.trns.length; a < c; a++)s += e.trns[a] + " " + e.trns[a] + " "; i("/Mask [" + s + "]") } if ("smask" in e && i("/SMask " + (n + 1) + " 0 R"), i("/Length " + e.data.length + ">>"), o(e.data), i("endobj"), "smask" in e) { var $ = "/Predictor " + e.p + " /Colors 1 /BitsPerComponent " + e.bpc + " /Columns " + e.w, l = { w: e.w, h: e.h, cs: "DeviceGray", bpc: e.bpc, dp: $, data: e.smask }; "f" in e && (l.f = e.f), t.call(this, l) } e.cs === this.color_spaces.INDEXED && (this.internal.newObject(), i("<< /Length " + e.pal.length + ">>"), o(this.arrayBufferToBinaryString(new Uint8Array(e.pal))), i("endobj")) }, c = function t() { var e = this.internal.collections[o + "images"]; for (var n in e) a.call(this, e[n]) }, $ = function t() { var e, n = this.internal.collections[o + "images"], i = this.internal.write; for (var s in n) i("/I" + (e = n[s]).i, e.n, "0", "R") }, l = function t() { var e = this.internal.collections[o + "images"]; return e || (this.internal.collections[o + "images"] = e = {}, this.internal.events.subscribe("putResources", c), this.internal.events.subscribe("putXobjectDict", $)), e }, u = function t(e) { var n = 0; return e && (n = Object.keys ? Object.keys(e).length : function (t) { var e = 0; for (var n in t) t.hasOwnProperty(n) && e++; return e }(e)), n }, h = function e(n) { return (void 0 === n ? "undefined" : t(n)) === "object" && 1 === n.nodeType }, f = function e(n, i, o) { if ("IMG" === n.nodeName && n.hasAttribute("src")) { var s = "" + n.getAttribute("src"); if (!o && 0 === s.indexOf("data:image/")) return s; !i && /\.png(?:[?#].*)?$/i.test(s) && (i = "png") } if ("CANVAS" === n.nodeName) var a = n; else { var c, $, l, u, h, f, d, p, a = document.createElement("canvas"); a.width = n.clientWidth || n.width, a.height = n.clientHeight || n.height; var _ = a.getContext("2d"); if (!_) throw "addImage requires canvas to be supported by browser."; o ? ((void 0 === o ? "undefined" : t(o)) === "object" && (c = o.x, $ = o.y, l = o.bg, o = o.angle), u = Math.abs(Math.cos(p = o * (Math.PI / 180))), h = Math.abs(Math.sin(p)), f = a.width, d = a.height, a.width = d * h + f * u, a.height = d * u + f * h, isNaN(c) && (c = a.width / 2), isNaN($) && ($ = a.height / 2), _.clearRect(0, 0, a.width, a.height), _.fillStyle = l || "white", _.fillRect(0, 0, a.width, a.height), _.save(), _.translate(c, $), _.rotate(p), _.drawImage(n, -(f / 2), -(d / 2)), _.rotate(-p), _.translate(-c, -$), _.restore()) : _.drawImage(n, 0, 0, a.width, a.height) } return a.toDataURL("png" == ("" + i).toLowerCase() ? "image/png" : "image/jpeg") }, d = function t(e, n) { var i; if (n) { for (var o in n) if (e === n[o].alias) { i = n[o]; break } } return i }, p = function t(e, n, i) { return e || n || (e = -96, n = -96), e < 0 && (e = -1 * i.w * 72 / e / this.internal.scaleFactor), n < 0 && (n = -1 * i.h * 72 / n / this.internal.scaleFactor), 0 === e && (e = n * i.w / i.h), 0 === n && (n = e * i.h / i.w), [e, n] }, _ = function t(e, n, i, o, s, a, c) { var $ = p.call(this, i, o, s), l = this.internal.getCoordinateString, u = this.internal.getVerticalCoordinateString; i = $[0], o = $[1], c[a] = s, this.internal.write("q", l(i), "0 0", l(o), l(e), u(n + o), "cm /I" + s.i, "Do Q") }, i.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" }, i.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" }, i.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, i.sHashCode = function (t) { return Array.prototype.reduce && t.split("").reduce(function (t, e) { return (t = (t << 5) - t + e.charCodeAt(0)) & t }, 0) }, i.isString = function (t) { return "string" == typeof t }, i.extractInfoFromBase64DataURI = function (t) { return /^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t) }, i.supportsArrayBuffer = function () { return "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array }, i.isArrayBuffer = function (t) { return !!this.supportsArrayBuffer() && t instanceof ArrayBuffer }, i.isArrayBufferView = function (t) { return !!this.supportsArrayBuffer() && "undefined" != typeof Uint32Array && (t instanceof Int8Array || t instanceof Uint8Array || "undefined" != typeof Uint8ClampedArray && t instanceof Uint8ClampedArray || t instanceof Int16Array || t instanceof Uint16Array || t instanceof Int32Array || t instanceof Uint32Array || t instanceof Float32Array || t instanceof Float64Array) }, i.binaryStringToUint8Array = function (t) { for (var e = t.length, n = new Uint8Array(e), i = 0; i < e; i++)n[i] = t.charCodeAt(i); return n }, i.arrayBufferToBinaryString = function (t) { this.isArrayBuffer(t) && (t = new Uint8Array(t)); for (var e = "", n = t.byteLength, i = 0; i < n; i++)e += String.fromCharCode(t[i]); return e }, i.arrayBufferToBase64 = function (t) { for (var e, n, i, o, s, a = "", c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", $ = new Uint8Array(t), l = $.byteLength, u = l % 3, h = l - u, f = 0; f < h; f += 3)e = (16515072 & (s = $[f] << 16 | $[f + 1] << 8 | $[f + 2])) >> 18, n = (258048 & s) >> 12, i = (4032 & s) >> 6, a += c[e] + c[n] + c[i] + c[o = 63 & s]; return 1 == u ? (e = (252 & (s = $[h])) >> 2, a += c[e] + c[n = (3 & s) << 4] + "==") : 2 == u && (e = (64512 & (s = $[h] << 8 | $[h + 1])) >> 10, n = (1008 & s) >> 4, a += c[e] + c[n] + c[i = (15 & s) << 2] + "="), a }, i.createImageInfo = function (t, e, n, i, o, s, a, c, $, l, u, h, f) { var d = { alias: c, w: e, h: n, cs: i, bpc: o, i: a, data: t }; return s && (d.f = s), $ && (d.dp = $), l && (d.trns = l), u && (d.pal = u), h && (d.smask = h), f && (d.p = f), d }, i.addImage = function (e, n, o, a, c, $, p, m, x) { if ("string" != typeof n) { var w, y = $; $ = c, c = a, a = o, o = n, n = y } if ((void 0 === e ? "undefined" : t(e)) === "object" && !h(e) && "imageData" in e) { var v = e; e = v.imageData, n = v.format || n, o = v.x || o || 0, a = v.y || a || 0, c = v.w || c, $ = v.h || $, p = v.alias || p, m = v.compression || m, x = v.rotation || v.angle || x } if (isNaN(o) || isNaN(a)) throw console.error("jsPDF.addImage: Invalid coordinates", arguments), Error("Invalid coordinates passed to jsPDF.addImage"); var k, C = l.call(this); if (!(k = d(e, C)) && (h(e) && (e = f(e, n, x)), null == (q = p) && (p = "string" == typeof (S = e) && i.sHashCode(S)), !(k = d(p, C)))) { if (this.isString(e)) { var q, S, T, A, P, F = this.extractInfoFromBase64DataURI(e); F ? (n = F[2], e = atob(F[3])) : 137 === e.charCodeAt(0) && 80 === e.charCodeAt(1) && 78 === e.charCodeAt(2) && 71 === e.charCodeAt(3) && (n = "png") } if (T = n = (n || "JPEG").toLowerCase(), -1 === s.indexOf(T)) throw Error("addImage currently only supports formats " + s + ", not '" + n + "'"); if ("function" != typeof i["process" + (A = n).toUpperCase()]) throw Error("please ensure that the plugin for '" + n + "' support is added"); if (!this.supportsArrayBuffer() || e instanceof Uint8Array || (w = e, e = this.binaryStringToUint8Array(e)), !(k = this["process" + n.toUpperCase()](e, u(C), p, ((P = m) && "string" == typeof P && (P = P.toUpperCase()), P in i.image_compression ? P : i.image_compression.NONE), w))) throw Error("An unkwown error occurred whilst processing the image") } return _.call(this, o, a, c, $, k, k.i, C), this }, m = function t(e) { e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3), e.charCodeAt(6), e.charCodeAt(7), e.charCodeAt(8), e.charCodeAt(9), e.charCodeAt(10); for (var n, i, o, s = 256 * e.charCodeAt(4) + e.charCodeAt(5), a = 4, c = e.length; a < c;) { if (a += s, 255 !== e.charCodeAt(a)) throw Error("getJpegSize could not find the size of the image"); if (192 === e.charCodeAt(a + 1) || 193 === e.charCodeAt(a + 1) || 194 === e.charCodeAt(a + 1) || 195 === e.charCodeAt(a + 1) || 196 === e.charCodeAt(a + 1) || 197 === e.charCodeAt(a + 1) || 198 === e.charCodeAt(a + 1) || 199 === e.charCodeAt(a + 1)) return i = 256 * e.charCodeAt(a + 5) + e.charCodeAt(a + 6), [n = 256 * e.charCodeAt(a + 7) + e.charCodeAt(a + 8), i, o = e.charCodeAt(a + 9)]; a += 2, s = 256 * e.charCodeAt(a) + e.charCodeAt(a + 1) } }, x = function t(e) { if (65496 != (e[0] << 8 | e[1])) throw Error("Supplied data is not a JPEG"); for (var n, i, o, s, a = e.length, c = (e[4] << 8) + e[5], $ = 4; $ < a;) { if ($ += c, c = ((n = w(e, $))[2] << 8) + n[3], (192 === n[1] || 194 === n[1]) && 255 === n[0] && c > 7) return i = ((n = w(e, $ + 5))[2] << 8) + n[3], { width: i, height: o = (n[0] << 8) + n[1], numcomponents: s = n[4] }; $ += 2 } throw Error("getJpegSizeFromBytes could not find the size of the image") }, w = function t(e, n) { return e.subarray(n, n + 5) }, i.processJPEG = function (t, e, n, i, o) { var s, a = this.color_spaces.DEVICE_RGB, c = this.decode.DCT_DECODE; return this.isString(t) ? (s = m(t), this.createImageInfo(t, s[0], s[1], 1 == s[3] ? this.color_spaces.DEVICE_GRAY : a, 8, c, e, n)) : (this.isArrayBuffer(t) && (t = new Uint8Array(t)), this.isArrayBufferView(t)) ? (s = x(t), t = o || this.arrayBufferToBinaryString(t), this.createImageInfo(t, s.width, s.height, 1 == s.numcomponents ? this.color_spaces.DEVICE_GRAY : a, 8, c, e, n)) : null }, i.processJPG = function () { return this.processJPEG.apply(this, arguments) }, y = e.API, v = { annotations: [], f2: function t(e) { return e.toFixed(2) }, notEmpty: function t(e) { if (void 0 !== e && "" != e) return !0 } }, e.API.annotationPlugin = v, e.API.events.push(["addPage", function (t) { this.annotationPlugin.annotations[t.pageNumber] = [] }]), y.events.push(["putPage", function (t) { for (var e = this.annotationPlugin.annotations[t.pageNumber], n = !1, i = 0; i < e.length && !n; i++) { var o = e[i]; switch (o.type) { case "link": if (v.notEmpty(o.options.url) || v.notEmpty(o.options.pageNumber)) { n = !0; break } case "reference": case "text": case "freetext": n = !0 } } if (!1 != n) { this.internal.write("/Annots ["); for (var s = this.annotationPlugin.f2, a = this.internal.scaleFactor, c = this.internal.pageSize.height, $ = this.internal.getPageInfo(t.pageNumber), i = 0; i < e.length; i++) { var o = e[i]; switch (o.type) { case "reference": this.internal.write(" " + o.object.objId + " 0 R "); break; case "text": var l = this.internal.newAdditionalObject(), u = this.internal.newAdditionalObject(), h = o.title || "Note", f = "/Rect [" + s(o.bounds.x * a) + " " + s(c - (o.bounds.y + o.bounds.h) * a) + " " + s((o.bounds.x + o.bounds.w) * a) + " " + s((c - o.bounds.y) * a) + "] "; m = "<</Type /Annot /Subtype /Text " + f + "/Contents (" + o.contents + ")", m += " /Popup " + u.objId + " 0 R", m += " /P " + $.objId + " 0 R", m += " /T (" + h + ") >>", l.content = m; var d = l.objId + " 0 R", f = "/Rect [" + s((o.bounds.x + 30) * a) + " " + s(c - (o.bounds.y + o.bounds.h) * a) + " " + s((o.bounds.x + o.bounds.w + 30) * a) + " " + s((c - o.bounds.y) * a) + "] "; m = "<</Type /Annot /Subtype /Popup " + f + " /Parent " + d, o.open && (m += " /Open true"), m += " >>", u.content = m, this.internal.write(l.objId, "0 R", u.objId, "0 R"); break; case "freetext": var f = "/Rect [" + s(o.bounds.x * a) + " " + s((c - o.bounds.y) * a) + " " + s(o.bounds.x + o.bounds.w * a) + " " + s(c - (o.bounds.y + o.bounds.h) * a) + "] ", p = o.color || "#000000"; m = "<</Type /Annot /Subtype /FreeText " + f + "/Contents (" + o.contents + ")", m += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + p + ")", m += " /Border [0 0 0]", m += " >>", this.internal.write(m); break; case "link": if (o.options.name) { var _ = this.annotations._nameMap[o.options.name]; o.options.pageNumber = _.page, o.options.top = _.y } else o.options.top || (o.options.top = 0); var f = "/Rect [" + s(o.x * a) + " " + s((c - o.y) * a) + " " + s(o.x + o.w * a) + " " + s(c - (o.y + o.h) * a) + "] ", m = ""; if (o.options.url) m = "<</Type /Annot /Subtype /Link " + f + "/Border [0 0 0] /A <</S /URI /URI (" + o.options.url + ") >>"; else if (o.options.pageNumber) { var t = this.internal.getPageInfo(o.options.pageNumber); switch (m = "<</Type /Annot /Subtype /Link " + f + "/Border [0 0 0] /Dest [" + t.objId + " 0 R", o.options.magFactor = o.options.magFactor || "XYZ", o.options.magFactor) { case "Fit": m += " /Fit]"; break; case "FitH": m += " /FitH " + o.options.top + "]"; break; case "FitV": o.options.left = o.options.left || 0, m += " /FitV " + o.options.left + "]"; break; default: var x = s((c - o.options.top) * a); o.options.left = o.options.left || 0, void 0 === o.options.zoom && (o.options.zoom = 0), m += " /XYZ " + o.options.left + " " + x + " " + o.options.zoom + "]" } } "" != m && (m += " >>", this.internal.write(m)) } } this.internal.write("]") } }]), y.createAnnotation = function (t) { switch (t.type) { case "link": this.link(t.bounds.x, t.bounds.y, t.bounds.w, t.bounds.h, t); break; case "text": case "freetext": this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(t) } }, y.link = function (t, e, n, i, o) { this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({ x: t, y: e, w: n, h: i, options: o, type: "link" }) }, y.link = function (t, e, n, i, o) { this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({ x: t, y: e, w: n, h: i, options: o, type: "link" }) }, y.textWithLink = function (t, e, n, i) { var o = this.getTextWidth(t), s = this.internal.getLineHeight(); return this.text(t, e, n), n += .2 * s, this.link(e, n - s, o, s, i), o }, y.getTextWidth = function (t) { var e = this.internal.getFontSize(); return this.getStringUnitWidth(t) * e / this.internal.scaleFactor }, y.getLineHeight = function () { return this.internal.getLineHeight() }, (k = e.API).autoPrint = function () { var t; return this.internal.events.subscribe("postPutResources", function () { t = this.internal.newObject(), this.internal.write("<< /S/Named /Type/Action /N/Print >>", "endobj") }), this.internal.events.subscribe("putCatalog", function () { this.internal.write("/OpenAction " + t + " 0 R") }), this }, (C = e.API).events.push(["initialized", function () { this.canvas.pdf = this }]), C.canvas = { getContext: function t(e) { return this.pdf.context2d._canvas = this, this.pdf.context2d }, style: {} }, Object.defineProperty(C.canvas, "width", { get: function t() { return this._width }, set: function t(e) { this._width = e, this.getContext("2d").pageWrapX = e + 1 } }), Object.defineProperty(C.canvas, "height", { get: function t() { return this._height }, set: function t(e) { this._height = e, this.getContext("2d").pageWrapY = e + 1 } }), q = e.API, F = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 }, E = 1, I = function t(e, n, i, o, s) { F = { x: e, y: n, w: i, h: o, ln: s } }, B = function t() { return F }, R = { left: 0, top: 0, bottom: 0 }, q.setHeaderFunction = function (t) { P = t }, q.getTextDimensions = function (t) { var e, n; S = this.internal.getFont().fontName, T = this.table_font_size || this.internal.getFontSize(), A = this.internal.getFont().fontStyle, (n = document.createElement("font")).id = "jsPDFCell"; try { n.style.fontStyle = A } catch (i) { n.style.fontWeight = A } n.style.fontName = S, n.style.fontSize = T + "pt"; try { n.textContent = t } catch (o) { n.innerText = t } return document.body.appendChild(n), e = { w: (n.offsetWidth + 1) * .7499990551181103, h: (n.offsetHeight + 1) * .7499990551181103 }, document.body.removeChild(n), e }, q.cellAddPage = function () { var t = this.margins || R; this.addPage(), I(t.left, t.top, void 0, void 0), E += 1 }, q.cellInitialize = function () { F = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 }, E = 1 }, q.cell = function (t, e, n, i, o, s, a) { var c = B(), $ = !1; if (void 0 !== c.ln) { if (c.ln === s) t = c.x + c.w, e = c.y; else { var l = this.margins || R; c.y + c.h + i + 13 >= this.internal.pageSize.height - l.bottom && (this.cellAddPage(), $ = !0, this.printHeaders && this.tableHeaderRow && this.printHeaderRow(s, !0)), e = B().y + B().h, $ && (e = 23) } } if (void 0 !== o[0]) { if (this.printingHeaderRow ? this.rect(t, e, n, i, "FD") : this.rect(t, e, n, i), "right" === a) { o instanceof Array || (o = [o]); for (var u = 0; u < o.length; u++) { var h = o[u], f = this.getStringUnitWidth(h) * this.internal.getFontSize(); this.text(h, t + n - f - 3, e + this.internal.getLineHeight() * (u + 1)) } } else this.text(o, t + 3, e + this.internal.getLineHeight()) } return I(t, e, n, i, s), this }, q.arrayMax = function (t, e) { var n, i, o, s = t[0]; for (n = 0, i = t.length; n < i; n += 1)o = t[n], e ? -1 === e(s, o) && (s = o) : o > s && (s = o); return s }, q.table = function (t, e, n, i, o) { if (!n) throw "No data for PDF table"; var s, a, c, $, l, u, h, f, d, p, _, m = [], x = [], w = {}, y = {}, v = [], k = [], C = !1, S = !0, T = 12, A = R; if (A.width = this.internal.pageSize.width, o && (!0 === o.autoSize && (C = !0), !1 === o.printHeaders && (S = !1), o.fontSize && (T = o.fontSize), o.css && void 0 !== o.css["font-size"] && (T = 16 * o.css["font-size"]), o.margins && (A = o.margins)), this.lnMod = 0, F = { x: void 0, y: void 0, w: void 0, h: void 0, ln: void 0 }, E = 1, this.printHeaders = S, this.margins = A, this.setFontSize(T), this.table_font_size = T, null == i) m = Object.keys(n[0]); else if (i[0] && "string" != typeof i[0]) for (c = 0, $ = i.length; c < $; c += 1)a = i[c], m.push(a.name), x.push(a.prompt), y[a.name] = .7499990551181103 * a.width; else m = i; if (C) for (c = 0, _ = function t(e) { return e[a] }, $ = m.length; c < $; c += 1) { for (w[a = m[c]] = n.map(_), v.push(this.getTextDimensions(x[c] || a).w), h = w[a], f = 0, l = h.length; f < l; f += 1)u = h[f], v.push(this.getTextDimensions(u).w); y[a] = q.arrayMax(v), v = [] } if (S) { var s = this.calculateLineHeight(m, y, x.length ? x : m); for (c = 0, $ = m.length; c < $; c += 1)a = m[c], k.push([t, e, y[a], s, String(x.length ? x[c] : a)]); this.setTableHeaderRow(k), this.printHeaderRow(1, !1) } for (c = 0, $ = n.length; c < $; c += 1)for (f = 0, d = n[c], s = this.calculateLineHeight(m, y, d), p = m.length; f < p; f += 1)a = m[f], this.cell(t, e, y[a], s, d[a], c + 2, a.align); return this.lastCellPos = F, this.table_x = t, this.table_y = e, this }, q.calculateLineHeight = function (t, e, n) { for (var i, o = 0, s = 0; s < t.length; s++) { n[i = t[s]] = this.splitTextToSize(String(n[i]), e[i] - 3); var a = this.internal.getLineHeight() * n[i].length + 3; a > o && (o = a) } return o }, q.setTableHeaderRow = function (t) { this.tableHeaderRow = t }, q.printHeaderRow = function (t, e) { if (!this.tableHeaderRow) throw "Property tableHeaderRow does not exist."; if (this.printingHeaderRow = !0, void 0 !== P) { var n, i, o, s, a = P(this, E); I(a[0], a[1], a[2], a[3], -1) } this.setFontStyle("bold"); var c = []; for (o = 0, s = this.tableHeaderRow.length; o < s; o += 1)this.setFillColor(200, 200, 200), n = this.tableHeaderRow[o], e && (this.margins.top = 13, n[1] = this.margins && this.margins.top || 0, c.push(n)), i = [].concat(n), this.cell.apply(this, i.concat(t)); c.length > 0 && this.setTableHeaderRow(c), this.setFontStyle("normal"), this.printingHeaderRow = !1 }, function (t) { t.events.push(["initialized", function () { this.context2d.pdf = this, this.context2d.internal.pdf = this, this.context2d.ctx = new n, this.context2d.ctxStack = [], this.context2d.path = [] }]), t.context2d = { pageWrapXEnabled: !1, pageWrapYEnabled: !1, pageWrapX: 9999999, pageWrapY: 9999999, ctx: new n, f2: function t(e) { return e.toFixed(2) }, fillRect: function t(e, n, i, o) { if (!this._isFillTransparent()) { e = this._wrapX(e), n = this._wrapY(n); var s = this._matrix_map_rect(this.ctx._transform, { x: e, y: n, w: i, h: o }); this.pdf.rect(s.x, s.y, s.w, s.h, "f") } }, strokeRect: function t(e, n, i, o) { if (!this._isStrokeTransparent()) { e = this._wrapX(e), n = this._wrapY(n); var s = this._matrix_map_rect(this.ctx._transform, { x: e, y: n, w: i, h: o }); this.pdf.rect(s.x, s.y, s.w, s.h, "s") } }, clearRect: function t(e, n, i, o) { if (!this.ctx.ignoreClearRect) { e = this._wrapX(e), n = this._wrapY(n); var s = this._matrix_map_rect(this.ctx._transform, { x: e, y: n, w: i, h: o }); this.save(), this.setFillStyle("#ffffff"), this.pdf.rect(s.x, s.y, s.w, s.h, "f"), this.restore() } }, save: function t() { this.ctx._fontSize = this.pdf.internal.getFontSize(); var e = new n; e.copy(this.ctx), this.ctxStack.push(this.ctx), this.ctx = e }, restore: function t() { this.ctx = this.ctxStack.pop(), this.setFillStyle(this.ctx.fillStyle), this.setStrokeStyle(this.ctx.strokeStyle), this.setFont(this.ctx.font), this.pdf.setFontSize(this.ctx._fontSize), this.setLineCap(this.ctx.lineCap), this.setLineWidth(this.ctx.lineWidth), this.setLineJoin(this.ctx.lineJoin) }, rect: function t(e, n, i, o) { this.moveTo(e, n), this.lineTo(e + i, n), this.lineTo(e + i, n + o), this.lineTo(e, n + o), this.lineTo(e, n), this.closePath() }, beginPath: function t() { this.path = [] }, closePath: function t() { this.path.push({ type: "close" }) }, _getRgba: function t(e) { var n = {}; if (this.internal.rxTransparent.test(e)) n.r = 0, n.g = 0, n.b = 0, n.a = 0; else { var i = this.internal.rxRgb.exec(e); null != i ? (n.r = parseInt(i[1]), n.g = parseInt(i[2]), n.b = parseInt(i[3]), n.a = 1) : null != (i = this.internal.rxRgba.exec(e)) ? (n.r = parseInt(i[1]), n.g = parseInt(i[2]), n.b = parseInt(i[3]), n.a = parseFloat(i[4])) : (n.a = 1, "#" == e.charAt(0) || (e = tB.colorNameToHex(e)) || (e = "#000000"), 4 === e.length ? (n.r = e.substring(1, 2), n.r += r, n.g = e.substring(2, 3), n.g += g, n.b = e.substring(3, 4), n.b += b) : (n.r = e.substring(1, 3), n.g = e.substring(3, 5), n.b = e.substring(5, 7)), n.r = parseInt(n.r, 16), n.g = parseInt(n.g, 16), n.b = parseInt(n.b, 16)) } return n.style = e, n }, setFillStyle: function t(e) { var n, i, o, s; if (this.internal.rxTransparent.test(e)) n = 0, i = 0, o = 0, s = 0; else { var a = this.internal.rxRgb.exec(e); null != a ? (n = parseInt(a[1]), i = parseInt(a[2]), o = parseInt(a[3]), s = 1) : null != (a = this.internal.rxRgba.exec(e)) ? (n = parseInt(a[1]), i = parseInt(a[2]), o = parseInt(a[3]), s = parseFloat(a[4])) : (s = 1, "#" == e.charAt(0) || (e = tB.colorNameToHex(e)) || (e = "#000000"), 4 === e.length ? (n = e.substring(1, 2), n += n, i = e.substring(2, 3), i += i, o = e.substring(3, 4), o += o) : (n = e.substring(1, 3), i = e.substring(3, 5), o = e.substring(5, 7)), n = parseInt(n, 16), i = parseInt(i, 16), o = parseInt(o, 16)) } this.ctx.fillStyle = e, this.ctx._isFillTransparent = 0 == s, this.ctx._fillOpacity = s, this.pdf.setFillColor(n, i, o, { a: s }), this.pdf.setTextColor(n, i, o, { a: s }) }, setStrokeStyle: function t(e) { var n = this._getRgba(e); this.ctx.strokeStyle = n.style, this.ctx._isStrokeTransparent = 0 == n.a, this.ctx._strokeOpacity = n.a, 0 === n.a ? this.pdf.setDrawColor(255, 255, 255) : (n.a, this.pdf.setDrawColor(n.r, n.g, n.b)) }, fillText: function t(e, n, i, o) { if (!this._isFillTransparent()) { n = this._wrapX(n), i = this._wrapY(i); var s, a = this._matrix_map_point(this.ctx._transform, [n, i]); n = a[0], i = a[1]; var c = 57.2958 * this._matrix_rotation(this.ctx._transform); if (this.ctx._clip_path.length > 0) { ($ = window.outIntercept ? "group" === window.outIntercept.type ? window.outIntercept.stream : window.outIntercept : this.internal.getCurrentPage()).push("q"); var $, l = this.path; this.path = this.ctx._clip_path, this.ctx._clip_path = [], this._fill(null, !0), this.ctx._clip_path = this.path, this.path = l } if ((s = this.pdf.hotfix && this.pdf.hotfix.scale_text ? this._getTransform()[0] : 1) < .01) this.pdf.text(e, n, this._getBaseline(i), null, c); else { var u = this.pdf.internal.getFontSize(); this.pdf.setFontSize(u * s), this.pdf.text(e, n, this._getBaseline(i), null, c), this.pdf.setFontSize(u) } this.ctx._clip_path.length > 0 && $.push("Q") } }, strokeText: function t(e, n, i, o) { if (!this._isStrokeTransparent()) { n = this._wrapX(n), i = this._wrapY(i); var s, a = this._matrix_map_point(this.ctx._transform, [n, i]); n = a[0], i = a[1]; var c = 57.2958 * this._matrix_rotation(this.ctx._transform); if (this.ctx._clip_path.length > 0) { ($ = window.outIntercept ? "group" === window.outIntercept.type ? window.outIntercept.stream : window.outIntercept : this.internal.getCurrentPage()).push("q"); var $, l = this.path; this.path = this.ctx._clip_path, this.ctx._clip_path = [], this._fill(null, !0), this.ctx._clip_path = this.path, this.path = l } if (1 === (s = this.pdf.hotfix && this.pdf.hotfix.scale_text ? this._getTransform()[0] : 1)) this.pdf.text(e, n, this._getBaseline(i), { stroke: !0 }, c); else { var u = this.pdf.internal.getFontSize(); this.pdf.setFontSize(u * s), this.pdf.text(e, n, this._getBaseline(i), { stroke: !0 }, c), this.pdf.setFontSize(u) } this.ctx._clip_path.length > 0 && $.push("Q") } }, setFont: function t(e) { this.ctx.font = e; var n = /\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/; if (null != (f = n.exec(e))) { var i, o, s = f[1]; f[2]; var a = f[3], c = f[4], $ = f[5], l = f[6]; c = "px" === $ ? Math.floor(parseFloat(c)) : "em" === $ ? Math.floor(parseFloat(c) * this.pdf.getFontSize()) : Math.floor(parseFloat(c)), this.pdf.setFontSize(c), "bold" === a || "700" === a ? this.pdf.setFontStyle("bold") : "italic" === s ? this.pdf.setFontStyle("italic") : this.pdf.setFontStyle("normal"); var u = l, h = u.toLowerCase().split(/\s*,\s*/); -1 != h.indexOf("arial") ? i = "Arial" : -1 != h.indexOf("verdana") ? i = "Verdana" : -1 != h.indexOf("helvetica") ? i = "Helvetica" : -1 != h.indexOf("sans-serif") ? i = "sans-serif" : -1 != h.indexOf("fixed") ? i = "Fixed" : -1 != h.indexOf("monospace") ? i = "Monospace" : -1 != h.indexOf("terminal") ? i = "Terminal" : -1 != h.indexOf("courier") ? i = "Courier" : -1 != h.indexOf("times") ? i = "Times" : -1 != h.indexOf("cursive") ? i = "Cursive" : -1 != h.indexOf("fantasy") ? i = "Fantasy" : (h.indexOf("serif"), i = "Serif"), o = "bold" === a ? "bold" : "normal", this.pdf.setFont(i, o) } else { var n = /(\d+)(pt|px|em)\s+(\w+)\s*(\w+)?/, f = n.exec(e); if (null != f) { var d = f[1]; f[2]; var u = f[3], o = f[4]; o || (o = "normal"), d = "em" === $ ? Math.floor(parseFloat(c) * this.pdf.getFontSize()) : Math.floor(parseFloat(d)), this.pdf.setFontSize(d), this.pdf.setFont(u, o) } } }, setTextBaseline: function t(e) { this.ctx.textBaseline = e }, getTextBaseline: function t() { return this.ctx.textBaseline }, setTextAlign: function t(e) { this.ctx.textAlign = e }, getTextAlign: function t() { return this.ctx.textAlign }, setLineWidth: function t(e) { this.ctx.lineWidth = e, this.pdf.setLineWidth(e) }, setLineCap: function t(e) { this.ctx.lineCap = e, this.pdf.setLineCap(e) }, setLineJoin: function t(e) { this.ctx.lineJoin = e, this.pdf.setLineJoin(e) }, moveTo: function t(e, n) { e = this._wrapX(e), n = this._wrapY(n); var i = this._matrix_map_point(this.ctx._transform, [e, n]), o = { type: "mt", x: e = i[0], y: n = i[1] }; this.path.push(o) }, _wrapX: function t(e) { return this.pageWrapXEnabled ? e % this.pageWrapX : e }, _wrapY: function t(e) { return this.pageWrapYEnabled ? (this._gotoPage(this._page(e)), (e - this.lastBreak) % this.pageWrapY) : e }, transform: function t(e, n, i, o, s, a) { this.ctx._transform = [e, n, i, o, s, a] }, setTransform: function t(e, n, i, o, s, a) { this.ctx._transform = [e, n, i, o, s, a] }, _getTransform: function t() { return this.ctx._transform }, lastBreak: 0, pageBreaks: [], _page: function t(e) { if (!this.pageWrapYEnabled) return this.pdf.internal.getCurrentPageInfo().pageNumber; this.lastBreak = 0; for (var n = 0, i = 0, o = 0; o < this.pageBreaks.length; o++)if (e >= this.pageBreaks[o]) { n++, 0 === this.lastBreak && i++; var s = this.pageBreaks[o] - this.lastBreak; this.lastBreak = this.pageBreaks[o]; var a = Math.floor(s / this.pageWrapY); i += a } if (0 === this.lastBreak) { var a = Math.floor(e / this.pageWrapY) + 1; i += a } return i + n }, _gotoPage: function t(e) { }, lineTo: function t(e, n) { e = this._wrapX(e), n = this._wrapY(n); var i = this._matrix_map_point(this.ctx._transform, [e, n]), o = { type: "lt", x: e = i[0], y: n = i[1] }; this.path.push(o) }, bezierCurveTo: function t(e, n, i, o, s, a) { e = this._wrapX(e), n = this._wrapY(n), i = this._wrapX(i), o = this._wrapY(o), s = this._wrapX(s), a = this._wrapY(a), s = (c = this._matrix_map_point(this.ctx._transform, [s, a]))[0], a = c[1], e = (c = this._matrix_map_point(this.ctx._transform, [e, n]))[0], n = c[1], i = (c = this._matrix_map_point(this.ctx._transform, [i, o]))[0]; var c, $ = { type: "bct", x1: e, y1: n, x2: i, y2: o = c[1], x: s, y: a }; this.path.push($) }, quadraticCurveTo: function t(e, n, i, o) { e = this._wrapX(e), n = this._wrapY(n), i = this._wrapX(i), o = this._wrapY(o), i = (s = this._matrix_map_point(this.ctx._transform, [i, o]))[0], o = s[1]; var s, a = { type: "qct", x1: e = (s = this._matrix_map_point(this.ctx._transform, [e, n]))[0], y1: n = s[1], x: i, y: o }; this.path.push(a) }, arc: function t(e, n, i, o, s, a) { if (e = this._wrapX(e), n = this._wrapY(n), !this._matrix_is_identity(this.ctx._transform)) { var c = this._matrix_map_point(this.ctx._transform, [e, n]); e = c[0], n = c[1]; var $ = this._matrix_map_point(this.ctx._transform, [0, 0]), l = this._matrix_map_point(this.ctx._transform, [0, i]); i = Math.sqrt(Math.pow(l[0] - $[0], 2) + Math.pow(l[1] - $[1], 2)) } var u = { type: "arc", x: e, y: n, radius: i, startAngle: o, endAngle: s, anticlockwise: a }; this.path.push(u) }, drawImage: function t(e, n, i, o, s, a, c, $, l) { void 0 !== a && (n = a, i = c, o = $, s = l), n = this._wrapX(n), i = this._wrapY(i); var u, h = this._matrix_map_rect(this.ctx._transform, { x: n, y: i, w: o, h: s }); this._matrix_map_rect(this.ctx._transform, { x: a, y: c, w: $, h: l }); var f = /data:image\/(\w+).*/i.exec(e); u = null != f ? f[1] : "png", this.pdf.addImage(e, u, h.x, h.y, h.w, h.h) }, _matrix_multiply: function t(e, n) { var i = n[0], o = n[1], s = n[2], a = n[3], c = n[4], $ = n[5], l = i * e[0] + o * e[2], u = s * e[0] + a * e[2], h = c * e[0] + $ * e[2] + e[4]; return o = i * e[1] + o * e[3], a = s * e[1] + a * e[3], $ = c * e[1] + $ * e[3] + e[5], i = l, [i, o, s = u, a, c = h, $] }, _matrix_rotation: function t(e) { return Math.atan2(e[2], e[0]) }, _matrix_decompose: function t(e) { var n = e[0], i = e[1], o = e[2], s = e[3], a = Math.sqrt(n * n + i * i), c = (n /= a) * o + (i /= a) * s, $ = Math.sqrt((o -= n * c) * o + (s -= i * c) * s); return o /= $, s /= $, c /= $, n * s < i * o && (n = -n, i = -i, c = -c, a = -a), { scale: [a, 0, 0, $, 0, 0], translate: [1, 0, 0, 1, e[4], e[5]], rotate: [n, i, -i, n, 0, 0], skew: [1, 0, c, 1, 0, 0] } }, _matrix_map_point: function t(e, n) { var i = e[0], o = e[1], s = e[2], a = e[3], c = e[4], $ = e[5], l = n[0], u = n[1]; return [l * i + u * s + c, l * o + u * a + $] }, _matrix_map_point_obj: function t(e, n) { var i = this._matrix_map_point(e, [n.x, n.y]); return { x: i[0], y: i[1] } }, _matrix_map_rect: function t(e, n) { var i = this._matrix_map_point(e, [n.x, n.y]), o = this._matrix_map_point(e, [n.x + n.w, n.y + n.h]); return { x: i[0], y: i[1], w: o[0] - i[0], h: o[1] - i[1] } }, _matrix_is_identity: function t(e) { return 1 == e[0] && 0 == e[1] && 0 == e[2] && 1 == e[3] && 0 == e[4] && 0 == e[5] }, rotate: function t(e) { this.ctx._transform = this._matrix_multiply(this.ctx._transform, [Math.cos(e), Math.sin(e), -Math.sin(e), Math.cos(e), 0, 0]) }, scale: function t(e, n) { this.ctx._transform = this._matrix_multiply(this.ctx._transform, [e, 0, 0, n, 0, 0]) }, translate: function t(e, n) { this.ctx._transform = this._matrix_multiply(this.ctx._transform, [1, 0, 0, 1, e, n]) }, stroke: function t() { if (this.ctx._clip_path.length > 0) { (e = window.outIntercept ? "group" === window.outIntercept.type ? window.outIntercept.stream : window.outIntercept : this.internal.getCurrentPage()).push("q"); var e, n = this.path; this.path = this.ctx._clip_path, this.ctx._clip_path = [], this._stroke(!0), this.ctx._clip_path = this.path, this.path = n, this._stroke(!1), e.push("Q") } else this._stroke(!1) }, _stroke: function t(e) { if (!(!e && this._isStrokeTransparent())) { for (var n, i = [], o = !1, s = this.path, a = 0; a < s.length; a++) { var c = s[a]; switch (c.type) { case "mt": i.push({ start: c, deltas: [], abs: [] }); break; case "lt": var $ = [c.x - s[a - 1].x, c.y - s[a - 1].y]; i[i.length - 1].deltas.push($), i[i.length - 1].abs.push(c); break; case "bct": var $ = [c.x1 - s[a - 1].x, c.y1 - s[a - 1].y, c.x2 - s[a - 1].x, c.y2 - s[a - 1].y, c.x - s[a - 1].x, c.y - s[a - 1].y]; i[i.length - 1].deltas.push($); break; case "qct": var l = s[a - 1].x + 2 / 3 * (c.x1 - s[a - 1].x), u = s[a - 1].y + 2 / 3 * (c.y1 - s[a - 1].y), h = c.x + 2 / 3 * (c.x1 - c.x), f = c.y + 2 / 3 * (c.y1 - c.y), d = c.x, p = c.y, $ = [l - s[a - 1].x, u - s[a - 1].y, h - s[a - 1].x, f - s[a - 1].y, d - s[a - 1].x, p - s[a - 1].y]; i[i.length - 1].deltas.push($); break; case "arc": 0 == i.length && i.push({ start: { x: 0, y: 0 }, deltas: [], abs: [] }), i[i.length - 1].arc = !0, i[i.length - 1].abs.push(c); break; case "close": o = !0 } } for (var a = 0; a < i.length; a++)if (n = a == i.length - 1 ? "s" : null, i[a].arc) for (var _ = i[a].abs, m = 0; m < _.length; m++) { var x = _[m], w = 360 * x.startAngle / (2 * Math.PI), y = 360 * x.endAngle / (2 * Math.PI), v = x.x, k = x.y; this.internal.arc2(this, v, k, x.radius, w, y, x.anticlockwise, n, e) } else { var v = i[a].start.x, k = i[a].start.y; e ? (this.pdf.lines(i[a].deltas, v, k, null, null), this.pdf.clip_fixed()) : this.pdf.lines(i[a].deltas, v, k, null, n) } } }, _isFillTransparent: function t() { return this.ctx._isFillTransparent || 0 == this.globalAlpha }, _isStrokeTransparent: function t() { return this.ctx._isStrokeTransparent || 0 == this.globalAlpha }, fill: function t(e) { if (this.ctx._clip_path.length > 0) { (n = window.outIntercept ? "group" === window.outIntercept.type ? window.outIntercept.stream : window.outIntercept : this.internal.getCurrentPage()).push("q"); var n, i = this.path; this.path = this.ctx._clip_path, this.ctx._clip_path = [], this._fill(e, !0), this.ctx._clip_path = this.path, this.path = i, this._fill(e, !1), n.push("Q") } else this._fill(e, !1) }, _fill: function t(n, i) { if (!this._isFillTransparent()) { var o, s, a = "function" == typeof this.pdf.internal.newObject2; o = window.outIntercept ? "group" === window.outIntercept.type ? window.outIntercept.stream : window.outIntercept : this.internal.getCurrentPage(); var c = [], $ = window.outIntercept; if (a) switch (this.ctx.globalCompositeOperation) { case "normal": case "source-over": break; case "destination-in": case "destination-out": var l = this.pdf.internal.newStreamObject(), u = this.pdf.internal.newObject2(); u.push("<</Type /ExtGState"), u.push("/SMask <</S /Alpha /G " + l.objId + " 0 R>>"), u.push(">>"); var h = "MASK" + u.objId; this.pdf.internal.addGraphicsState(h, u.objId), o.splice(0, 0, "q"), o.splice(1, 0, "/" + h + " gs"), o.push("Q"), window.outIntercept = l; break; default: var f = "/" + this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()]; f && this.pdf.internal.out(f + " gs") }var d = this.ctx.globalAlpha; if (this.ctx._fillOpacity < 1 && (d = this.ctx._fillOpacity), a) { var p = this.pdf.internal.newObject2(); p.push("<</Type /ExtGState"), p.push("/CA " + d), p.push("/ca " + d), p.push(">>"); var h = "GS_O_" + p.objId; this.pdf.internal.addGraphicsState(h, p.objId), this.pdf.internal.out("/" + h + " gs") } for (var _ = this.path, m = 0; m < _.length; m++) { var x = _[m]; switch (x.type) { case "mt": c.push({ start: x, deltas: [], abs: [] }); break; case "lt": var w = [x.x - _[m - 1].x, x.y - _[m - 1].y]; c[c.length - 1].deltas.push(w), c[c.length - 1].abs.push(x); break; case "bct": var w = [x.x1 - _[m - 1].x, x.y1 - _[m - 1].y, x.x2 - _[m - 1].x, x.y2 - _[m - 1].y, x.x - _[m - 1].x, x.y - _[m - 1].y]; c[c.length - 1].deltas.push(w); break; case "qct": var y = _[m - 1].x + 2 / 3 * (x.x1 - _[m - 1].x), v = _[m - 1].y + 2 / 3 * (x.y1 - _[m - 1].y), k = x.x + 2 / 3 * (x.x1 - x.x), C = x.y + 2 / 3 * (x.y1 - x.y), q = x.x, S = x.y, w = [y - _[m - 1].x, v - _[m - 1].y, k - _[m - 1].x, C - _[m - 1].y, q - _[m - 1].x, S - _[m - 1].y]; c[c.length - 1].deltas.push(w); break; case "arc": 0 === c.length && c.push({ deltas: [], abs: [] }), c[c.length - 1].arc = !0, c[c.length - 1].abs.push(x); break; case "close": c.push({ close: !0 }) } } for (var m = 0; m < c.length; m++)if (m == c.length - 1 ? (s = "f", "evenodd" === n && (s += "*")) : s = null, c[m].close) this.pdf.internal.out("h"), this.pdf.internal.out("f"); else if (c[m].arc) { c[m].start && this.internal.move2(this, c[m].start.x, c[m].start.y); for (var T = c[m].abs, A = 0; A < T.length; A++) { var P = T[A]; if (void 0 !== P.startAngle) { var F = 360 * P.startAngle / (2 * Math.PI), E = 360 * P.endAngle / (2 * Math.PI), I = P.x, B = P.y; if (0 === A && this.internal.move2(this, I, B), this.internal.arc2(this, I, B, P.radius, F, E, P.anticlockwise, null, i), A === T.length - 1 && c[m].start) { var I = c[m].start.x, B = c[m].start.y; this.internal.line2(e, I, B) } } else this.internal.line2(e, P.x, P.y) } } else { var I = c[m].start.x, B = c[m].start.y; i ? (this.pdf.lines(c[m].deltas, I, B, null, null), this.pdf.clip_fixed()) : this.pdf.lines(c[m].deltas, I, B, null, s) } window.outIntercept = $ } }, pushMask: function t() { if ("function" != typeof this.pdf.internal.newObject2) { console.log("jsPDF v2 not enabled"); return } var e = this.pdf.internal.newStreamObject(), n = this.pdf.internal.newObject2(); n.push("<</Type /ExtGState"), n.push("/SMask <</S /Alpha /G " + e.objId + " 0 R>>"), n.push(">>"); var i = "MASK" + n.objId; this.pdf.internal.addGraphicsState(i, n.objId), this.pdf.internal.out("/" + i + " gs") }, clip: function t() { if (this.ctx._clip_path.length > 0) for (var e = 0; e < this.path.length; e++)this.ctx._clip_path.push(this.path[e]); else this.ctx._clip_path = this.path; this.path = [] }, measureText: function t(e) { var n = this.pdf; return { getWidth: function t() { var i = n.internal.getFontSize(), o = n.getStringUnitWidth(e) * i / n.internal.scaleFactor; return 1.3333 * o }, get width() { return this.getWidth(e) } } }, _getBaseline: function t(e) { var n = parseInt(this.pdf.internal.getFontSize()), i = .25 * n; switch (this.ctx.textBaseline) { case "bottom": return e - i; case "top": return e + n; case "hanging": return e + n - i; case "middle": return e + n / 2 - i; default: return e } } }; var e = t.context2d; function n() { this._isStrokeTransparent = !1, this._strokeOpacity = 1, this.strokeStyle = "#000000", this.fillStyle = "#000000", this._isFillTransparent = !1, this._fillOpacity = 1, this.font = "12pt times", this.textBaseline = "alphabetic", this.textAlign = "start", this.lineWidth = 1, this.lineJoin = "miter", this.lineCap = "butt", this._transform = [1, 0, 0, 1, 0, 0], this.globalCompositeOperation = "normal", this.globalAlpha = 1, this._clip_path = [], this.ignoreClearRect = !1, this.copy = function (t) { this._isStrokeTransparent = t._isStrokeTransparent, this._strokeOpacity = t._strokeOpacity, this.strokeStyle = t.strokeStyle, this._isFillTransparent = t._isFillTransparent, this._fillOpacity = t._fillOpacity, this.fillStyle = t.fillStyle, this.font = t.font, this.lineWidth = t.lineWidth, this.lineJoin = t.lineJoin, this.lineCap = t.lineCap, this.textBaseline = t.textBaseline, this.textAlign = t.textAlign, this._fontSize = t._fontSize, this._transform = t._transform.slice(0), this.globalCompositeOperation = t.globalCompositeOperation, this.globalAlpha = t.globalAlpha, this._clip_path = t._clip_path.slice(0), this.ignoreClearRect = t.ignoreClearRect } } Object.defineProperty(e, "fillStyle", { set: function t(e) { this.setFillStyle(e) }, get: function t() { return this.ctx.fillStyle } }), Object.defineProperty(e, "strokeStyle", { set: function t(e) { this.setStrokeStyle(e) }, get: function t() { return this.ctx.strokeStyle } }), Object.defineProperty(e, "lineWidth", { set: function t(e) { this.setLineWidth(e) }, get: function t() { return this.ctx.lineWidth } }), Object.defineProperty(e, "lineCap", { set: function t(e) { this.setLineCap(e) }, get: function t() { return this.ctx.lineCap } }), Object.defineProperty(e, "lineJoin", { set: function t(e) { this.setLineJoin(e) }, get: function t() { return this.ctx.lineJoin } }), Object.defineProperty(e, "miterLimit", { set: function t(e) { this.ctx.miterLimit = e }, get: function t() { return this.ctx.miterLimit } }), Object.defineProperty(e, "textBaseline", { set: function t(e) { this.setTextBaseline(e) }, get: function t() { return this.getTextBaseline() } }), Object.defineProperty(e, "textAlign", { set: function t(e) { this.setTextAlign(e) }, get: function t() { return this.getTextAlign() } }), Object.defineProperty(e, "font", { set: function t(e) { this.setFont(e) }, get: function t() { return this.ctx.font } }), Object.defineProperty(e, "globalCompositeOperation", { set: function t(e) { this.ctx.globalCompositeOperation = e }, get: function t() { return this.ctx.globalCompositeOperation } }), Object.defineProperty(e, "globalAlpha", { set: function t(e) { this.ctx.globalAlpha = e }, get: function t() { return this.ctx.globalAlpha } }), Object.defineProperty(e, "ignoreClearRect", { set: function t(e) { this.ctx.ignoreClearRect = e }, get: function t() { return this.ctx.ignoreClearRect } }), e.internal = {}, e.internal.rxRgb = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/, e.internal.rxRgba = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/, e.internal.rxTransparent = /transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/, e.internal.arc = function (t, e, n, i, o, s, a, c) { for (var $ = this.pdf.internal.scaleFactor, l = this.pdf.internal.pageSize.height, u = this.pdf.internal.f2, h = this.createArc(i, o * (Math.PI / 180), s * (Math.PI / 180), a), f = 0; f < h.length; f++) { var d = h[f]; 0 !== f ? this.pdf.internal.out([u((d.x2 + e) * $), u((l - (d.y2 + n)) * $), u((d.x3 + e) * $), u((l - (d.y3 + n)) * $), u((d.x4 + e) * $), u((l - (d.y4 + n)) * $), "c"].join(" ")) : this.pdf.internal.out([u((d.x1 + e) * $), u((l - (d.y1 + n)) * $), "m", u((d.x2 + e) * $), u((l - (d.y2 + n)) * $), u((d.x3 + e) * $), u((l - (d.y3 + n)) * $), u((d.x4 + e) * $), u((l - (d.y4 + n)) * $), "c"].join(" ")), t._lastPoint = { x: e, y: n } } null !== c && this.pdf.internal.out(this.pdf.internal.getStyle(c)) }, e.internal.arc2 = function (t, e, n, i, o, s, a, c, $) { var l = e, u = n; $ ? (this.arc(t, l, u, i, o, s, a, null), this.pdf.clip_fixed()) : this.arc(t, l, u, i, o, s, a, c) }, e.internal.move2 = function (t, e, n) { var i = this.pdf.internal.scaleFactor, o = this.pdf.internal.pageSize.height, s = this.pdf.internal.f2; this.pdf.internal.out([s(e * i), s((o - n) * i), "m"].join(" ")), t._lastPoint = { x: e, y: n } }, e.internal.line2 = function (t, e, n) { var i = this.pdf.internal.scaleFactor, o = this.pdf.internal.pageSize.height, s = this.pdf.internal.f2, a = { x: e, y: n }; this.pdf.internal.out([s(a.x * i), s((o - a.y) * i), "l"].join(" ")), t._lastPoint = a }, e.internal.createArc = function (t, e, n, i) { var o = 2 * Math.PI, s = Math.PI / 2, a = e; for ((a < o || a > o) && (a %= o), a < 0 && (a = o + a); e > n;)e -= o; var c = Math.abs(n - e); c < o && i && (c = o - c); for (var $ = [], l = i ? -1 : 1, u = a; c > 1e-5;) { var h = u + l * Math.min(c, s); $.push(this.createSmallArc(t, u, h)), c -= Math.abs(h - u), u = h } return $ }, e.internal.getCurrentPage = function () { return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber] }, e.internal.createSmallArc = function (t, e, n) { var i = (n - e) / 2, o = t * Math.cos(i), s = t * Math.sin(i), a = o, c = -s, $ = a * a + c * c, l = $ + a * o + c * s, u = 4 / 3 * (Math.sqrt(2 * $ * l) - l) / (a * s - c * o), h = a - u * c, f = c + u * a, d = h, p = -f, _ = i + e, m = Math.cos(_), x = Math.sin(_); return { x1: t * Math.cos(e), y1: t * Math.sin(e), x2: h * m - f * x, y2: h * x + f * m, x3: d * m - p * x, y3: d * x + p * m, x4: t * Math.cos(n), y4: t * Math.sin(n) } } }(e.API), O = e.API, D = function () { return function (e) { return t.prototype = e, new t }; function t() { } }(), X = function t(e) { var n, i, o, s, a, c, $; for (i = 0, o = e.length, n = void 0, s = !1, c = !1; !s && i !== o;)(n = e[i] = e[i].trimLeft()) && (s = !0), i++; for (i = o - 1; o && !c && -1 !== i;)(n = e[i] = e[i].trimRight()) && (c = !0), i--; for (a = /\s+$/g, $ = !0, i = 0; i !== o;)"\u2028" != e[i] && (n = e[i].replace(/\s+/g, " "), $ && (n = n.trimLeft()), n && ($ = a.test(n)), e[i] = n), i++; return e }, V = function t(e, n, i, o) { return this.pdf = e, this.x = n, this.y = i, this.settings = o, this.watchFunctions = [], this.init(), this }, Y = function t(e) { var n, i, o; for (n = void 0, i = (o = e.split(",")).shift(); !n && i;)n = L[i.trim().toLowerCase()], i = o.shift(); return n }, G = function t(e) { var n, i, o; return ((e = "auto" === e ? "0px" : e).indexOf("em") > -1 && !isNaN(Number(e.replace("em", ""))) && (e = 18.719 * Number(e.replace("em", "")) + "px"), e.indexOf("pt") > -1 && !isNaN(Number(e.replace("pt", ""))) && (e = 1.333 * Number(e.replace("pt", "")) + "px"), i = void 0, n = 16, o = J[e]) ? o : (o = ({ "xx-small": 9, "x-small": 11, small: 13, medium: 16, large: 19, "x-large": 23, "xx-large": 28, auto: 0 })[{ css_line_height_string: e }]) !== i || (o = parseFloat(e)) ? J[e] = o / n : 3 === (o = e.match(/([\d\.]+)(px)/)).length ? J[e] = parseFloat(o[1]) / n : J[e] = 1 }, M = function t(e) { var n, i, o, s, a, c; return o = (a = (c = s = e, document.defaultView && document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(c, null) : c.currentStyle ? c.currentStyle : c.style), function (t) { return a[t = t.replace(/-\D/g, function (t) { return t.charAt(1).toUpperCase() })] }), i = void 0, (n = {})["font-family"] = Y(o("font-family")) || "times", n["font-style"] = j[o("font-style")] || "normal", n["text-align"] = N[o("text-align")] || "left", "bold" === (i = H[o("font-weight")] || "normal") && ("normal" === n["font-style"] ? n["font-style"] = i : n["font-style"] = i + n["font-style"]), n["font-size"] = G(o("font-size")) || 1, n["line-height"] = G(o("line-height")) || 1, n.display = "inline" === o("display") ? "inline" : "block", i = "block" === n.display, n["margin-top"] = i && G(o("margin-top")) || 0, n["margin-bottom"] = i && G(o("margin-bottom")) || 0, n["padding-top"] = i && G(o("padding-top")) || 0, n["padding-bottom"] = i && G(o("padding-bottom")) || 0, n["margin-left"] = i && G(o("margin-left")) || 0, n["margin-right"] = i && G(o("margin-right")) || 0, n["padding-left"] = i && G(o("padding-left")) || 0, n["padding-right"] = i && G(o("padding-right")) || 0, n["page-break-before"] = o("page-break-before") || "auto", n.float = W[o("cssFloat")] || "none", n.clear = U[o("clear")] || "none", n.color = o("color"), n }, Q = function t(e, n, i) { var o, s, a, c, $; if (a = !1, s = void 0, c = void 0, $ = void 0, (o = i["#" + e.id]) || (o = i[e.nodeName], !a && o)) { if ("function" == typeof o) a = o(e, n); else for (s = 0, c = o.length; !a && s !== c;)a = o[s](e, n), s++ } return a }, tn = function t(e, n) { var i, o, s, a, c, $, l, u, h; for (i = [], o = [], s = 0, h = e.rows[0].cells.length, l = e.clientWidth; s < h;)u = e.rows[0].cells[s], o[s] = { name: u.textContent.toLowerCase().replace(/\s+/g, ""), prompt: u.textContent.replace(/\r?\n/g, ""), width: u.clientWidth / l * n.pdf.internal.pageSize.width }, s++; for (s = 1; s < e.rows.length;) { for ($ = e.rows[s], c = {}, a = 0; a < $.cells.length;)c[o[a].name] = $.cells[a].textContent.replace(/\r?\n/g, ""), a++; i.push(c), s++ } return { rows: i, headers: o } }, tr = { SCRIPT: 1, STYLE: 1, NOSCRIPT: 1, OBJECT: 1, EMBED: 1, SELECT: 1 }, ti = 1, z = function e(n, i, o) { var s, a, c, $, l, u, h, f, d; for (a = n.childNodes, s = void 0, (l = "block" === (c = M(n)).display) && (i.setBlockBoundary(), i.setBlockStyle(c)), h = .7499990551181103, $ = 0, u = a.length; $ < u;) { if ((void 0 === (s = a[$]) ? "undefined" : t(s)) === "object") { if (i.executeWatchFunctions(s), 1 === s.nodeType && "HEADER" === s.nodeName) { var p, _ = s, m = i.pdf.margins_doc.top; i.pdf.internal.events.subscribe("addPage", function (t) { i.y = m, z(_, i, o), i.pdf.margins_doc.top = i.y + 10, i.y += 10 }, !1) } if (8 === s.nodeType && "#comment" === s.nodeName) ~s.textContent.indexOf("ADD_PAGE") && (i.pdf.addPage(), i.y = i.pdf.margins_doc.top); else if (1 !== s.nodeType || tr[s.nodeName]) { if (3 === s.nodeType) { var x = s.nodeValue; if (s.nodeValue && "LI" === s.parentNode.nodeName) { if ("OL" === s.parentNode.parentNode.nodeName) x = ti++ + ". " + x; else { var w = c["font-size"], y = (3 - .75 * w) * i.pdf.internal.scaleFactor, v = .75 * w * i.pdf.internal.scaleFactor, k = 1.74 * w / i.pdf.internal.scaleFactor; d = function t(e, n) { this.pdf.circle(e + y, n + v, k, "FD") } } } 16 & s.ownerDocument.body.compareDocumentPosition(s) && i.addText(x, c) } else "string" == typeof s && i.addText(s, c) } else { if ("IMG" === s.nodeName) { var C = s.getAttribute("src"); p = K[i.pdf.sHashCode(C) || C] } if (p) { i.pdf.internal.pageSize.height - i.pdf.margins_doc.bottom < i.y + s.height && i.y > i.pdf.margins_doc.top && (i.pdf.addPage(), i.y = i.pdf.margins_doc.top, i.executeWatchFunctions(s)); var q = M(s), S = i.x, T = 12 / i.pdf.internal.scaleFactor, A = (q["margin-left"] + q["padding-left"]) * T, P = (q["margin-right"] + q["padding-right"]) * T, F = (q["margin-top"] + q["padding-top"]) * T, E = (q["margin-bottom"] + q["padding-bottom"]) * T; void 0 !== q.float && "right" === q.float ? S += i.settings.width - s.width - P : S += A, i.pdf.addImage(p, S, i.y + F, s.width, s.height), p = void 0, "right" === q.float || "left" === q.float ? (i.watchFunctions.push((function (t, e, n, o) { return i.y >= e ? (i.x += t, i.settings.width += n, !0) : !!o && 1 === o.nodeType && !tr[o.nodeName] && i.x + o.width > i.pdf.margins_doc.left + i.pdf.margins_doc.width && (i.x += t, i.y = e, i.settings.width += n, !0) }).bind(this, "left" === q.float ? -s.width - A - P : 0, i.y + s.height + F + E, s.width)), i.watchFunctions.push((function (t, e, n) { return !(i.y < t) || e !== i.pdf.internal.getNumberOfPages() || 1 === n.nodeType && "both" === M(n).clear && (i.y = t, !0) }).bind(this, i.y + s.height, i.pdf.internal.getNumberOfPages())), i.settings.width -= s.width + A + P, "left" === q.float && (i.x += s.width + A + P)) : i.y += s.height + F + E } else if ("TABLE" === s.nodeName) f = tn(s, i), i.y += 10, i.pdf.table(i.x, i.y, f.rows, f.headers, { autoSize: !1, printHeaders: o.printHeaders, margins: i.pdf.margins_doc, css: M(s) }), i.y = i.pdf.lastCellPos.y + i.pdf.lastCellPos.h + 20; else if ("OL" === s.nodeName || "UL" === s.nodeName) ti = 1, Q(s, i, o) || z(s, i, o), i.y += 10; else if ("LI" === s.nodeName) { var I = i.x; i.x += 20 / i.pdf.internal.scaleFactor, i.y += 3, Q(s, i, o) || z(s, i, o), i.x = I } else "BR" === s.nodeName ? (i.y += c["font-size"] * i.pdf.internal.scaleFactor, i.addText("\u2028", D(c))) : Q(s, i, o) || z(s, i, o) } } $++ } if (o.outY = i.y, l) return i.setBlockBoundary(d) }, K = {}, Z = function t(e, n, i, o) { var s, a = e.getElementsByTagName("img"), c = a.length, $ = 0; function l() { n.pdf.internal.events.publish("imagesLoaded"), o(s) } function u(t, e, i) { if (t) { var o = new Image; s = ++$, o.crossOrigin = "", o.onerror = o.onload = function () { if (o.complete && (0 === o.src.indexOf("data:image/") && (o.width = e || o.width || 0, o.height = i || o.height || 0), o.width + o.height)) { var s = n.pdf.sHashCode(t) || t; K[s] = K[s] || o } --$ || l() }, o.src = t } } for (; c--;)u(a[c].getAttribute("src"), a[c].width, a[c].height); return $ || l() }, tt = function t(e, n, i) { var o = e.getElementsByTagName("footer"); if (o.length > 0) { o = o[0]; var s = n.pdf.internal.write, a = n.y; n.pdf.internal.write = function () { }, z(o, n, i); var c = Math.ceil(n.y - a) + 5; n.y = a, n.pdf.internal.write = s, n.pdf.margins_doc.bottom += c; for (var $ = function t(e) { var s = void 0 !== e ? e.pageNumber : 1, a = n.y; n.y = n.pdf.internal.pageSize.height - n.pdf.margins_doc.bottom, n.pdf.margins_doc.bottom -= c; for (var $ = o.getElementsByTagName("span"), l = 0; l < $.length; ++l)(" " + $[l].className + " ").replace(/[\n\t]/g, " ").indexOf(" pageCounter ") > -1 && ($[l].innerHTML = s), (" " + $[l].className + " ").replace(/[\n\t]/g, " ").indexOf(" totalPages ") > -1 && ($[l].innerHTML = "###jsPDFVarTotalPages###"); z(o, n, i), n.pdf.margins_doc.bottom += c, n.y = a }, l = o.getElementsByTagName("span"), u = 0; u < l.length; ++u)(" " + l[u].className + " ").replace(/[\n\t]/g, " ").indexOf(" totalPages ") > -1 && n.pdf.internal.events.subscribe("htmlRenderingFinished", n.pdf.putTotalPages.bind(n.pdf, "###jsPDFVarTotalPages###"), !0); n.pdf.internal.events.subscribe("addPage", $, !1), $(), tr.FOOTER = 1 } }, te = function t(e, n, i, o, s, a) { if (!n) return !1; if ("string" == typeof n || n.parentNode || (n = "" + n.innerHTML), "string" == typeof n) { var c, $, l, u, h; n = (c = n.replace(/<\/?script[^>]*?>/gi, ""), u = "jsPDFhtmlText" + Date.now().toString() + (1e3 * Math.random()).toFixed(0), h = "position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;", (l = document.createElement("div")).style.cssText = h, l.innerHTML = '<iframe style="height:1px;width:1px" name="' + u + '" />', document.body.appendChild(l), ($ = window.frames[u]).document.open(), $.document.writeln(c), $.document.close(), $.document.body) } var f, d = new V(e, i, o, s); return Z.call(this, n, d, s.elementHandlers, function (t) { tt(n, d, s.elementHandlers), z(n, d, s.elementHandlers), d.pdf.internal.events.publish("htmlRenderingFinished"), f = d.dispose(), "function" == typeof a ? a(f) : t && console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!") }), f || { x: d.x, y: d.y } }, V.prototype.init = function () { return this.paragraph = { text: [], style: [] }, this.pdf.internal.write("q") }, V.prototype.dispose = function () { return this.pdf.internal.write("Q"), { x: this.x, y: this.y, ready: !0 } }, V.prototype.executeWatchFunctions = function (t) { var e = !1, n = []; if (this.watchFunctions.length > 0) { for (var i = 0; i < this.watchFunctions.length; ++i)!0 === this.watchFunctions[i](t) ? e = !0 : n.push(this.watchFunctions[i]); this.watchFunctions = n } return e }, V.prototype.splitFragmentsIntoLines = function (t, e) { var n, i, o, s, a, c, $, l, u, h, f, d, p, _, m; for (i = 12, f = this.pdf.internal.scaleFactor, a = {}, o = void 0, h = void 0, s = void 0, c = void 0, m = void 0, u = void 0, l = void 0, $ = void 0, p = [d = []], n = 0, _ = this.settings.width; t.length;)if (c = t.shift(), m = e.shift(), c) { if ((s = a[(o = m["font-family"]) + (h = m["font-style"])]) || (s = this.pdf.internal.getFont(o, h).metadata.Unicode, a[o + h] = s), u = { widths: s.widths, kerning: s.kerning, fontSize: m["font-size"] * i, textIndent: n }, l = this.pdf.getStringUnitWidth(c, u) * u.fontSize / f, "\u2028" == c) d = [], p.push(d); else if (n + l > _) { for ($ = this.pdf.splitTextToSize(c, _, u), d.push([$.shift(), m]); $.length;)d = [[$.shift(), m]], p.push(d); n = this.pdf.getStringUnitWidth(d[0][0], u) * u.fontSize / f } else d.push([c, m]), n += l } if (void 0 !== m["text-align"] && ("center" === m["text-align"] || "right" === m["text-align"] || "justify" === m["text-align"])) for (var x = 0; x < p.length; ++x) { var w = this.pdf.getStringUnitWidth(p[x][0][0], u) * u.fontSize / f; x > 0 && (p[x][0][1] = D(p[x][0][1])); var y = _ - w; if ("right" === m["text-align"]) p[x][0][1]["margin-left"] = y; else if ("center" === m["text-align"]) p[x][0][1]["margin-left"] = y / 2; else if ("justify" === m["text-align"]) { var v = p[x][0][0].split(" ").length - 1; p[x][0][1]["word-spacing"] = y / v, x === p.length - 1 && (p[x][0][1]["word-spacing"] = 0) } } return p }, V.prototype.RenderTextFragment = function (t, e) { o = 0, n = 12, this.pdf.internal.pageSize.height - this.pdf.margins_doc.bottom < this.y + this.pdf.internal.getFontSize() && (this.pdf.internal.write("ET", "Q"), this.pdf.addPage(), this.y = this.pdf.margins_doc.top, this.pdf.internal.write("q", "BT 0 g", this.pdf.internal.getCoordinateString(this.x), this.pdf.internal.getVerticalCoordinateString(this.y), e.color, "Td"), o = Math.max(o, e["line-height"], e["font-size"]), this.pdf.internal.write(0, (-1 * n * o).toFixed(2), "Td")), i = this.pdf.internal.getFont(e["font-family"], e["font-style"]); var n, i, o, s = this.getPdfColor(e.color); s !== this.lastTextColor && (this.pdf.internal.write(s), this.lastTextColor = s), void 0 !== e["word-spacing"] && e["word-spacing"] > 0 && this.pdf.internal.write(e["word-spacing"].toFixed(2), "Tw"), this.pdf.internal.write("/" + i.id, (n * e["font-size"]).toFixed(2), "Tf", "(" + this.pdf.internal.pdfEscape(t) + ") Tj"), void 0 !== e["word-spacing"] && this.pdf.internal.write(0, "Tw") }, V.prototype.getPdfColor = function (t) { var e, n, i, o, s = /rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t); if (null != s ? (n = parseInt(s[1]), i = parseInt(s[2]), o = parseInt(s[3])) : ("#" == t.charAt(0) || (t = tB.colorNameToHex(t)) || (t = "#000000"), n = parseInt(n = t.substring(1, 3), 16), i = parseInt(i = t.substring(3, 5), 16), o = parseInt(o = t.substring(5, 7), 16)), "string" == typeof n && /^#[0-9A-Fa-f]{6}$/.test(n)) { var a = parseInt(n.substr(1), 16); n = a >> 16 & 255, i = a >> 8 & 255, o = 255 & a } var c = this.f3; return 0 === n && 0 === i && 0 === o || void 0 === i ? c(n / 255) + " g" : [c(n / 255), c(i / 255), c(o / 255), "rg"].join(" ") }, V.prototype.f3 = function (t) { return t.toFixed(3) }, V.prototype.renderParagraph = function (t) { if (o = X(this.paragraph.text), p = this.paragraph.style, e = this.paragraph.blockstyle, d = this.paragraph.priorblockstyle || {}, this.paragraph = { text: [], style: [], blockstyle: {}, priorblockstyle: e }, o.join("").trim()) { $ = this.splitFragmentsIntoLines(o, p), c = void 0, l = void 0, i = (n = 12) / this.pdf.internal.scaleFactor, this.priorMarginBottom = this.priorMarginBottom || 0, f = (Math.max((e["margin-top"] || 0) - this.priorMarginBottom, 0) + (e["padding-top"] || 0)) * i, h = ((e["margin-bottom"] || 0) + (e["padding-bottom"] || 0)) * i, this.priorMarginBottom = e["margin-bottom"] || 0, "always" === e["page-break-before"] && (this.pdf.addPage(), this.y = 0, f = ((e["margin-top"] || 0) + (e["padding-top"] || 0)) * i), u = this.pdf.internal.write, s = void 0, a = void 0, this.y += f, u("q", "BT 0 g", this.pdf.internal.getCoordinateString(this.x), this.pdf.internal.getVerticalCoordinateString(this.y), "Td"); for (var e, n, i, o, s, a, c, $, l, u, h, f, d, p, _, m = 0; $.length;) { for (c = $.shift(), l = 0, s = 0, a = c.length; s !== a;)c[s][0].trim() && (l = Math.max(l, c[s][1]["line-height"], c[s][1]["font-size"]), _ = 7 * c[s][1]["font-size"]), s++; var x = 0, w = 0; for (void 0 !== c[0][1]["margin-left"] && c[0][1]["margin-left"] > 0 && (x = (w = this.pdf.internal.getCoordinateString(c[0][1]["margin-left"])) - m, m = w), u(x + Math.max(e["margin-left"] || 0, 0) * i, (-1 * n * l).toFixed(2), "Td"), s = 0, a = c.length; s !== a;)c[s][0] && this.RenderTextFragment(c[s][0], c[s][1]), s++; if (this.y += l * i, this.executeWatchFunctions(c[0][1]) && $.length > 0) { var y = [], v = []; $.forEach(function (t) { for (var e = 0, n = t.length; e !== n;)t[e][0] && (y.push(t[e][0] + " "), v.push(t[e][1])), ++e }), $ = this.splitFragmentsIntoLines(X(y), v), u("ET", "Q"), u("q", "BT 0 g", this.pdf.internal.getCoordinateString(this.x), this.pdf.internal.getVerticalCoordinateString(this.y), "Td") } } return t && "function" == typeof t && t.call(this, this.x - 9, this.y - _ / 2), u("ET", "Q"), this.y += h } }, V.prototype.setBlockBoundary = function (t) { return this.renderParagraph(t) }, V.prototype.setBlockStyle = function (t) { return this.paragraph.blockstyle = t }, V.prototype.addText = function (t, e) { return this.paragraph.text.push(t), this.paragraph.style.push(e) }, L = { helvetica: "helvetica", "sans-serif": "helvetica", "times new roman": "times", serif: "times", times: "times", monospace: "courier", courier: "courier" }, H = { 100: "normal", 200: "normal", 300: "normal", 400: "normal", 500: "bold", 600: "bold", 700: "bold", 800: "bold", 900: "bold", normal: "normal", bold: "bold", bolder: "bold", lighter: "normal" }, j = { normal: "normal", italic: "italic", oblique: "italic" }, N = { left: "left", right: "right", center: "center", justify: "justify" }, W = { none: "none", right: "right", left: "left" }, U = { none: "none", both: "both" }, J = { normal: 1 }, O.fromHTML = function (t, e, n, i, o, s) { return this.margins_doc = s || { top: 0, bottom: 0 }, i || (i = {}), i.elementHandlers || (i.elementHandlers = {}), te(this, t, isNaN(e) ? 4 : e, isNaN(n) ? 4 : n, i, o) }, (to = e.API).addJS = function (t) { return tc = t, this.internal.events.subscribe("postPutResources", function (t) { ts = this.internal.newObject(), this.internal.write("<< /Names [(EmbeddedJS) " + (ts + 1) + " 0 R] >>", "endobj"), ta = this.internal.newObject(), this.internal.write("<< /S /JavaScript /JS (", tc, ") >>", "endobj") }), this.internal.events.subscribe("putCatalog", function () { void 0 !== ts && void 0 !== ta && this.internal.write("/Names <</JavaScript " + ts + " 0 R>>") }), this }, (t$ = e.API).events.push(["postPutResources", function () { var t = /^(\d+) 0 obj$/; if (this.outline.root.children.length > 0) for (var e = this.outline.render().split(/\r\n/), n = 0; n < e.length; n++) { var i = e[n], o = t.exec(i); if (null != o) { var s = o[1]; this.internal.newObjectDeferredBegin(s) } this.internal.write(i) } if (this.outline.createNamedDestinations) { for (var a = this.internal.pages.length, c = [], n = 0; n < a; n++) { var $ = this.internal.newObject(); c.push($); var l = this.internal.getPageInfo(n + 1); this.internal.write("<< /D[" + l.objId + " 0 R /XYZ null null null]>> endobj") } var u = this.internal.newObject(); this.internal.write("<< /Names [ "); for (var n = 0; n < c.length; n++)this.internal.write("(page_" + (n + 1) + ")" + c[n] + " 0 R"); this.internal.write(" ] >>", "endobj"), this.internal.newObject(), this.internal.write("<< /Dests " + u + " 0 R"), this.internal.write(">>", "endobj") } }]), t$.events.push(["putCatalog", function () { this.outline.root.children.length > 0 && (this.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && this.internal.write("/Names " + namesOid + " 0 R")) }]), t$.events.push(["initialized", function () { var t = this; t.outline = { createNamedDestinations: !1, root: { children: [] } }, t.outline.add = function (t, e, n) { var i = { title: e, options: n, children: [] }; return null == t && (t = this.root), t.children.push(i), i }, t.outline.render = function () { return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = t, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val }, t.outline.genIds_r = function (e) { e.id = t.internal.newObjectDeferred(); for (var n = 0; n < e.children.length; n++)this.genIds_r(e.children[n]) }, t.outline.renderRoot = function (t) { this.objStart(t), this.line("/Type /Outlines"), t.children.length > 0 && (this.line("/First " + this.makeRef(t.children[0])), this.line("/Last " + this.makeRef(t.children[t.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, t)), this.objEnd() }, t.outline.renderItems = function (e) { for (var n = 0; n < e.children.length; n++) { var i = e.children[n]; this.objStart(i), this.line("/Title " + this.makeString(i.title)), this.line("/Parent " + this.makeRef(e)), n > 0 && this.line("/Prev " + this.makeRef(e.children[n - 1])), n < e.children.length - 1 && this.line("/Next " + this.makeRef(e.children[n + 1])), i.children.length > 0 && (this.line("/First " + this.makeRef(i.children[0])), this.line("/Last " + this.makeRef(i.children[i.children.length - 1]))); var o = this.count = this.count_r({ count: 0 }, i); if (o > 0 && this.line("/Count " + o), i.options && i.options.pageNumber) { var s = t.internal.getPageInfo(i.options.pageNumber); this.line("/Dest [" + s.objId + " 0 R /XYZ 0 " + this.ctx.pdf.internal.pageSize.height + " 0]") } this.objEnd() } for (var n = 0; n < e.children.length; n++) { var i = e.children[n]; this.renderItems(i) } }, t.outline.line = function (t) { this.ctx.val += t + "\r\n" }, t.outline.makeRef = function (t) { return t.id + " 0 R" }, t.outline.makeString = function (e) { return "(" + t.internal.pdfEscape(e) + ")" }, t.outline.objStart = function (t) { this.ctx.val += "\r\n" + t.id + " 0 obj\r\n<<\r\n" }, t.outline.objEnd = function (t) { this.ctx.val += ">> \r\nendobj\r\n" }, t.outline.count_r = function (t, e) { for (var n = 0; n < e.children.length; n++)t.count++, this.count_r(t, e.children[n]); return t.count } }]), tl = e.API, tu = function t() { var e = "function" == typeof tD; if (!e) throw Error("requires deflate.js for compression"); return e }, th = function t(e, n, i, o) { var s = 5, a = tg; switch (o) { case tl.image_compression.FAST: s = 3, a = t0; break; case tl.image_compression.MEDIUM: s = 6, a = tm; break; case tl.image_compression.SLOW: s = 9, a = tx }e = tp(e, n, i, a); var c = new Uint8Array(tf(s)), $ = td(e), l = new tD(s), u = l.append(e), h = l.flush(), f = c.length + u.length + h.length, d = new Uint8Array(f + 4); return d.set(c), d.set(u, c.length), d.set(h, c.length + u.length), d[f++] = $ >>> 24 & 255, d[f++] = $ >>> 16 & 255, d[f++] = $ >>> 8 & 255, d[f++] = 255 & $, tl.arrayBufferToBinaryString(d) }, tf = function t(e, n) { var i = Math.LOG2E * Math.log(32768) - 8 << 4 | 8, o = i << 8; return o |= Math.min(3, (n - 1 & 255) >> 1) << 6, o |= 0, [i, 255 & (o += 31 - o % 31)] }, td = function t(e, n) { for (var i, o = 1, s = 0, a = e.length, c = 0; a > 0;) { i = a > n ? n : a, a -= i; do o += e[c++], s += o; while (--i); o %= 65521, s %= 65521 } return (s << 16 | o) >>> 0 }, tp = function t(e, n, i, o) { for (var s, a, c, $ = e.length / n, l = new Uint8Array(e.length + $), u = tw(), h = 0; h < $; h++) { if (c = h * n, s = e.subarray(c, c + n), o) l.set(o(s, i, a), c + h); else { for (var f = 0, d = u.length, p = []; f < d; f++)p[f] = u[f](s, i, a); var _ = ty(p.concat()); l.set(p[_], c + h) } a = s } return l }, t_ = function t(e, n, i) { var o = Array.apply([], e); return o.unshift(0), o }, t0 = function t(e, n, i) { var o, s = [], a = 0, c = e.length; for (s[0] = 1; a < c; a++)o = e[a - n] || 0, s[a + 1] = e[a] - o + 256 & 255; return s }, tg = function t(e, n, i) { var o, s = [], a = 0, c = e.length; for (s[0] = 2; a < c; a++)o = i && i[a] || 0, s[a + 1] = e[a] - o + 256 & 255; return s }, tm = function t(e, n, i) { var o, s, a = [], c = 0, $ = e.length; for (a[0] = 3; c < $; c++)o = e[c - n] || 0, s = i && i[c] || 0, a[c + 1] = e[c] + 256 - (o + s >>> 1) & 255; return a }, tx = function t(e, n, i) { var o, s, a, c, $ = [], l = 0, u = e.length; for ($[0] = 4; l < u; l++)o = e[l - n] || 0, c = t3(o, s = i && i[l] || 0, a = i && i[l - n] || 0), $[l + 1] = e[l] - c + 256 & 255; return $ }, t3 = function t(e, n, i) { var o = e + n - i, s = Math.abs(o - e), a = Math.abs(o - n), c = Math.abs(o - i); return s <= a && s <= c ? e : a <= c ? n : i }, tw = function t() { return [t_, t0, tg, tm, tx] }, ty = function t(e) { for (var n, i, o, s = 0, a = e.length; s < a;)((n = t1(e[s].slice(1))) < i || !i) && (i = n, o = s), s++; return o }, t1 = function t(e) { for (var n = 0, i = e.length, o = 0; n < i;)o += Math.abs(e[n++]); return o }, tv = function t(e) { var n; switch (e) { case tl.image_compression.FAST: n = 11; break; case tl.image_compression.MEDIUM: n = 13; break; case tl.image_compression.SLOW: n = 14; break; default: n = 12 }return n }, tl.processPNG = function (t, e, n, i, o) { var s, a, c, $, l, u, h = this.color_spaces.DEVICE_RGB, f = this.decode.FLATE_DECODE, d = 8; if (this.isArrayBuffer(t) && (t = new Uint8Array(t)), this.isArrayBufferView(t)) { if ("function" != typeof PNG || "function" != typeof tM) throw Error("PNG support requires png.js and zlib.js"); if (t = (s = new PNG(t)).imgData, d = s.bits, h = s.colorSpace, $ = s.colors, -1 !== [4, 6].indexOf(s.colorType)) { if (8 === s.bits) for (var p, _, m, x = 32 == s.pixelBitlength ? new Uint32Array(s.decodePixels().buffer) : 16 == s.pixelBitlength ? new Uint16Array(s.decodePixels().buffer) : new Uint8Array(s.decodePixels().buffer), w = x.length, y = new Uint8Array(w * s.colors), v = new Uint8Array(w), k = s.pixelBitlength - s.bits, C = 0, q = 0; C < w; C++) { for (_ = x[C], m = 0; m < k;)y[q++] = _ >>> m & 255, m += s.bits; v[C] = _ >>> m & 255 } if (16 === s.bits) { for (var _, x = new Uint32Array(s.decodePixels().buffer), w = x.length, y = new Uint8Array(w * (32 / s.pixelBitlength) * s.colors), v = new Uint8Array(w * (32 / s.pixelBitlength)), S = s.colors > 1, C = 0, q = 0, T = 0; C < w;)_ = x[C++], y[q++] = _ >>> 0 & 255, S && (y[q++] = _ >>> 16 & 255, _ = x[C++], y[q++] = _ >>> 0 & 255), v[T++] = _ >>> 16 & 255; d = 8 } (p = i) !== tl.image_compression.NONE && tu() ? (t = th(y, s.width * s.colors, s.colors, i), u = th(v, s.width, 1, i)) : (t = y, u = v, f = null) } if (3 === s.colorType && (h = this.color_spaces.INDEXED, l = s.palette, s.transparency.indexed)) { for (var A = s.transparency.indexed, P = 0, C = 0, w = A.length; C < w; ++C)P += A[C]; if ((P /= 255) == w - 1 && -1 !== A.indexOf(0)) c = [A.indexOf(0)]; else if (P !== w) { for (var x = s.decodePixels(), v = new Uint8Array(x.length), C = 0, w = x.length; C < w; C++)v[C] = A[x[C]]; u = th(v, s.width, 1) } } var F = tv(i); return a = f === this.decode.FLATE_DECODE ? "/Predictor " + F + " /Colors " + $ + " /BitsPerComponent " + d + " /Columns " + s.width : "/Colors " + $ + " /BitsPerComponent " + d + " /Columns " + s.width, (this.isArrayBuffer(t) || this.isArrayBufferView(t)) && (t = this.arrayBufferToBinaryString(t)), (u && this.isArrayBuffer(u) || this.isArrayBufferView(u)) && (u = this.arrayBufferToBinaryString(u)), this.createImageInfo(t, s.width, s.height, h, d, f, e, n, a, c, l, u, F) } throw Error("Unsupported PNG image data, try using JPEG instead.") }, (tb = e.API).autoPrint = function () { var t; return this.internal.events.subscribe("postPutResources", function () { t = this.internal.newObject(), this.internal.write("<< /S/Named /Type/Action /N/Print >>", "endobj") }), this.internal.events.subscribe("putCatalog", function () { this.internal.write("/OpenAction " + t + " 0 R") }), this }, t5 = (t2 = e.API).getCharWidthsArray = function (t, e) { e || (e = {}); var n, i, o, s = e.widths ? e.widths : this.internal.getFont().metadata.Unicode.widths, a = s.fof ? s.fof : 1, c = e.kerning ? e.kerning : this.internal.getFont().metadata.Unicode.kerning, $ = c.fof ? c.fof : 1, l = 0, u = s[0] || a, h = []; for (n = 0, i = t.length; n < i; n++)o = t.charCodeAt(n), h.push((s[o] || u) / a + (c[o] && c[o][l] || 0) / $), l = o; return h }, t6 = function t(e) { for (var n = e.length, i = 0; n;)i += e[--n]; return i }, t4 = t2.getStringUnitWidth = function (t, e) { return t6(t5.call(this, t, e)) }, tk = function t(e, n, i, o) { for (var s = [], a = 0, c = e.length, $ = 0; a !== c && $ + n[a] < i;)$ += n[a], a++; s.push(e.slice(0, a)); var l = a; for ($ = 0; a !== c;)$ + n[a] > o && (s.push(e.slice(l, a)), $ = 0, l = a), $ += n[a], a++; return l !== a && s.push(e.slice(l, a)), s }, t8 = function t(e, n, i) { i || (i = {}); var o, s, a, c, $, l, u = [], h = [u], f = i.textIndent || 0, d = 0, p = 0, _ = e.split(" "), m = t5(" ", i)[0]; if (l = -1 === i.lineIndent ? _[0].length + 2 : i.lineIndent || 0) { var x = Array(l).join(" "), w = []; _.map(function (t) { (t = t.split(/\s*\n/)).length > 1 ? w = w.concat(t.map(function (t, e) { return (e && t.length ? "\n" : "") + t })) : w.push(t[0]) }), _ = w, l = t4(x, i) } for (a = 0, c = _.length; a < c; a++) { var y = 0; if (o = _[a], l && "\n" == o[0] && (o = o.substr(1), y = 1), f + d + (p = t6(s = t5(o, i))) > n || y) { if (p > n) { for ($ = tk(o, s, n - (f + d), n), u.push($.shift()), u = [$.pop()]; $.length;)h.push([$.shift()]); p = t6(s.slice(o.length - u[0].length)) } else u = [o]; h.push(u), f = p + l, d = m } else u.push(o), f += d + p, d = m } if (l) var v = function t(e, n) { return (n ? x : "") + e.join(" ") }; else var v = function t(e) { return e.join(" ") }; return h.map(v) }, t2.splitTextToSize = function (t, e, n) { n || (n = {}); var i = n.fontSize || this.internal.getFontSize(), o = (function (t) { var e = { 0: 1 }, n = {}; if (t.widths && t.kerning) return { widths: t.widths, kerning: t.kerning }; var i = this.internal.getFont(t.fontName, t.fontStyle), o = "Unicode"; return i.metadata[o] ? { widths: i.metadata[o].widths || e, kerning: i.metadata[o].kerning || n } : { widths: e, kerning: n } }).call(this, n); a = Array.isArray(t) ? t : t.split(/\r?\n/); var s = 1 * this.internal.scaleFactor * e / i; o.textIndent = n.textIndent ? 1 * n.textIndent * this.internal.scaleFactor / i : 0, o.lineIndent = n.lineIndent; var a, c, $, l = []; for (c = 0, $ = a.length; c < $; c++)l = l.concat(t8(a[c], s, o)); return l }, function (t) { var e = function t(e) { for (var n = "klmnopqrstuvwxyz", i = {}, o = 0; o < n.length; o++)i[n[o]] = "0123456789abcdef"[o]; var s, a, c, $, l, u = {}, h = 1, f = u, d = [], p = "", _ = "", m = e.length - 1; for (o = 1; o != m;)l = e[o], o += 1, "'" == l ? a ? ($ = a.join(""), a = s) : a = [] : a ? a.push(l) : "{" == l ? (d.push([f, $]), f = {}, $ = s) : "}" == l ? ((c = d.pop())[0][c[1]] = f, $ = s, f = c[0]) : "-" == l ? h = -1 : $ === s ? i.hasOwnProperty(l) ? (p += i[l], $ = parseInt(p, 16) * h, h = 1, p = "") : p += l : i.hasOwnProperty(l) ? (_ += i[l], f[$] = parseInt(_, 16) * h, h = 1, $ = s, _ = "") : _ += l; return u }, n = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, i = { Unicode: { Courier: n, "Courier-Bold": n, "Courier-BoldOblique": n, "Courier-Oblique": n, Helvetica: n, "Helvetica-Bold": n, "Helvetica-BoldOblique": n, "Helvetica-Oblique": n, "Times-Roman": n, "Times-Bold": n, "Times-BoldItalic": n, "Times-Italic": n } }, o = { Unicode: { "Courier-Oblique": e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Helvetica: e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), "Courier-Bold": e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } }; t.events.push(["addFont", function (t) { var e, n, s, a = "Unicode"; (e = o[a][t.PostScriptName]) && ((n = t.metadata[a] ? t.metadata[a] : t.metadata[a] = {}).widths = e.widths, n.kerning = e.kerning), (s = i[a][t.PostScriptName]) && ((n = t.metadata[a] ? t.metadata[a] : t.metadata[a] = {}).encoding = s, s.codePages && s.codePages.length && (t.encoding = s.codePages[0])) }]) }(e.API), (t7 = e.API).addSVG = function (t, e, n, i, o) { if (e === y || n === y) throw Error("addSVG needs values for 'x' and 'y'"); function s(t) { for (var e = parseFloat(t[1]), n = parseFloat(t[2]), i = [], o = 3, s = t.length; o < s;)"c" === t[o] ? (i.push([parseFloat(t[o + 1]), parseFloat(t[o + 2]), parseFloat(t[o + 3]), parseFloat(t[o + 4]), parseFloat(t[o + 5]), parseFloat(t[o + 6])]), o += 7) : "l" === t[o] ? (i.push([parseFloat(t[o + 1]), parseFloat(t[o + 2])]), o += 3) : o += 1; return [e, n, i] } var a, c, $, l, u, h, f, d, p = (c = (a = document).createElement("iframe"), $ = ".jsPDF_sillysvg_iframe {display:none;position:absolute;}", (u = (l = a).createElement("style")).type = "text/css", u.styleSheet ? u.styleSheet.cssText = $ : u.appendChild(l.createTextNode($)), l.getElementsByTagName("head")[0].appendChild(u), c.name = "childframe", c.setAttribute("width", 0), c.setAttribute("height", 0), c.setAttribute("frameborder", "0"), c.setAttribute("scrolling", "no"), c.setAttribute("seamless", "seamless"), c.setAttribute("class", "jsPDF_sillysvg_iframe"), a.body.appendChild(c), c), _ = (h = t, (d = ((f = p).contentWindow || f.contentDocument).document).write(h), d.close(), d.getElementsByTagName("svg")[0]), m = [1, 1], x = parseFloat(_.getAttribute("width")), w = parseFloat(_.getAttribute("height")); x && w && (i && o ? m = [i / x, o / w] : i ? m = [i / x, i / x] : o && (m = [o / w, o / w])); var y, v, k, C, q, S = _.childNodes; for (v = 0, k = S.length; v < k; v++)(C = S[v]).tagName && "PATH" === C.tagName.toUpperCase() && ((q = s(C.getAttribute("d").split(" ")))[0] = q[0] * m[0] + e, q[1] = q[1] * m[1] + n, this.lines.call(this, q[2], q[0], q[1], m)); return this }, (tC = e.API).putTotalPages = function (t) { for (var e = RegExp(t, "g"), n = 1; n <= this.internal.getNumberOfPages(); n++)for (var i = 0; i < this.internal.pages[n].length; i++)this.internal.pages[n][i] = this.internal.pages[n][i].replace(e, this.internal.getNumberOfPages()); return this }, tq = e.API, tS = "", tT = "", tA = "", tq.addMetadata = function (t, e) { return tT = e || "http://jspdf.default.namespaceuri/", tS = t, this.internal.events.subscribe("postPutResources", function () { if (tS) { var t = '<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + tT + '"><jspdf:metadata>', e = unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')), n = unescape(encodeURIComponent(t)), i = unescape(encodeURIComponent(tS)), o = unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")), s = unescape(encodeURIComponent("</x:xmpmeta>")), a = n.length + i.length + o.length + e.length + s.length; tA = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + a + " >>"), this.internal.write("stream"), this.internal.write(e + n + i + o + s), this.internal.write("endstream"), this.internal.write("endobj") } else tA = "" }), this.internal.events.subscribe("putCatalog", function () { tA && this.internal.write("/Metadata " + tA + " 0 R") }), this }, function (t) { if (t.URL = t.URL || t.webkitURL, t.Blob && t.URL) try { new Blob; return } catch (e) { } var n = t.BlobBuilder || t.WebKitBlobBuilder || t.MozBlobBuilder || function (t) { var e = function (t) { return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1] }, n = function t() { this.data = [] }, i = function t(e, n, i) { this.data = e, this.size = e.length, this.type = n, this.encoding = i }, o = n.prototype, s = i.prototype, a = t.FileReaderSync, c = function (t) { this.code = this[this.name = t] }, $ = "NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "), l = $.length, u = t.URL || t.webkitURL || t, h = u.createObjectURL, f = u.revokeObjectURL, d = u, p = t.btoa, _ = t.atob, m = t.ArrayBuffer, x = t.Uint8Array, w = /^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/; for (i.fake = s.fake = !0; l--;)c.prototype[$[l]] = l + 1; return u.createObjectURL || (d = t.URL = function (t) { var e, n = document.createElementNS("http://www.w3.org/1999/xhtml", "a"); return n.href = t, "origin" in n || ("data:" === n.protocol.toLowerCase() ? n.origin = null : (e = t.match(w), n.origin = e && e[1])), n }), d.createObjectURL = function (t) { var e, n = t.type; return (null === n && (n = "application/octet-stream"), t instanceof i) ? (e = "data:" + n, "base64" === t.encoding) ? e + ";base64," + t.data : "URI" === t.encoding ? e + "," + decodeURIComponent(t.data) : p ? e + ";base64," + p(t.data) : e + "," + encodeURIComponent(t.data) : h ? h.call(u, t) : void 0 }, d.revokeObjectURL = function (t) { "data:" !== t.substring(0, 5) && f && f.call(u, t) }, o.append = function (t) { var n = this.data; if (x && (t instanceof m || t instanceof x)) { for (var o = "", s = new x(t), $ = 0, l = s.length; $ < l; $++)o += String.fromCharCode(s[$]); n.push(o) } else if ("Blob" === e(t) || "File" === e(t)) { if (a) { var u = new a; n.push(u.readAsBinaryString(t)) } else throw new c("NOT_READABLE_ERR") } else t instanceof i ? "base64" === t.encoding && _ ? n.push(_(t.data)) : "URI" === t.encoding ? n.push(decodeURIComponent(t.data)) : "raw" === t.encoding && n.push(t.data) : ("string" != typeof t && (t += ""), n.push(unescape(encodeURIComponent(t)))) }, o.getBlob = function (t) { return arguments.length || (t = null), new i(this.data.join(""), t, "raw") }, o.toString = function () { return "[object BlobBuilder]" }, s.slice = function (t, e, n) { var o = arguments.length; return o < 3 && (n = null), new i(this.data.slice(t, o > 1 ? e : this.data.length), n, this.encoding) }, s.toString = function () { return "[object Blob]" }, s.close = function () { this.size = 0, delete this.data }, n }(t); t.Blob = function (t, e) { var i = e && e.type || "", o = new n; if (t) for (var s = 0, a = t.length; s < a; s++)Uint8Array && t[s] instanceof Uint8Array ? o.append(t[s].buffer) : o.append(t[s]); var c = o.getBlob(i); return !c.slice && c.webkitSlice && (c.slice = c.webkitSlice), c }; var i = Object.getPrototypeOf || function (t) { return t.__proto__ }; t.Blob.prototype = i(new t.Blob) }("undefined" != typeof self && self || "undefined" != typeof window && window || (void 0).content || void 0);/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */ var tF, tE, tI = tI || function (t) { if (!("undefined" != typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent))) { var e = t.document, n = function () { return t.URL || t.webkitURL || t }, i = e.createElementNS("http://www.w3.org/1999/xhtml", "a"), o = "download" in i, s = function (t) { var e = new MouseEvent("click"); t.dispatchEvent(e) }, a = /Version\/[\d\.]+.*Safari/.test(navigator.userAgent), c = t.webkitRequestFileSystem, $ = t.requestFileSystem || c || t.mozRequestFileSystem, l = function (e) { (t.setImmediate || t.setTimeout)(function () { throw e }, 0) }, u = "application/octet-stream", h = 0, f = function (e) { var i = function () { "string" == typeof e ? n().revokeObjectURL(e) : e.remove() }; t.chrome ? i() : setTimeout(i, 500) }, d = function (t, e, n) { for (var i = (e = [].concat(e)).length; i--;) { var o = t["on" + e[i]]; if ("function" == typeof o) try { o.call(t, n || t) } catch (s) { l(s) } } }, p = function (t) { return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type) ? new Blob(["\uFEFF", t], { type: t.type }) : t }, _ = function (e, l, _) { _ || (e = p(e)); var m, x, w, y = this, v = e.type, k = !1, C = function () { d(y, "writestart progress write writeend".split(" ")) }, q = function () { if (x && a && "undefined" != typeof FileReader) { var i = new FileReader; i.onloadend = function () { var t = i.result; x.location.href = "data:attachment/file" + t.slice(t.search(/[,;]/)), y.readyState = y.DONE, C() }, i.readAsDataURL(e), y.readyState = y.INIT; return } ((k || !m) && (m = n().createObjectURL(e)), x) ? x.location.href = m : void 0 == t.open(m, "_blank") && a && (t.location.href = m), y.readyState = y.DONE, C(), f(m) }, S = function (t) { return function () { if (y.readyState !== y.DONE) return t.apply(this, arguments) } }, T = { create: !0, exclusive: !1 }; if (y.readyState = y.INIT, l || (l = "download"), o) { m = n().createObjectURL(e), setTimeout(function () { i.href = m, i.download = l, s(i), C(), f(m), y.readyState = y.DONE }); return } if (t.chrome && v && v !== u && (e = (w = e.slice || e.webkitSlice).call(e, 0, e.size, u), k = !0), c && "download" !== l && (l += ".download"), (v === u || c) && (x = t), !$) { q(); return } h += e.size, $(t.TEMPORARY, h, S(function (t) { t.root.getDirectory("saved", T, S(function (t) { var n = function () { t.getFile(l, T, S(function (t) { t.createWriter(S(function (n) { n.onwriteend = function (e) { x.location.href = t.toURL(), y.readyState = y.DONE, d(y, "writeend", e), f(t) }, n.onerror = function () { var t = n.error; t.code !== t.ABORT_ERR && q() }, "writestart progress write abort".split(" ").forEach(function (t) { n["on" + t] = y["on" + t] }), n.write(e), y.abort = function () { n.abort(), y.readyState = y.DONE }, y.readyState = y.WRITING }), q) }), q) }; t.getFile(l, { create: !1 }, S(function (t) { t.remove(), n() }), S(function (t) { t.code === t.NOT_FOUND_ERR ? n() : q() })) }), q) }), q) }, m = _.prototype, x = function (t, e, n) { return new _(t, e, n) }; return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function (t, e, n) { return n || (t = p(t)), navigator.msSaveOrOpenBlob(t, e || "download") } : (m.abort = function () { var t = this; t.readyState = t.DONE, d(t, "abort") }, m.readyState = m.INIT = 0, m.WRITING = 1, m.DONE = 2, m.error = m.onwritestart = m.onprogress = m.onwrite = m.onabort = m.onerror = m.onwriteend = null, x) } }("undefined" != typeof self && self || "undefined" != typeof window && window || (void 0).content); "undefined" != typeof module && module.exports ? module.exports.saveAs = tI : "undefined" != typeof define && null !== define && null != define.amd && define([], function () { return tI }), tF = e, tE = function () { var t, e, n, i, o, s = "function" == typeof ArrayBuffer && "function" == typeof Uint8Array, a = null, c = function () { if (!s) return function t() { return !1 }; try { var t = {}; "function" == typeof t.Buffer && (a = t.Buffer) } catch (e) { } return function t(e) { return e instanceof ArrayBuffer || null !== a && e instanceof a } }(), $ = null !== a ? function t(e) { return new a(e, "utf8").toString("binary") } : function t(e) { return unescape(encodeURIComponent(e)) }, l = function t(e, n) { for (var i = 65535 & e, o = e >>> 16, s = 0, a = n.length; s < a; s++)o = (o + (i = (i + (255 & n.charCodeAt(s))) % 65521)) % 65521; return (o << 16 | i) >>> 0 }, u = function t(e, n) { for (var i = 65535 & e, o = e >>> 16, s = 0, a = n.length; s < a; s++)o = (o + (i = (i + n[s]) % 65521)) % 65521; return (o << 16 | i) >>> 0 }, h = {}, f = h.Adler32 = (i = function t(e) { if (!(this instanceof i)) throw TypeError("Constructor cannot called be as a function."); if (!isFinite(e = null == e ? 1 : +e)) throw Error("First arguments needs to be a finite number."); this.checksum = e >>> 0 }, o = i.prototype = {}, o.constructor = i, i.from = ((e = function t(e) { if (!(this instanceof i)) throw TypeError("Constructor cannot called be as a function."); if (null == e) throw Error("First argument needs to be a string."); this.checksum = l(1, e.toString()) }).prototype = o, e), i.fromUtf8 = ((n = function t(e) { if (!(this instanceof i)) throw TypeError("Constructor cannot called be as a function."); if (null == e) throw Error("First argument needs to be a string."); var n = $(e.toString()); this.checksum = l(1, n) }).prototype = o, n), s && (i.fromBuffer = ((t = function t(e) { if (!(this instanceof i)) throw TypeError("Constructor cannot called be as a function."); if (!c(e)) throw Error("First argument needs to be ArrayBuffer."); var n = new Uint8Array(e); return this.checksum = u(1, n) }).prototype = o, t)), o.update = function t(e) { if (null == e) throw Error("First argument needs to be a string."); return e = e.toString(), this.checksum = l(this.checksum, e) }, o.updateUtf8 = function t(e) { if (null == e) throw Error("First argument needs to be a string."); var n = $(e.toString()); return this.checksum = l(this.checksum, n) }, s && (o.updateBuffer = function t(e) { if (!c(e)) throw Error("First argument needs to be ArrayBuffer."); var n = new Uint8Array(e); return this.checksum = u(this.checksum, n) }), o.clone = function t() { return new f(this.checksum) }, i); return h.from = function t(e) { if (null == e) throw Error("First argument needs to be a string."); return l(1, e.toString()) }, h.fromUtf8 = function t(e) { if (null == e) throw Error("First argument needs to be a string."); var n = $(e.toString()); return l(1, n) }, s && (h.fromBuffer = function t(e) { if (!c(e)) throw Error("First argument need to be ArrayBuffer."); var n = new Uint8Array(e); return u(1, n) }), h }, "object" == typeof module ? module.exports = tE() : "function" == typeof define ? define(tE) : tF.adler32cs = tE(); var tB = {}; tB._colorsTable = { aliceblue: "#f0f8ff", antiquewhite: "#faebd7", aqua: "#00ffff", aquamarine: "#7fffd4", azure: "#f0ffff", beige: "#f5f5dc", bisque: "#ffe4c4", black: "#000000", blanchedalmond: "#ffebcd", blue: "#0000ff", blueviolet: "#8a2be2", brown: "#a52a2a", burlywood: "#deb887", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", cornflowerblue: "#6495ed", cornsilk: "#fff8dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkgray: "#a9a9a9", darkgreen: "#006400", darkkhaki: "#bdb76b", darkmagenta: "#8b008b", darkolivegreen: "#556b2f", darkorange: "#ff8c00", darkorchid: "#9932cc", darkred: "#8b0000", darksalmon: "#e9967a", darkseagreen: "#8fbc8f", darkslateblue: "#483d8b", darkslategray: "#2f4f4f", darkturquoise: "#00ced1", darkviolet: "#9400d3", deeppink: "#ff1493", deepskyblue: "#00bfff", dimgray: "#696969", dodgerblue: "#1e90ff", firebrick: "#b22222", floralwhite: "#fffaf0", forestgreen: "#228b22", fuchsia: "#ff00ff", gainsboro: "#dcdcdc", ghostwhite: "#f8f8ff", gold: "#ffd700", goldenrod: "#daa520", gray: "#808080", green: "#008000", greenyellow: "#adff2f", honeydew: "#f0fff0", hotpink: "#ff69b4", "indianred ": "#cd5c5c", indigo: "#4b0082", ivory: "#fffff0", khaki: "#f0e68c", lavender: "#e6e6fa", lavenderblush: "#fff0f5", lawngreen: "#7cfc00", lemonchiffon: "#fffacd", lightblue: "#add8e6", lightcoral: "#f08080", lightcyan: "#e0ffff", lightgoldenrodyellow: "#fafad2", lightgrey: "#d3d3d3", lightgreen: "#90ee90", lightpink: "#ffb6c1", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", lightskyblue: "#87cefa", lightslategray: "#778899", lightsteelblue: "#b0c4de", lightyellow: "#ffffe0", lime: "#00ff00", limegreen: "#32cd32", linen: "#faf0e6", magenta: "#ff00ff", maroon: "#800000", mediumaquamarine: "#66cdaa", mediumblue: "#0000cd", mediumorchid: "#ba55d3", mediumpurple: "#9370d8", mediumseagreen: "#3cb371", mediumslateblue: "#7b68ee", mediumspringgreen: "#00fa9a", mediumturquoise: "#48d1cc", mediumvioletred: "#c71585", midnightblue: "#191970", mintcream: "#f5fffa", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", navajowhite: "#ffdead", navy: "#000080", oldlace: "#fdf5e6", olive: "#808000", olivedrab: "#6b8e23", orange: "#ffa500", orangered: "#ff4500", orchid: "#da70d6", palegoldenrod: "#eee8aa", palegreen: "#98fb98", paleturquoise: "#afeeee", palevioletred: "#d87093", papayawhip: "#ffefd5", peachpuff: "#ffdab9", peru: "#cd853f", pink: "#ffc0cb", plum: "#dda0dd", powderblue: "#b0e0e6", purple: "#800080", red: "#ff0000", rosybrown: "#bc8f8f", royalblue: "#4169e1", saddlebrown: "#8b4513", salmon: "#fa8072", sandybrown: "#f4a460", seagreen: "#2e8b57", seashell: "#fff5ee", sienna: "#a0522d", silver: "#c0c0c0", skyblue: "#87ceeb", slateblue: "#6a5acd", slategray: "#708090", snow: "#fffafa", springgreen: "#00ff7f", steelblue: "#4682b4", tan: "#d2b48c", teal: "#008080", thistle: "#d8bfd8", tomato: "#ff6347", turquoise: "#40e0d0", violet: "#ee82ee", wheat: "#f5deb3", white: "#ffffff", whitesmoke: "#f5f5f5", yellow: "#ffff00", yellowgreen: "#9acd32" }, tB.colorNameToHex = function (t) { return t = t.toLowerCase(), void 0 !== this._colorsTable[t] && this._colorsTable[t] }; var tR, tO, tD = function (t) { var e = 573, n = [0, 1, 2, 3, 4, 4, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 0, 0, 16, 17, 18, 18, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29]; function i() { var t = this; function n(t, e) { var n = 0; do n |= 1 & t, t >>>= 1, n <<= 1; while (--e > 0); return n >>> 1 } t.build_tree = function (i) { var o, s, a, c = t.dyn_tree, $ = t.stat_desc.static_tree, l = t.stat_desc.elems, u = -1; for (o = 0, i.heap_len = 0, i.heap_max = e; o < l; o++)0 !== c[2 * o] ? (i.heap[++i.heap_len] = u = o, i.depth[o] = 0) : c[2 * o + 1] = 0; for (; i.heap_len < 2;)c[2 * (a = i.heap[++i.heap_len] = u < 2 ? ++u : 0)] = 1, i.depth[a] = 0, i.opt_len--, $ && (i.static_len -= $[2 * a + 1]); for (t.max_code = u, o = Math.floor(i.heap_len / 2); o >= 1; o--)i.pqdownheap(c, o); a = l; do o = i.heap[1], i.heap[1] = i.heap[i.heap_len--], i.pqdownheap(c, 1), s = i.heap[1], i.heap[--i.heap_max] = o, i.heap[--i.heap_max] = s, c[2 * a] = c[2 * o] + c[2 * s], i.depth[a] = Math.max(i.depth[o], i.depth[s]) + 1, c[2 * o + 1] = c[2 * s + 1] = a, i.heap[1] = a++, i.pqdownheap(c, 1); while (i.heap_len >= 2); i.heap[--i.heap_max] = i.heap[1], function n(i) { var o, s, a, c, $, l, u = t.dyn_tree, h = t.stat_desc.static_tree, f = t.stat_desc.extra_bits, d = t.stat_desc.extra_base, p = t.stat_desc.max_length, _ = 0; for (c = 0; c <= 15; c++)i.bl_count[c] = 0; for (u[2 * i.heap[i.heap_max] + 1] = 0, o = i.heap_max + 1; o < e; o++)(c = u[2 * u[2 * (s = i.heap[o]) + 1] + 1] + 1) > p && (c = p, _++), u[2 * s + 1] = c, !(s > t.max_code) && (i.bl_count[c]++, $ = 0, s >= d && ($ = f[s - d]), l = u[2 * s], i.opt_len += l * (c + $), h && (i.static_len += l * (h[2 * s + 1] + $))); if (0 !== _) { do { for (c = p - 1; 0 === i.bl_count[c];)c--; i.bl_count[c]--, i.bl_count[c + 1] += 2, i.bl_count[p]--, _ -= 2 } while (_ > 0); for (c = p; 0 !== c; c--)for (s = i.bl_count[c]; 0 !== s;)!((a = i.heap[--o]) > t.max_code) && (u[2 * a + 1] != c && (i.opt_len += (c - u[2 * a + 1]) * u[2 * a], u[2 * a + 1] = c), s--) } }(i), function t(e, i, o) { var s, a, c, $ = [], l = 0; for (s = 1; s <= 15; s++)$[s] = l = l + o[s - 1] << 1; for (a = 0; a <= i; a++)0 !== (c = e[2 * a + 1]) && (e[2 * a] = n($[c]++, c)) }(c, t.max_code, i.bl_count) } } function o(t, e, n, i, o) { var s = this; s.static_tree = t, s.extra_bits = e, s.extra_base = n, s.elems = i, s.max_length = o } function s(t, e, n, i, o) { var s = this; s.good_length = t, s.max_lazy = e, s.nice_length = n, s.max_chain = i, s.func = o } i._length_code = [0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 12, 12, 13, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 28], i.base_length = [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 14, 16, 20, 24, 28, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 0], i.base_dist = [0, 1, 2, 3, 4, 6, 8, 12, 16, 24, 32, 48, 64, 96, 128, 192, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 6144, 8192, 12288, 16384, 24576], i.d_code = function (t) { return t < 256 ? n[t] : n[256 + (t >>> 7)] }, i.extra_lbits = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], i.extra_dbits = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], i.extra_blbits = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], i.bl_order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], o.static_ltree = [12, 8, 140, 8, 76, 8, 204, 8, 44, 8, 172, 8, 108, 8, 236, 8, 28, 8, 156, 8, 92, 8, 220, 8, 60, 8, 188, 8, 124, 8, 252, 8, 2, 8, 130, 8, 66, 8, 194, 8, 34, 8, 162, 8, 98, 8, 226, 8, 18, 8, 146, 8, 82, 8, 210, 8, 50, 8, 178, 8, 114, 8, 242, 8, 10, 8, 138, 8, 74, 8, 202, 8, 42, 8, 170, 8, 106, 8, 234, 8, 26, 8, 154, 8, 90, 8, 218, 8, 58, 8, 186, 8, 122, 8, 250, 8, 6, 8, 134, 8, 70, 8, 198, 8, 38, 8, 166, 8, 102, 8, 230, 8, 22, 8, 150, 8, 86, 8, 214, 8, 54, 8, 182, 8, 118, 8, 246, 8, 14, 8, 142, 8, 78, 8, 206, 8, 46, 8, 174, 8, 110, 8, 238, 8, 30, 8, 158, 8, 94, 8, 222, 8, 62, 8, 190, 8, 126, 8, 254, 8, 1, 8, 129, 8, 65, 8, 193, 8, 33, 8, 161, 8, 97, 8, 225, 8, 17, 8, 145, 8, 81, 8, 209, 8, 49, 8, 177, 8, 113, 8, 241, 8, 9, 8, 137, 8, 73, 8, 201, 8, 41, 8, 169, 8, 105, 8, 233, 8, 25, 8, 153, 8, 89, 8, 217, 8, 57, 8, 185, 8, 121, 8, 249, 8, 5, 8, 133, 8, 69, 8, 197, 8, 37, 8, 165, 8, 101, 8, 229, 8, 21, 8, 149, 8, 85, 8, 213, 8, 53, 8, 181, 8, 117, 8, 245, 8, 13, 8, 141, 8, 77, 8, 205, 8, 45, 8, 173, 8, 109, 8, 237, 8, 29, 8, 157, 8, 93, 8, 221, 8, 61, 8, 189, 8, 125, 8, 253, 8, 19, 9, 275, 9, 147, 9, 403, 9, 83, 9, 339, 9, 211, 9, 467, 9, 51, 9, 307, 9, 179, 9, 435, 9, 115, 9, 371, 9, 243, 9, 499, 9, 11, 9, 267, 9, 139, 9, 395, 9, 75, 9, 331, 9, 203, 9, 459, 9, 43, 9, 299, 9, 171, 9, 427, 9, 107, 9, 363, 9, 235, 9, 491, 9, 27, 9, 283, 9, 155, 9, 411, 9, 91, 9, 347, 9, 219, 9, 475, 9, 59, 9, 315, 9, 187, 9, 443, 9, 123, 9, 379, 9, 251, 9, 507, 9, 7, 9, 263, 9, 135, 9, 391, 9, 71, 9, 327, 9, 199, 9, 455, 9, 39, 9, 295, 9, 167, 9, 423, 9, 103, 9, 359, 9, 231, 9, 487, 9, 23, 9, 279, 9, 151, 9, 407, 9, 87, 9, 343, 9, 215, 9, 471, 9, 55, 9, 311, 9, 183, 9, 439, 9, 119, 9, 375, 9, 247, 9, 503, 9, 15, 9, 271, 9, 143, 9, 399, 9, 79, 9, 335, 9, 207, 9, 463, 9, 47, 9, 303, 9, 175, 9, 431, 9, 111, 9, 367, 9, 239, 9, 495, 9, 31, 9, 287, 9, 159, 9, 415, 9, 95, 9, 351, 9, 223, 9, 479, 9, 63, 9, 319, 9, 191, 9, 447, 9, 127, 9, 383, 9, 255, 9, 511, 9, 0, 7, 64, 7, 32, 7, 96, 7, 16, 7, 80, 7, 48, 7, 112, 7, 8, 7, 72, 7, 40, 7, 104, 7, 24, 7, 88, 7, 56, 7, 120, 7, 4, 7, 68, 7, 36, 7, 100, 7, 20, 7, 84, 7, 52, 7, 116, 7, 3, 8, 131, 8, 67, 8, 195, 8, 35, 8, 163, 8, 99, 8, 227, 8], o.static_dtree = [0, 5, 16, 5, 8, 5, 24, 5, 4, 5, 20, 5, 12, 5, 28, 5, 2, 5, 18, 5, 10, 5, 26, 5, 6, 5, 22, 5, 14, 5, 30, 5, 1, 5, 17, 5, 9, 5, 25, 5, 5, 5, 21, 5, 13, 5, 29, 5, 3, 5, 19, 5, 11, 5, 27, 5, 7, 5, 23, 5], o.static_l_desc = new o(o.static_ltree, i.extra_lbits, 257, 286, 15), o.static_d_desc = new o(o.static_dtree, i.extra_dbits, 0, 30, 15), o.static_bl_desc = new o(null, i.extra_blbits, 0, 19, 7); var a = [new s(0, 0, 0, 0, 0), new s(4, 4, 8, 4, 1), new s(4, 5, 16, 8, 1), new s(4, 6, 32, 32, 1), new s(4, 4, 16, 16, 2), new s(8, 16, 32, 32, 2), new s(8, 16, 128, 128, 2), new s(8, 32, 128, 256, 2), new s(32, 128, 258, 1024, 2), new s(32, 258, 258, 4096, 2)], c = ["need dictionary", "stream end", "", "", "stream error", "data error", "", "buffer error", "", ""]; function $(t, e, n, i) { var o = t[2 * e], s = t[2 * n]; return o < s || o == s && i[e] <= i[n] } function l() { var t, e, n, s, l, u, h, f, d, p, _, m, x, w, y, v, k, C, q, S, T, A, P, F, E, I, B, R, O, D, z, L, j, N, H, W, U, M, X, V, Y, G, J = this, Q = new i, K = new i, Z = new i; function tt() { var t; for (t = 0; t < 286; t++)L[2 * t] = 0; for (t = 0; t < 30; t++)j[2 * t] = 0; for (t = 0; t < 19; t++)N[2 * t] = 0; L[512] = 1, J.opt_len = J.static_len = 0, U = X = 0 } function te(t, e) { var n, i, o = -1, s = t[1], a = 0, c = 7, $ = 4; for (0 === s && (c = 138, $ = 3), t[(e + 1) * 2 + 1] = 65535, n = 0; n <= e; n++)i = s, s = t[(n + 1) * 2 + 1], (!(++a < c) || i != s) && (a < $ ? N[2 * i] += a : 0 !== i ? (i != o && N[2 * i]++, N[32]++) : a <= 10 ? N[34]++ : N[36]++, a = 0, o = i, 0 === s ? (c = 138, $ = 3) : i == s ? (c = 6, $ = 3) : (c = 7, $ = 4)) } function tn(t) { J.pending_buf[J.pending++] = t } function tr(t) { tn(255 & t), tn(t >>> 8 & 255) } function ti(t, e) { var n, i = e; G > 16 - i ? (tr(Y |= (n = t) << G & 65535), Y = n >>> 16 - G, G += i - 16) : (Y |= t << G & 65535, G += i) } function to(t, e) { var n = 2 * t; ti(65535 & e[n], 65535 & e[n + 1]) } function ts(t, e) { var n, i, o = -1, s = t[1], a = 0, c = 7, $ = 4; for (0 === s && (c = 138, $ = 3), n = 0; n <= e; n++)if (i = s, s = t[(n + 1) * 2 + 1], !(++a < c) || i != s) { if (a < $) do to(i, N); while (0 != --a); else 0 !== i ? (i != o && (to(i, N), a--), to(16, N), ti(a - 3, 2)) : a <= 10 ? (to(17, N), ti(a - 3, 3)) : (to(18, N), ti(a - 11, 7)); a = 0, o = i, 0 === s ? (c = 138, $ = 3) : i == s ? (c = 6, $ = 3) : (c = 7, $ = 4) } } function ta() { 16 == G ? (tr(Y), Y = 0, G = 0) : G >= 8 && (tn(255 & Y), Y >>>= 8, G -= 8) } function tc(t, e) { var n, o, s; if (J.pending_buf[M + 2 * U] = t >>> 8 & 255, J.pending_buf[M + 2 * U + 1] = 255 & t, J.pending_buf[H + U] = 255 & e, U++, 0 === t ? L[2 * e]++ : (X++, t--, L[(i._length_code[e] + 256 + 1) * 2]++, j[2 * i.d_code(t)]++), (8191 & U) == 0 && R > 2) { for (s = 0, n = 8 * U, o = A - C; s < 30; s++)n += j[2 * s] * (5 + i.extra_dbits[s]); if (n >>>= 3, X < Math.floor(U / 2) && n < Math.floor(o / 2)) return !0 } return U == W - 1 } function t$(t, e) { var n, o, s, a, c = 0; if (0 !== U) do n = J.pending_buf[M + 2 * c] << 8 & 65280 | 255 & J.pending_buf[M + 2 * c + 1], o = 255 & J.pending_buf[H + c], c++, 0 === n ? to(o, t) : (to((s = i._length_code[o]) + 256 + 1, t), 0 !== (a = i.extra_lbits[s]) && ti(o -= i.base_length[s], a), n--, to(s = i.d_code(n), e), 0 !== (a = i.extra_dbits[s]) && ti(n -= i.base_dist[s], a)); while (c < U); to(256, t), V = t[513] } function tl() { G > 8 ? tr(Y) : G > 0 && tn(255 & Y), Y = 0, G = 0 } function tu(t, e, n) { var i, o, s; ti(0 + (n ? 1 : 0), 3), i = t, o = e, s = !0, tl(), V = 8, s && (tr(o), tr(~o)), J.pending_buf.set(d.subarray(i, i + o), J.pending), J.pending += o } function th(e) { var n, s, a, c, $, l; n = C >= 0 ? C : -1, s = A - C, a = e, l = 0, R > 0 ? (Q.build_tree(J), K.build_tree(J), l = function t() { var e; for (te(L, Q.max_code), te(j, K.max_code), Z.build_tree(J), e = 18; e >= 3 && 0 === N[2 * i.bl_order[e] + 1]; e--); return J.opt_len += 3 * (e + 1) + 5 + 5 + 4, e }(), c = J.opt_len + 3 + 7 >>> 3, ($ = J.static_len + 3 + 7 >>> 3) <= c && (c = $)) : c = $ = s + 5, s + 4 <= c && -1 != n ? tu(n, s, a) : $ == c ? (ti(2 + (a ? 1 : 0), 3), t$(o.static_ltree, o.static_dtree)) : (ti(4 + (a ? 1 : 0), 3), function t(e, n, o) { var s; for (ti(e - 257, 5), ti(n - 1, 5), ti(o - 4, 4), s = 0; s < o; s++)ti(N[2 * i.bl_order[s] + 1], 3); ts(L, e - 1), ts(j, n - 1) }(Q.max_code + 1, K.max_code + 1, l + 1), t$(L, j)), tt(), a && tl(), C = A, t.flush_pending() } function tf() { var e, n, i, o; do { if (0 == (o = p - F - A) && 0 === A && 0 === F) o = u; else if (-1 == o) o--; else if (A >= u + u - 262) { d.set(d.subarray(u, u + u), 0), P -= u, A -= u, C -= u, i = e = w; do n = 65535 & m[--i], m[i] = n >= u ? n - u : 0; while (0 != --e); i = e = u; do n = 65535 & _[--i], _[i] = n >= u ? n - u : 0; while (0 != --e); o += u } if (0 === t.avail_in) return; e = t.read_buf(d, A + F, o), (F += e) >= 3 && (x = ((x = 255 & d[A]) << k ^ 255 & d[A + 1]) & v) } while (F < 262 && 0 !== t.avail_in) } function td(t) { var e, n, i = I, o = A, s = E, a = A > u - 262 ? A - (u - 262) : 0, c = z, $ = f, l = A + 258, h = d[o + s - 1], p = d[o + s]; E >= D && (i >>= 2), c > F && (c = F); do { if (d[(e = t) + s] != p || d[e + s - 1] != h || d[e] != d[o] || d[++e] != d[o + 1]) continue; o += 2, e++; do; while (d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && d[++o] == d[++e] && o < l); if (n = 258 - (l - o), o = l - 258, n > s) { if (P = t, s = n, n >= c) break; h = d[o + s - 1], p = d[o + s] } } while ((t = 65535 & _[t & $]) > a && 0 != --i); return s <= F ? s : F } J.depth = [], J.bl_count = [], J.heap = [], L = [], j = [], N = [], J.pqdownheap = function (t, e) { for (var n = J.heap, i = n[e], o = e << 1; o <= J.heap_len && (o < J.heap_len && $(t, n[o + 1], n[o], J.depth) && o++, !$(t, i, n[o], J.depth));)n[e] = n[o], e = o, o <<= 1; n[e] = i }, J.deflateInit = function (t, i, c, $, S, P) { var U; return ($ || ($ = 8), S || (S = 8), P || (P = 0), t.msg = null, -1 == i && (i = 6), S < 1 || S > 9 || 8 != $ || c < 9 || c > 15 || i < 0 || i > 9 || P < 0 || P > 2) ? -2 : (t.dstate = J, f = (u = 1 << (h = c)) - 1, v = (w = 1 << (y = S + 7)) - 1, k = Math.floor((y + 3 - 1) / 3), d = new Uint8Array(2 * u), _ = [], m = [], W = 1 << S + 6, J.pending_buf = new Uint8Array(4 * W), n = 4 * W, M = Math.floor(W / 2), H = 3 * W, R = i, O = P, s = 255 & $, (U = t).total_in = U.total_out = 0, U.msg = null, J.pending = 0, J.pending_out = 0, e = 113, l = 0, Q.dyn_tree = L, Q.stat_desc = o.static_l_desc, K.dyn_tree = j, K.stat_desc = o.static_d_desc, Z.dyn_tree = N, Z.stat_desc = o.static_bl_desc, Y = 0, G = 0, V = 8, tt(), function t() { var e; for (e = 0, p = 2 * u, m[w - 1] = 0; e < w - 1; e++)m[e] = 0; B = a[R].max_lazy, D = a[R].good_length, z = a[R].nice_length, I = a[R].max_chain, A = 0, C = 0, F = 0, q = E = 2, T = 0, x = 0 }(), 0) }, J.deflateEnd = function () { return 42 != e && 113 != e && 666 != e ? -2 : (J.pending_buf = null, m = null, _ = null, d = null, J.dstate = null, 113 == e ? -3 : 0) }, J.deflateParams = function (t, e, n) { var i = 0; return (-1 == e && (e = 6), e < 0 || e > 9 || n < 0 || n > 2) ? -2 : (a[R].func != a[e].func && 0 !== t.total_in && (i = t.deflate(1)), R != e && (B = a[R = e].max_lazy, D = a[R].good_length, z = a[R].nice_length, I = a[R].max_chain), O = n, i) }, J.deflateSetDictionary = function (t, n, i) { var o, s = i, a = 0; if (!n || 42 != e) return -2; if (s < 3) return 0; for (s > u - 262 && (a = i - (s = u - 262)), d.set(n.subarray(a, a + s), 0), A = s, C = s, x = ((x = 255 & d[0]) << k ^ 255 & d[1]) & v, o = 0; o <= s - 3; o++)x = (x << k ^ 255 & d[o + 2]) & v, _[o & f] = m[x], m[x] = o; return 0 }, J.deflate = function (i, s) { var $, p, y, I, D, z; if (s > 4 || s < 0) return -2; if (!i.next_out || !i.next_in && 0 !== i.avail_in || 666 == e && 4 != s) return i.msg = c[4], -2; if (0 === i.avail_out) return i.msg = c[7], -5; if (t = i, I = l, l = s, 42 == e && (p = 8 + (h - 8 << 4) << 8, (y = (R - 1 & 255) >> 1) > 3 && (y = 3), p |= y << 6, 0 !== A && (p |= 32), p += 31 - p % 31, e = 113, tn((z = p) >> 8 & 255), tn(255 & z)), 0 !== J.pending) { if (t.flush_pending(), 0 === t.avail_out) return l = -1, 0 } else if (0 === t.avail_in && s <= I && 4 != s) return t.msg = c[7], -5; if (666 == e && 0 !== t.avail_in) return i.msg = c[7], -5; if (0 !== t.avail_in || 0 !== F || 0 != s && 666 != e) { switch (D = -1, a[R].func) { case 0: D = function e(i) { var o, s = 65535; for (s > n - 5 && (s = n - 5); ;) { if (F <= 1) { if (tf(), 0 === F && 0 == i) return 0; if (0 === F) break } if (A += F, F = 0, o = C + s, (0 === A || A >= o) && (F = A - o, A = o, th(!1), 0 === t.avail_out) || A - C >= u - 262 && (th(!1), 0 === t.avail_out)) return 0 } return (th(4 == i), 0 === t.avail_out) ? 4 == i ? 2 : 0 : 4 == i ? 3 : 1 }(s); break; case 1: D = function e(n) { for (var i, o = 0; ;) { if (F < 262) { if (tf(), F < 262 && 0 == n) return 0; if (0 === F) break } if (F >= 3 && (o = 65535 & m[x = (x << k ^ 255 & d[A + 2]) & v], _[A & f] = m[x], m[x] = A), 0 !== o && (A - o & 65535) <= u - 262 && 2 != O && (q = td(o)), q >= 3) { if (i = tc(A - P, q - 3), F -= q, q <= B && F >= 3) { q--; do o = 65535 & m[x = (x << k ^ 255 & d[++A + 2]) & v], _[A & f] = m[x], m[x] = A; while (0 != --q); A++ } else A += q, q = 0, x = ((x = 255 & d[A]) << k ^ 255 & d[A + 1]) & v } else i = tc(0, 255 & d[A]), F--, A++; if (i && (th(!1), 0 === t.avail_out)) return 0 } return (th(4 == n), 0 === t.avail_out) ? 4 == n ? 2 : 0 : 4 == n ? 3 : 1 }(s); break; case 2: D = function e(n) { for (var i, o, s = 0; ;) { if (F < 262) { if (tf(), F < 262 && 0 == n) return 0; if (0 === F) break } if (F >= 3 && (s = 65535 & m[x = (x << k ^ 255 & d[A + 2]) & v], _[A & f] = m[x], m[x] = A), E = q, S = P, q = 2, 0 !== s && E < B && (A - s & 65535) <= u - 262 && (2 != O && (q = td(s)), q <= 5 && (1 == O || 3 == q && A - P > 4096) && (q = 2)), E >= 3 && q <= E) { o = A + F - 3, i = tc(A - 1 - S, E - 3), F -= E - 1, E -= 2; do ++A <= o && (s = 65535 & m[x = (x << k ^ 255 & d[A + 2]) & v], _[A & f] = m[x], m[x] = A); while (0 != --E); if (T = 0, q = 2, A++, i && (th(!1), 0 === t.avail_out)) return 0 } else if (0 !== T) { if ((i = tc(0, 255 & d[A - 1])) && th(!1), A++, F--, 0 === t.avail_out) return 0 } else T = 1, A++, F-- } return (0 !== T && (i = tc(0, 255 & d[A - 1]), T = 0), th(4 == n), 0 === t.avail_out) ? 4 == n ? 2 : 0 : 4 == n ? 3 : 1 }(s) }if ((2 == D || 3 == D) && (e = 666), 0 == D || 2 == D) return 0 === t.avail_out && (l = -1), 0; if (1 == D) { if (1 == s) ti(2, 3), to(256, o.static_ltree), ta(), 1 + V + 10 - G < 9 && (ti(2, 3), to(256, o.static_ltree), ta()), V = 7; else if (tu(0, 0, !1), 3 == s) for ($ = 0; $ < w; $++)m[$] = 0; if (t.flush_pending(), 0 === t.avail_out) return l = -1, 0 } } return 4 != s ? 0 : 1 } } function u() { var t = this; t.next_in_index = 0, t.next_out_index = 0, t.avail_in = 0, t.total_in = 0, t.avail_out = 0, t.total_out = 0 } return u.prototype = { deflateInit: function (t, e) { var n = this; return n.dstate = new l, e || (e = 15), n.dstate.deflateInit(n, t, e) }, deflate: function (t) { return this.dstate ? this.dstate.deflate(this, t) : -2 }, deflateEnd: function () { var t = this; if (!t.dstate) return -2; var e = t.dstate.deflateEnd(); return t.dstate = null, e }, deflateParams: function (t, e) { return this.dstate ? this.dstate.deflateParams(this, t, e) : -2 }, deflateSetDictionary: function (t, e) { return this.dstate ? this.dstate.deflateSetDictionary(this, t, e) : -2 }, read_buf: function (t, e, n) { var i = this, o = i.avail_in; return (o > n && (o = n), 0 === o) ? 0 : (i.avail_in -= o, t.set(i.next_in.subarray(i.next_in_index, i.next_in_index + o), e), i.next_in_index += o, i.total_in += o, o) }, flush_pending: function () { var t = this, e = t.dstate.pending; e > t.avail_out && (e = t.avail_out), 0 !== e && (t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out, t.dstate.pending_out + e), t.next_out_index), t.next_out_index += e, t.dstate.pending_out += e, t.total_out += e, t.avail_out -= e, t.dstate.pending -= e, 0 === t.dstate.pending && (t.dstate.pending_out = 0)) } }, function t(e) { var n = this, i = new u, o = new Uint8Array(512); void 0 === e && (e = -1), i.deflateInit(e), i.next_out = o, n.append = function (t, e) { var n, s, a = [], c = 0, $ = 0, l = 0; if (t.length) { i.next_in_index = 0, i.next_in = t, i.avail_in = t.length; do { if (i.next_out_index = 0, i.avail_out = 512, 0 != (n = i.deflate(0))) throw "deflating: " + i.msg; i.next_out_index && (512 == i.next_out_index ? a.push(new Uint8Array(o)) : a.push(new Uint8Array(o.subarray(0, i.next_out_index)))), l += i.next_out_index, e && i.next_in_index > 0 && i.next_in_index != c && (e(i.next_in_index), c = i.next_in_index) } while (i.avail_in > 0 || 0 === i.avail_out); return s = new Uint8Array(l), a.forEach(function (t) { s.set(t, $), $ += t.length }), s } }, n.flush = function () { var t, e, n = [], s = 0, a = 0; do { if (i.next_out_index = 0, i.avail_out = 512, 1 != (t = i.deflate(4)) && 0 != t) throw "deflating: " + i.msg; 512 - i.avail_out > 0 && n.push(new Uint8Array(o.subarray(0, i.next_out_index))), a += i.next_out_index } while (i.avail_in > 0 || 0 === i.avail_out); return i.deflateEnd(), e = new Uint8Array(a), n.forEach(function (t) { e.set(t, s), s += t.length }), e } } }(void 0); !function (t) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { var e; "undefined" != typeof window ? e = window : "undefined" != typeof global ? e = global : "undefined" != typeof self && (e = self), e.html2canvas = t() } }(function () { var t; return (function t(e, n, i) { function o(a, c) { if (!n[a]) { if (!e[a]) { var $ = "function" == typeof require && require; if (!c && $) return $(a, !0); if (s) return s(a, !0); var l = Error("Cannot find module '" + a + "'"); throw l.code = "MODULE_NOT_FOUND", l } var u = n[a] = { exports: {} }; e[a][0].call(u.exports, function (t) { var n; return o(e[a][1][t] || t) }, u, u.exports, t, e, n, i) } return n[a].exports } for (var s = "function" == typeof require && require, a = 0; a < i.length; a++)o(i[a]); return o })({ 1: [function (e, n, i) { (function (e) { !function (o) { var s = "object" == typeof i && i, a = "object" == typeof n && n && n.exports == s && n, c = "object" == typeof e && e; (c.global === c || c.window === c) && (o = c); var $, l, u = /^xn--/, h = /[^ -~]/, f = /\x2E|\u3002|\uFF0E|\uFF61/g, d = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, p = Math.floor, _ = String.fromCharCode; function m(t) { throw RangeError(d[t]) } function x(t, e) { for (var n = t.length; n--;)t[n] = e(t[n]); return t } function w(t, e) { return x(t.split(f), e).join(".") } function y(t) { for (var e, n, i = [], o = 0, s = t.length; o < s;)(e = t.charCodeAt(o++)) >= 55296 && e <= 56319 && o < s ? (64512 & (n = t.charCodeAt(o++))) == 56320 ? i.push(((1023 & e) << 10) + (1023 & n) + 65536) : (i.push(e), o--) : i.push(e); return i } function v(t) { return x(t, function (t) { var e = ""; return t > 65535 && (t -= 65536, e += _(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += _(t) }).join("") } function k(t) { return t - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : 36 } function C(t, e) { return t + 22 + 75 * (t < 26) - ((0 != e) << 5) } function q(t, e, n) { var i = 0; for (t = n ? p(t / 700) : t >> 1, t += p(t / e); t > 455; i += 36)t = p(t / 35); return p(i + 36 * t / (t + 38)) } function S(t) { var e, n, i, o, s, a, c, $, l, u, h = [], f = t.length, d = 0, _ = 128, x = 72; for ((n = t.lastIndexOf("-")) < 0 && (n = 0), i = 0; i < n; ++i)t.charCodeAt(i) >= 128 && m("not-basic"), h.push(t.charCodeAt(i)); for (o = n > 0 ? n + 1 : 0; o < f;) { for (s = d, a = 1, c = 36; o >= f && m("invalid-input"), (($ = k(t.charCodeAt(o++))) >= 36 || $ > p((2147483647 - d) / a)) && m("overflow"), d += $ * a, !($ < (l = c <= x ? 1 : c >= x + 26 ? 26 : c - x)); c += 36)a > p(2147483647 / (u = 36 - l)) && m("overflow"), a *= u; x = q(d - s, e = h.length + 1, 0 == s), p(d / e) > 2147483647 - _ && m("overflow"), _ += p(d / e), d %= e, h.splice(d++, 0, _) } return v(h) } function T(t) { var e, n, i, o, s, a, c, $, l, u, h, f, d, x, w, v = []; for (a = 0, f = (t = y(t)).length, e = 128, n = 0, s = 72; a < f; ++a)(h = t[a]) < 128 && v.push(_(h)); for (i = o = v.length, o && v.push("-"); i < f;) { for (c = 2147483647, a = 0; a < f; ++a)(h = t[a]) >= e && h < c && (c = h); for (c - e > p((2147483647 - n) / (d = i + 1)) && m("overflow"), n += (c - e) * d, e = c, a = 0; a < f; ++a)if ((h = t[a]) < e && ++n > 2147483647 && m("overflow"), h == e) { for ($ = n, l = 36; !($ < (u = l <= s ? 1 : l >= s + 26 ? 26 : l - s)); l += 36)w = $ - u, x = 36 - u, v.push(_(C(u + w % x, 0))), $ = p(w / x); v.push(_(C($, 0))), s = q(n, d, i == o), n = 0, ++i } ++n, ++e } return v.join("") } if ($ = { version: "1.2.4", ucs2: { decode: y, encode: v }, decode: S, encode: T, toASCII: function t(e) { return w(e, function (t) { return h.test(t) ? "xn--" + T(t) : t }) }, toUnicode: function t(e) { return w(e, function (t) { return u.test(t) ? S(t.slice(4).toLowerCase()) : t }) } }, "function" == typeof t && "object" == typeof t.amd && t.amd) t("punycode", function () { return $ }); else if (s && !s.nodeType) { if (a) a.exports = $; else for (l in $) $.hasOwnProperty(l) && (s[l] = $[l]) } else o.punycode = $ }(this) }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 2: [function (t, e, n) { var i = t("./log"); e.exports = function (t, e, n, o, s, a, c) { var $ = function t(e, n) { for (var o = 3 === e.nodeType ? document.createTextNode(e.nodeValue) : e.cloneNode(!1), s = e.firstChild; s;)(!0 === n || 1 !== s.nodeType || "SCRIPT" !== s.nodeName) && o.appendChild(t(s, n)), s = s.nextSibling; return 1 === e.nodeType && (o._scrollTop = e.scrollTop, o._scrollLeft = e.scrollLeft, "CANVAS" === e.nodeName ? function t(e, n) { try { n && (n.width = e.width, n.height = e.height, n.getContext("2d").putImageData(e.getContext("2d").getImageData(0, 0, e.width, e.height), 0, 0)) } catch (o) { i("Unable to copy canvas content from", e, o) } }(e, o) : ("TEXTAREA" === e.nodeName || "SELECT" === e.nodeName) && (o.value = e.value)), o }(t.documentElement, s.javascriptEnabled), l = e.createElement("iframe"); return l.className = "html2canvas-container", l.style.visibility = "hidden", l.style.position = "fixed", l.style.left = "-10000px", l.style.top = "0px", l.style.border = "0", l.width = n, l.height = o, l.scrolling = "no", e.body.appendChild(l), new Promise(function (e) { var n, i, o, u = l.contentWindow.document; l.contentWindow.onload = l.onload = function () { var t = setInterval(function () { u.body.childNodes.length > 0 && (function t(e) { if (1 === e.nodeType) { e.scrollTop = e._scrollTop, e.scrollLeft = e._scrollLeft; for (var n = e.firstChild; n;)t(n), n = n.nextSibling } }(u.documentElement), clearInterval(t), "view" === s.type && (l.contentWindow.scrollTo(a, c), /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (l.contentWindow.scrollY !== c || l.contentWindow.scrollX !== a) && (u.documentElement.style.top = -c + "px", u.documentElement.style.left = -a + "px", u.documentElement.style.position = "absolute")), e(l)) }, 50) }, u.open(), u.write("<!DOCTYPE html><html></html>"), n = t, i = a, o = c, n.defaultView && (i !== n.defaultView.pageXOffset || o !== n.defaultView.pageYOffset) && n.defaultView.scrollTo(i, o), u.replaceChild(u.adoptNode($), u.documentElement), u.close() }) } }, { "./log": 13 }], 3: [function (t, e, n) { function i(t) { this.r = 0, this.g = 0, this.b = 0, this.a = null, this.fromArray(t) || this.namedColor(t) || this.rgb(t) || this.rgba(t) || this.hex6(t) || this.hex3(t) } i.prototype.darken = function (t) { var e = 1 - t; return new i([Math.round(this.r * e), Math.round(this.g * e), Math.round(this.b * e), this.a]) }, i.prototype.isTransparent = function () { return 0 === this.a }, i.prototype.isBlack = function () { return 0 === this.r && 0 === this.g && 0 === this.b }, i.prototype.fromArray = function (t) { return Array.isArray(t) && (this.r = Math.min(t[0], 255), this.g = Math.min(t[1], 255), this.b = Math.min(t[2], 255), t.length > 3 && (this.a = t[3])), Array.isArray(t) }; var o = /^#([a-f0-9]{3})$/i; i.prototype.hex3 = function (t) { var e = null; return null !== (e = t.match(o)) && (this.r = parseInt(e[1][0] + e[1][0], 16), this.g = parseInt(e[1][1] + e[1][1], 16), this.b = parseInt(e[1][2] + e[1][2], 16)), null !== e }; var s = /^#([a-f0-9]{6})$/i; i.prototype.hex6 = function (t) { var e = null; return null !== (e = t.match(s)) && (this.r = parseInt(e[1].substring(0, 2), 16), this.g = parseInt(e[1].substring(2, 4), 16), this.b = parseInt(e[1].substring(4, 6), 16)), null !== e }; var a = /^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/; i.prototype.rgb = function (t) { var e = null; return null !== (e = t.match(a)) && (this.r = Number(e[1]), this.g = Number(e[2]), this.b = Number(e[3])), null !== e }; var c = /^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/; i.prototype.rgba = function (t) { var e = null; return null !== (e = t.match(c)) && (this.r = Number(e[1]), this.g = Number(e[2]), this.b = Number(e[3]), this.a = Number(e[4])), null !== e }, i.prototype.toString = function () { return null !== this.a && 1 !== this.a ? "rgba(" + [this.r, this.g, this.b, this.a].join(",") + ")" : "rgb(" + [this.r, this.g, this.b].join(",") + ")" }, i.prototype.namedColor = function (t) { var e = $[t = t.toLowerCase()]; if (e) this.r = e[0], this.g = e[1], this.b = e[2]; else if ("transparent" === t) return this.r = this.g = this.b = this.a = 0, !0; return !!e }, i.prototype.isColor = !0; var $ = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }; e.exports = i }, {}], 4: [function (e, n, i) { var o = e("./support"), s = e("./renderers/canvas"), a = e("./imageloader"), c = e("./nodeparser"), $ = e("./nodecontainer"), l = e("./log"), u = e("./utils"), h = e("./clone"), f = e("./proxy").loadUrlDocument, d = u.getBounds, p = "data-html2canvas-node", _ = 0; function m(t, e) { var n = _++; if ((e = e || {}).logging && (l.options.logging = !0, l.options.start = Date.now()), e.async = void 0 === e.async || e.async, e.allowTaint = void 0 !== e.allowTaint && e.allowTaint, e.removeContainer = void 0 === e.removeContainer || e.removeContainer, e.javascriptEnabled = void 0 !== e.javascriptEnabled && e.javascriptEnabled, e.imageTimeout = void 0 === e.imageTimeout ? 1e4 : e.imageTimeout, e.renderer = "function" == typeof e.renderer ? e.renderer : s, e.strict = !!e.strict, "string" == typeof t) { if ("string" != typeof e.proxy) return Promise.reject("Proxy must be used when rendering url"); var i, o, a = null != e.width ? e.width : window.innerWidth, c = null != e.height ? e.height : window.innerHeight; return f((i = t, o = document.createElement("a"), o.href = i, o.href = o.href, o), e.proxy, document, a, c, e).then(function (t) { return w(t.contentWindow.document.documentElement, t, e, a, c) }) } var $, u, d, m, x, y = (void 0 === t ? [document.documentElement] : t.length ? t : [t])[0]; return y.setAttribute(p + n, n), ($ = y.ownerDocument, u = e, d = y.ownerDocument.defaultView.innerWidth, m = y.ownerDocument.defaultView.innerHeight, x = n, h($, $, d, m, u, $.defaultView.pageXOffset, $.defaultView.pageYOffset).then(function (t) { l("Document cloned"); var e = p + x, n = "[" + e + "='" + x + "']"; $.querySelector(n).removeAttribute(e); var i = t.contentWindow, o = i.document.querySelector(n); return ("function" == typeof u.onclone ? Promise.resolve(u.onclone(i.document)) : Promise.resolve(!0)).then(function () { return w(o, t, u, d, m) }) })).then(function (t) { return "function" == typeof e.onrendered && (l("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"), e.onrendered(t)), t }) } m.CanvasRenderer = s, m.NodeContainer = $, m.log = l, m.utils = u; var x = "undefined" == typeof document || "function" != typeof Object.create || "function" != typeof document.createElement("canvas").getContext ? function () { return Promise.reject("No canvas support") } : m; function w(t, e, n, i, s) { var $, u, h = e.contentWindow, f = new o(h.document), p = new a(n, f), _ = d(t), m = "view" === n.type ? i : ($ = h.document, Math.max(Math.max($.body.scrollWidth, $.documentElement.scrollWidth), Math.max($.body.offsetWidth, $.documentElement.offsetWidth), Math.max($.body.clientWidth, $.documentElement.clientWidth))), x = "view" === n.type ? s : (u = h.document, Math.max(Math.max(u.body.scrollHeight, u.documentElement.scrollHeight), Math.max(u.body.offsetHeight, u.documentElement.offsetHeight), Math.max(u.body.clientHeight, u.documentElement.clientHeight))), w = new n.renderer(m, x, p, n, document); return new c(t, w, f, p, n).ready.then(function () { var i, o, s; return l("Finished rendering"), i = "view" === n.type ? y(w.canvas, { width: w.canvas.width, height: w.canvas.height, top: 0, left: 0, x: 0, y: 0 }) : t === h.document.body || t === h.document.documentElement || null != n.canvas ? w.canvas : y(w.canvas, { width: null != n.width ? n.width : _.width, height: null != n.height ? n.height : _.height, top: _.top, left: _.left, x: 0, y: 0 }), o = e, (s = n).removeContainer && (o.parentNode.removeChild(o), l("Cleaned up container")), i }) } function y(t, e) { var n = document.createElement("canvas"), i = Math.min(t.width - 1, Math.max(0, e.left)), o = Math.min(t.width, Math.max(1, e.left + e.width)), s = Math.min(t.height - 1, Math.max(0, e.top)), a = Math.min(t.height, Math.max(1, e.top + e.height)); n.width = e.width, n.height = e.height; var c = o - i, $ = a - s; return l("Cropping canvas at:", "left:", e.left, "top:", e.top, "width:", c, "height:", $), l("Resulting crop with width", e.width, "and height", e.height, "with x", i, "and y", s), n.getContext("2d").drawImage(t, i, s, c, $, e.x, e.y, c, $), n } n.exports = x, "function" == typeof t && t.amd && t("html2canvas", [], function () { return x }) }, { "./clone": 2, "./imageloader": 11, "./log": 13, "./nodecontainer": 14, "./nodeparser": 15, "./proxy": 16, "./renderers/canvas": 20, "./support": 22, "./utils": 26 }], 5: [function (t, e, n) { var i = t("./log"), o = t("./utils").smallImage; function s(t) { if (this.src = t, i("DummyImageContainer for", t), !this.promise || !this.image) { i("Initiating DummyImageContainer"), s.prototype.image = new Image; var e = this.image; s.prototype.promise = new Promise(function (t, n) { e.onload = t, e.onerror = n, e.src = o(), !0 === e.complete && t(e) }) } } e.exports = s }, { "./log": 13, "./utils": 26 }], 6: [function (t, e, n) { var i = t("./utils").smallImage; e.exports = function t(e, n) { var o, s, a = document.createElement("div"), c = document.createElement("img"), $ = document.createElement("span"), l = "Hidden Text"; a.style.visibility = "hidden", a.style.fontFamily = e, a.style.fontSize = n, a.style.margin = 0, a.style.padding = 0, document.body.appendChild(a), c.src = i(), c.width = 1, c.height = 1, c.style.margin = 0, c.style.padding = 0, c.style.verticalAlign = "baseline", $.style.fontFamily = e, $.style.fontSize = n, $.style.margin = 0, $.style.padding = 0, $.appendChild(document.createTextNode(l)), a.appendChild($), a.appendChild(c), o = c.offsetTop - $.offsetTop + 1, a.removeChild($), a.appendChild(document.createTextNode(l)), a.style.lineHeight = "normal", c.style.verticalAlign = "super", s = c.offsetTop - a.offsetTop + 1, document.body.removeChild(a), this.baseline = o, this.lineWidth = 1, this.middle = s } }, { "./utils": 26 }], 7: [function (t, e, n) { var i = t("./font"); function o() { this.data = {} } o.prototype.getMetrics = function (t, e) { return void 0 === this.data[t + "-" + e] && (this.data[t + "-" + e] = new i(t, e)), this.data[t + "-" + e] }, e.exports = o }, { "./font": 6 }], 8: [function (t, e, n) { var i = t("./utils").getBounds, o = t("./proxy").loadUrlDocument; function s(e, n, o) { this.image = null, this.src = e; var s = this, a = i(e); this.promise = (n ? new Promise(function (t) { "about:blank" === e.contentWindow.document.URL || null == e.contentWindow.document.documentElement ? e.contentWindow.onload = e.onload = function () { t(e) } : t(e) }) : this.proxyLoad(o.proxy, a, o)).then(function (e) { return t("./core")(e.contentWindow.document.documentElement, { type: "view", width: e.width, height: e.height, proxy: o.proxy, javascriptEnabled: o.javascriptEnabled, removeContainer: o.removeContainer, allowTaint: o.allowTaint, imageTimeout: o.imageTimeout / 2 }) }).then(function (t) { return s.image = t }) } s.prototype.proxyLoad = function (t, e, n) { var i = this.src; return o(i.src, t, i.ownerDocument, e.width, e.height, n) }, e.exports = s }, { "./core": 4, "./proxy": 16, "./utils": 26 }], 9: [function (t, e, n) { function i(t) { this.src = t.value, this.colorStops = [], this.type = null, this.x0 = .5, this.y0 = .5, this.x1 = .5, this.y1 = .5, this.promise = Promise.resolve(!0) } i.TYPES = { LINEAR: 1, RADIAL: 2 }, i.REGEXP_COLORSTOP = /^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i, e.exports = i }, {}], 10: [function (t, e, n) { e.exports = function t(e, n) { this.src = e, this.image = new Image; var i = this; this.tainted = null, this.promise = new Promise(function (t, o) { i.image.onload = t, i.image.onerror = o, n && (i.image.crossOrigin = "anonymous"), i.image.src = e, !0 === i.image.complete && t(i.image) }) } }, {}], 11: [function (t, e, n) { var i = t("./log"), o = t("./imagecontainer"), s = t("./dummyimagecontainer"), a = t("./proxyimagecontainer"), c = t("./framecontainer"), $ = t("./svgcontainer"), l = t("./svgnodecontainer"), u = t("./lineargradientcontainer"), h = t("./webkitgradientcontainer"), f = t("./utils").bind; function d(t, e) { this.link = null, this.options = t, this.support = e, this.origin = this.getOrigin(window.location.href) } d.prototype.findImages = function (t) { var e = []; return t.reduce(function (t, e) { switch (e.node.nodeName) { case "IMG": return t.concat([{ args: [e.node.src], method: "url" }]); case "svg": case "IFRAME": return t.concat([{ args: [e.node], method: e.node.nodeName }]) }return t }, []).forEach(this.addImage(e, this.loadImage), this), e }, d.prototype.findBackgroundImage = function (t, e) { return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t, this.loadImage), this), t }, d.prototype.addImage = function (t, e) { return function (n) { n.args.forEach(function (o) { this.imageExists(t, o) || (t.splice(0, 0, e.call(this, n)), i("Added image #" + t.length, "string" == typeof o ? o.substring(0, 100) : o)) }, this) } }, d.prototype.hasImageBackground = function (t) { return "none" !== t.method }, d.prototype.loadImage = function (t) { if ("url" === t.method) { var e = t.args[0]; if (this.isSVG(e) && !this.support.svg && !this.options.allowTaint) return new $(e); if (e.match(/data:image\/.*;base64,/i)) return new o(e.replace(/url\(['"]{0,}|['"]{0,}\)$/ig, ""), !1); if (this.isSameOrigin(e) || !0 === this.options.allowTaint || this.isSVG(e)) return new o(e, !1); else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) return new o(e, !0); else if (this.options.proxy) return new a(e, this.options.proxy); else return new s(e) } if ("linear-gradient" === t.method) return new u(t); if ("gradient" === t.method) return new h(t); if ("svg" === t.method) return new l(t.args[0], this.support.svg); if ("IFRAME" === t.method) return new c(t.args[0], this.isSameOrigin(t.args[0].src), this.options); else return new s(t) }, d.prototype.isSVG = function (t) { return "svg" === t.substring(t.length - 3).toLowerCase() || $.prototype.isInline(t) }, d.prototype.imageExists = function (t, e) { return t.some(function (t) { return t.src === e }) }, d.prototype.isSameOrigin = function (t) { return this.getOrigin(t) === this.origin }, d.prototype.getOrigin = function (t) { var e = this.link || (this.link = document.createElement("a")); return e.href = t, e.href = e.href, e.protocol + e.hostname + e.port }, d.prototype.getPromise = function (t) { return this.timeout(t, this.options.imageTimeout).catch(function () { return new s(t.src).promise.then(function (e) { t.image = e }) }) }, d.prototype.get = function (t) { var e = null; return this.images.some(function (n) { return (e = n).src === t }) ? e : null }, d.prototype.fetch = function (t) { return this.images = t.reduce(f(this.findBackgroundImage, this), this.findImages(t)), this.images.forEach(function (t, e) { t.promise.then(function () { i("Succesfully loaded image #" + (e + 1), t) }, function (n) { i("Failed loading image #" + (e + 1), t, n) }) }), this.ready = Promise.all(this.images.map(this.getPromise, this)), i("Finished searching images"), this }, d.prototype.timeout = function (t, e) { var n, o = Promise.race([t.promise, new Promise(function (o, s) { n = setTimeout(function () { i("Timed out loading image", t), s(t) }, e) })]).then(function (t) { return clearTimeout(n), t }); return o.catch(function () { clearTimeout(n) }), o }, e.exports = d }, { "./dummyimagecontainer": 5, "./framecontainer": 8, "./imagecontainer": 10, "./lineargradientcontainer": 12, "./log": 13, "./proxyimagecontainer": 17, "./svgcontainer": 23, "./svgnodecontainer": 24, "./utils": 26, "./webkitgradientcontainer": 27 }], 12: [function (t, e, n) { var i = t("./gradientcontainer"), o = t("./color"); function s(t) { i.apply(this, arguments), this.type = i.TYPES.LINEAR; var e = s.REGEXP_DIRECTION.test(t.args[0]) || !i.REGEXP_COLORSTOP.test(t.args[0]); e ? t.args[0].split(/\s+/).reverse().forEach(function (t, e) { switch (t) { case "left": this.x0 = 0, this.x1 = 1; break; case "top": this.y0 = 0, this.y1 = 1; break; case "right": this.x0 = 1, this.x1 = 0; break; case "bottom": this.y0 = 1, this.y1 = 0; break; case "to": var n = this.y0, i = this.x0; this.y0 = this.y1, this.x0 = this.x1, this.x1 = i, this.y1 = n; break; case "center": break; default: var o = .01 * parseFloat(t, 10); if (isNaN(o)) break; 0 === e ? (this.y0 = o, this.y1 = 1 - this.y0) : (this.x0 = o, this.x1 = 1 - this.x0) } }, this) : (this.y0 = 0, this.y1 = 1), this.colorStops = t.args.slice(e ? 1 : 0).map(function (t) { var e = t.match(i.REGEXP_COLORSTOP), n = +e[2], s = 0 === n ? "%" : e[3]; return { color: new o(e[1]), stop: "%" === s ? n / 100 : null } }), null === this.colorStops[0].stop && (this.colorStops[0].stop = 0), null === this.colorStops[this.colorStops.length - 1].stop && (this.colorStops[this.colorStops.length - 1].stop = 1), this.colorStops.forEach(function (t, e) { null === t.stop && this.colorStops.slice(e).some(function (n, i) { return null !== n.stop && (t.stop = (n.stop - this.colorStops[e - 1].stop) / (i + 1) + this.colorStops[e - 1].stop, !0) }, this) }, this) } s.prototype = Object.create(i.prototype), s.REGEXP_DIRECTION = /^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i, e.exports = s }, { "./color": 3, "./gradientcontainer": 9 }], 13: [function (t, e, n) { var i = function () { i.options.logging && window.console && window.console.log && Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - i.options.start + "ms", "html2canvas:"].concat([].slice.call(arguments, 0))) }; i.options = { logging: !1 }, e.exports = i }, {}], 14: [function (t, e, n) { var i = t("./color"), o = t("./utils"), s = o.getBounds, a = o.parseBackgrounds, c = o.offsetBounds; function $(t, e) { this.node = t, this.parent = e, this.stack = null, this.bounds = null, this.borders = null, this.clip = [], this.backgroundClip = [], this.offsetBounds = null, this.visible = null, this.computedStyles = null, this.colors = {}, this.styles = {}, this.backgroundImages = null, this.transformData = null, this.transformMatrix = null, this.isPseudoElement = !1, this.opacity = null } function l(t) { return -1 !== t.toString().indexOf("%") } function u(t) { return t.replace("px", "") } function h(t) { return parseFloat(t) } $.prototype.cloneTo = function (t) { t.visible = this.visible, t.borders = this.borders, t.bounds = this.bounds, t.clip = this.clip, t.backgroundClip = this.backgroundClip, t.computedStyles = this.computedStyles, t.styles = this.styles, t.backgroundImages = this.backgroundImages, t.opacity = this.opacity }, $.prototype.getOpacity = function () { return null === this.opacity ? this.opacity = this.cssFloat("opacity") : this.opacity }, $.prototype.assignStack = function (t) { this.stack = t, t.children.push(this) }, $.prototype.isElementVisible = function () { return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : "none" !== this.css("display") && "hidden" !== this.css("visibility") && !this.node.hasAttribute("data-html2canvas-ignore") && ("INPUT" !== this.node.nodeName || "hidden" !== this.node.getAttribute("type")) }, $.prototype.css = function (t) { return this.computedStyles || (this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? ":before" : ":after") : this.computedStyle(null)), this.styles[t] || (this.styles[t] = this.computedStyles[t]) }, $.prototype.prefixedCss = function (t) { var e = this.css(t); return void 0 === e && ["webkit", "moz", "ms", "o"].some(function (n) { return void 0 !== (e = this.css(n + t.substr(0, 1).toUpperCase() + t.substr(1))) }, this), void 0 === e ? null : e }, $.prototype.computedStyle = function (t) { return this.node.ownerDocument.defaultView.getComputedStyle(this.node, t) }, $.prototype.cssInt = function (t) { var e = parseInt(this.css(t), 10); return isNaN(e) ? 0 : e }, $.prototype.color = function (t) { return this.colors[t] || (this.colors[t] = new i(this.css(t))) }, $.prototype.cssFloat = function (t) { var e = parseFloat(this.css(t)); return isNaN(e) ? 0 : e }, $.prototype.fontWeight = function () { var t = this.css("fontWeight"); switch (parseInt(t, 10)) { case 401: t = "bold"; break; case 400: t = "normal" }return t }, $.prototype.parseClip = function () { var t = this.css("clip").match(this.CLIP); return t ? { top: parseInt(t[1], 10), right: parseInt(t[2], 10), bottom: parseInt(t[3], 10), left: parseInt(t[4], 10) } : null }, $.prototype.parseBackgroundImages = function () { return this.backgroundImages || (this.backgroundImages = a(this.css("backgroundImage"))) }, $.prototype.cssList = function (t, e) { var n = (this.css(t) || "").split(","); return 1 === (n = (n = n[e || 0] || n[0] || "auto").trim().split(" ")).length && (n = [n[0], l(n[0]) ? "auto" : n[0]]), n }, $.prototype.parseBackgroundSize = function (t, e, n) { var i, o, s = this.cssList("backgroundSize", n); if (l(s[0])) i = t.width * parseFloat(s[0]) / 100; else if (/contain|cover/.test(s[0])) { var a = t.width / t.height, c = e.width / e.height; return a < c ^ "contain" === s[0] ? { width: t.height * c, height: t.height } : { width: t.width, height: t.width / c } } else i = parseInt(s[0], 10); return o = "auto" === s[0] && "auto" === s[1] ? e.height : "auto" === s[1] ? i / e.width * e.height : l(s[1]) ? t.height * parseFloat(s[1]) / 100 : parseInt(s[1], 10), "auto" === s[0] && (i = o / e.height * e.width), { width: i, height: o } }, $.prototype.parseBackgroundPosition = function (t, e, n, i) { var o, s, a = this.cssList("backgroundPosition", n); return o = l(a[0]) ? (t.width - (i || e).width) * (parseFloat(a[0]) / 100) : parseInt(a[0], 10), s = "auto" === a[1] ? o / e.width * e.height : l(a[1]) ? (t.height - (i || e).height) * parseFloat(a[1]) / 100 : parseInt(a[1], 10), "auto" === a[0] && (o = s / e.height * e.width), { left: o, top: s } }, $.prototype.parseBackgroundRepeat = function (t) { return this.cssList("backgroundRepeat", t)[0] }, $.prototype.parseTextShadows = function () { var t = this.css("textShadow"), e = []; if (t && "none" !== t) for (var n = t.match(this.TEXT_SHADOW_PROPERTY), o = 0; n && o < n.length; o++) { var s = n[o].match(this.TEXT_SHADOW_VALUES); e.push({ color: new i(s[0]), offsetX: s[1] ? parseFloat(s[1].replace("px", "")) : 0, offsetY: s[2] ? parseFloat(s[2].replace("px", "")) : 0, blur: s[3] ? s[3].replace("px", "") : 0 }) } return e }, $.prototype.parseTransform = function () { if (!this.transformData) { if (this.hasTransform()) { var t = this.parseBounds(), e = this.prefixedCss("transformOrigin").split(" ").map(u).map(h); e[0] += t.left, e[1] += t.top, this.transformData = { origin: e, matrix: this.parseTransformMatrix() } } else this.transformData = { origin: [0, 0], matrix: [1, 0, 0, 1, 0, 0] } } return this.transformData }, $.prototype.parseTransformMatrix = function () { if (!this.transformMatrix) { var t = this.prefixedCss("transform"), e = t ? function t(e) { if (e && "matrix" === e[1]) return e[2].split(",").map(function (t) { return parseFloat(t.trim()) }); if (e && "matrix3d" === e[1]) { var n = e[2].split(",").map(function (t) { return parseFloat(t.trim()) }); return [n[0], n[1], n[4], n[5], n[12], n[13]] } }(t.match(this.MATRIX_PROPERTY)) : null; this.transformMatrix = e || [1, 0, 0, 1, 0, 0] } return this.transformMatrix }, $.prototype.parseBounds = function () { return this.bounds || (this.bounds = this.hasTransform() ? c(this.node) : s(this.node)) }, $.prototype.hasTransform = function () { return "1,0,0,1,0,0" !== this.parseTransformMatrix().join(",") || this.parent && this.parent.hasTransform() }, $.prototype.getValue = function () { var t, e, n = this.node.value || ""; return "SELECT" === this.node.tagName ? n = (t = this.node, e = t.options[t.selectedIndex || 0], e && e.text || "") : "password" === this.node.type && (n = Array(n.length + 1).join("•")), 0 === n.length ? this.node.placeholder || "" : n }, $.prototype.MATRIX_PROPERTY = /(matrix|matrix3d)\((.+)\)/, $.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g, $.prototype.TEXT_SHADOW_VALUES = /(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g, $.prototype.CLIP = /^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/, e.exports = $ }, { "./color": 3, "./utils": 26 }], 15: [function (t, e, n) { var i = t("./log"), o = t("punycode"), s = t("./nodecontainer"), a = t("./textcontainer"), c = t("./pseudoelementcontainer"), $ = t("./fontmetrics"), l = t("./color"), u = t("./stackingcontext"), h = t("./utils"), f = h.bind, d = h.getBounds, p = h.parseBackgrounds, _ = h.offsetBounds; function m(t, e, n, o, a) { i("Starting NodeParser"), this.renderer = e, this.options = a, this.range = null, this.support = n, this.renderQueue = [], this.stack = new u(!0, 1, t.ownerDocument, null); var c = new s(t, null); if (a.background && e.rectangle(0, 0, e.width, e.height, new l(a.background)), t === t.ownerDocument.documentElement) { var h = new s(c.color("backgroundColor").isTransparent() ? t.ownerDocument.body : t.ownerDocument.documentElement, null); e.rectangle(0, 0, e.width, e.height, h.color("backgroundColor")) } c.visibile = c.isElementVisible(), this.createPseudoHideStyles(t.ownerDocument), this.disableAnimations(t.ownerDocument), this.nodes = X([c].concat(this.getChildren(c)).filter(function (t) { return t.visible = t.isElementVisible() }).map(this.getPseudoElements, this)), this.fontMetrics = new $, i("Fetched nodes, total:", this.nodes.length), i("Calculate overflow clips"), this.calculateOverflowClips(), i("Start fetching images"), this.images = o.fetch(this.nodes.filter(j)), this.ready = this.images.ready.then(f(function () { return i("Images loaded, starting parsing"), i("Creating stacking contexts"), this.createStackingContexts(), i("Sorting stacking contexts"), this.sortStackingContexts(this.stack), this.parse(this.stack), i("Render queue created with " + this.renderQueue.length + " items"), new Promise(f(function (t) { a.async ? "function" == typeof a.async ? a.async.call(this, this.renderQueue, t) : this.renderQueue.length > 0 ? (this.renderIndex = 0, this.asyncRenderer(this.renderQueue, t)) : t() : (this.renderQueue.forEach(this.paint, this), t()) }, this)) }, this)) } function x(t) { return t.parent && t.parent.clip.length } function w(t) { return t.replace(/(\-[a-z])/g, function (t) { return t.toUpperCase().replace("-", "") }) } function y() { } m.prototype.calculateOverflowClips = function () { this.nodes.forEach(function (t) { if (j(t)) { N(t) && t.appendToDOM(), t.borders = this.parseBorders(t); var e = "hidden" === t.css("overflow") ? [t.borders.clip] : [], n = t.parseClip(); n && -1 !== ["absolute", "fixed"].indexOf(t.css("position")) && e.push([["rect", t.bounds.left + n.left, t.bounds.top + n.top, n.right - n.left, n.bottom - n.top]]), t.clip = x(t) ? t.parent.clip.concat(e) : e, t.backgroundClip = "hidden" !== t.css("overflow") ? t.clip.concat([t.borders.clip]) : t.clip, N(t) && t.cleanDOM() } else H(t) && (t.clip = x(t) ? t.parent.clip : []); N(t) || (t.bounds = null) }, this) }, m.prototype.asyncRenderer = function (t, e, n) { n = n || Date.now(), this.paint(t[this.renderIndex++]), t.length === this.renderIndex ? e() : n + 20 > Date.now() ? this.asyncRenderer(t, e, n) : setTimeout(f(function () { this.asyncRenderer(t, e) }, this), 0) }, m.prototype.createPseudoHideStyles = function (t) { this.createStyles(t, "." + c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: "" !important; display: none !important; }.' + c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: "" !important; display: none !important; }') }, m.prototype.disableAnimations = function (t) { this.createStyles(t, "* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}") }, m.prototype.createStyles = function (t, e) { var n = t.createElement("style"); n.innerHTML = e, t.body.appendChild(n) }, m.prototype.getPseudoElements = function (t) { var e = [[t]]; if (t.node.nodeType === Node.ELEMENT_NODE) { var n = this.getPseudoElement(t, ":before"), i = this.getPseudoElement(t, ":after"); n && e.push(n), i && e.push(i) } return X(e) }, m.prototype.getPseudoElement = function (t, e) { var n, i, o = t.computedStyle(e); if (!o || !o.content || "none" === o.content || "-moz-alt-content" === o.content || "none" === o.display) return null; for (var s = (n = o.content, i = n.substr(0, 1), i === n.substr(n.length - 1) && i.match(/'|"/) ? n.substr(1, n.length - 2) : n), $ = "url" === s.substr(0, 3), l = document.createElement($ ? "img" : "html2canvaspseudoelement"), u = new c(l, t, e), h = o.length - 1; h >= 0; h--) { var f = w(o.item(h)); l.style[f] = o[f] } if (l.className = c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + " " + c.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER, $) return l.src = p(s)[0].args[0], [u]; var d = document.createTextNode(s); return l.appendChild(d), [u, new a(d, u)] }, m.prototype.getChildren = function (t) { return X([].filter.call(t.node.childNodes, O).map(function (e) { var n = [e.nodeType === Node.TEXT_NODE ? new a(e, t) : new s(e, t)].filter(M); return e.nodeType === Node.ELEMENT_NODE && n.length && "TEXTAREA" !== e.tagName ? n[0].isElementVisible() ? n.concat(this.getChildren(n[0])) : [] : n }, this)) }, m.prototype.newStackingContext = function (t, e) { var n = new u(e, t.getOpacity(), t.node, t.parent); t.cloneTo(n), (e ? n.getParentStack(this) : n.parent.stack).contexts.push(n), t.stack = n }, m.prototype.createStackingContexts = function () { this.nodes.forEach(function (t) { var e, n, i; j(t) && (this.isRootElement(t) || (e = t, 1 > e.getOpacity()) || (n = t, "auto" !== (-1 !== ["absolute", "relative", "fixed"].indexOf(n.css("position")) ? n.css("zIndex") : "auto")) || this.isBodyWithTransparentRoot(t) || t.hasTransform()) ? this.newStackingContext(t, !0) : j(t) && (D(t) && E(t) || (i = t, -1 !== ["inline-block", "inline-table"].indexOf(i.css("display"))) || z(t)) ? this.newStackingContext(t, !1) : t.assignStack(t.parent.stack) }, this) }, m.prototype.isBodyWithTransparentRoot = function (t) { return "BODY" === t.node.nodeName && t.parent.color("backgroundColor").isTransparent() }, m.prototype.isRootElement = function (t) { return null === t.parent }, m.prototype.sortStackingContexts = function (t) { var e; t.contexts.sort((e = t.contexts.slice(0), function (t, n) { return t.cssInt("zIndex") + e.indexOf(t) / e.length - (n.cssInt("zIndex") + e.indexOf(n) / e.length) })), t.contexts.forEach(this.sortStackingContexts, this) }, m.prototype.parseTextBounds = function (t) { return function (e, n, i) { if ("none" !== t.parent.css("textDecoration").substr(0, 4) || 0 !== e.trim().length) { if (this.support.rangeBounds && !t.parent.hasTransform()) { var o = i.slice(0, n).join("").length; return this.getRangeBounds(t.node, o, e.length) } if (t.node && "string" == typeof t.node.data) { var s = t.node.splitText(e.length), a = this.getWrapperBounds(t.node, t.parent.hasTransform()); return t.node = s, a } } else (!this.support.rangeBounds || t.parent.hasTransform()) && (t.node = t.node.splitText(e.length)); return {} } }, m.prototype.getWrapperBounds = function (t, e) { var n = t.ownerDocument.createElement("html2canvaswrapper"), i = t.parentNode, o = t.cloneNode(!0); n.appendChild(t.cloneNode(!0)), i.replaceChild(n, t); var s = e ? _(n) : d(n); return i.replaceChild(o, n), s }, m.prototype.getRangeBounds = function (t, e, n) { var i = this.range || (this.range = t.ownerDocument.createRange()); return i.setStart(t, e), i.setEnd(t, e + n), i.getBoundingClientRect() }, m.prototype.parse = function (t) { var e = t.contexts.filter(P), n = t.children.filter(j), i = n.filter(L(z)), o = i.filter(L(D)).filter(L(I)), s = n.filter(L(D)).filter(z), a = i.filter(L(D)).filter(I), c = t.contexts.concat(i.filter(D)).filter(E), $ = t.children.filter(H).filter(R), l = t.contexts.filter(F); e.concat(o).concat(s).concat(a).concat(c).concat($).concat(l).forEach(function (t) { this.renderQueue.push(t), B(t) && (this.parse(t), this.renderQueue.push(new y)) }, this) }, m.prototype.paint = function (t) { try { t instanceof y ? this.renderer.ctx.restore() : H(t) ? (N(t.parent) && t.parent.appendToDOM(), this.paintText(t), N(t.parent) && t.parent.cleanDOM()) : this.paintNode(t) } catch (e) { if (i(e), this.options.strict) throw e } }, m.prototype.paintNode = function (t) { B(t) && (this.renderer.setOpacity(t.opacity), this.renderer.ctx.save(), t.hasTransform() && this.renderer.setTransform(t.parseTransform())), "INPUT" === t.node.nodeName && "checkbox" === t.node.type ? this.paintCheckbox(t) : "INPUT" === t.node.nodeName && "radio" === t.node.type ? this.paintRadio(t) : this.paintElement(t) }, m.prototype.paintElement = function (t) { var e = t.parseBounds(); this.renderer.clip(t.backgroundClip, function () { this.renderer.renderBackground(t, e, t.borders.borders.map(U)) }, this), this.renderer.clip(t.clip, function () { this.renderer.renderBorders(t.borders.borders) }, this), this.renderer.clip(t.backgroundClip, function () { switch (t.node.nodeName) { case "svg": case "IFRAME": var n = this.images.get(t.node); n ? this.renderer.renderImage(t, e, t.borders, n) : i("Error loading <" + t.node.nodeName + ">", t.node); break; case "IMG": var o = this.images.get(t.node.src); o ? this.renderer.renderImage(t, e, t.borders, o) : i("Error loading <img>", t.node.src); break; case "CANVAS": this.renderer.renderImage(t, e, t.borders, { image: t.node }); break; case "SELECT": case "INPUT": case "TEXTAREA": this.paintFormValue(t) } }, this) }, m.prototype.paintCheckbox = function (t) { var e = t.parseBounds(), n = Math.min(e.width, e.height), i = { width: n - 1, height: n - 1, top: e.top, left: e.left }, o = [3, 3], s = [o, o, o, o], a = [1, 1, 1, 1].map(function (t) { return { color: new l("#A5A5A5"), width: t } }), c = q(i, s, a); this.renderer.clip(t.backgroundClip, function () { this.renderer.rectangle(i.left + 1, i.top + 1, i.width - 2, i.height - 2, new l("#DEDEDE")), this.renderer.renderBorders(k(a, i, c, s)), t.node.checked && (this.renderer.font(new l("#424242"), "normal", "normal", "bold", n - 3 + "px", "arial"), this.renderer.text("✔", i.left + n / 6, i.top + n - 1)) }, this) }, m.prototype.paintRadio = function (t) { var e = t.parseBounds(), n = Math.min(e.width, e.height) - 2; this.renderer.clip(t.backgroundClip, function () { this.renderer.circleStroke(e.left + 1, e.top + 1, n, new l("#DEDEDE"), 1, new l("#A5A5A5")), t.node.checked && this.renderer.circle(Math.ceil(e.left + n / 4) + 1, Math.ceil(e.top + n / 4) + 1, Math.floor(n / 2), new l("#424242")) }, this) }, m.prototype.paintFormValue = function (t) { var e = t.getValue(); if (e.length > 0) { var n = t.node.ownerDocument, o = n.createElement("html2canvaswrapper");["lineHeight", "textAlign", "fontFamily", "fontWeight", "fontSize", "color", "paddingLeft", "paddingTop", "paddingRight", "paddingBottom", "width", "height", "borderLeftStyle", "borderTopStyle", "borderLeftWidth", "borderTopWidth", "boxSizing", "whiteSpace", "wordWrap"].forEach(function (e) { try { o.style[e] = t.css(e) } catch (n) { i("html2canvas: Parse: Exception caught in renderFormValue: " + n.message) } }); var s = t.parseBounds(); o.style.position = "fixed", o.style.left = s.left + "px", o.style.top = s.top + "px", o.textContent = e, n.body.appendChild(o), this.paintText(new a(o.firstChild, t)), n.body.removeChild(o) } }, m.prototype.paintText = function (t) { t.applyTextTransform(); var e, n, i = o.ucs2.decode(t.node.data), s = (!this.options.letterRendering || (e = t, /^(normal|none|0px)$/.test(e.parent.css("letterSpacing")))) && (n = t.node.data, !/[^\u0000-\u00ff]/.test(n)) ? function t(e) { for (var n, i = [], s = 0, a = !1; e.length;)V(e[s]) === a ? ((n = e.splice(0, s)).length && i.push(o.ucs2.encode(n)), a = !a, s = 0) : s++, s >= e.length && (n = e.splice(0, s)).length && i.push(o.ucs2.encode(n)); return i }(i) : i.map(function (t) { return o.ucs2.encode([t]) }), a = t.parent.fontWeight(), c = t.parent.css("fontSize"), $ = t.parent.css("fontFamily"), l = t.parent.parseTextShadows(); this.renderer.font(t.parent.color("color"), t.parent.css("fontStyle"), t.parent.css("fontVariant"), a, c, $), l.length ? this.renderer.fontShadow(l[0].color, l[0].offsetX, l[0].offsetY, l[0].blur) : this.renderer.clearShadow(), this.renderer.clip(t.parent.clip, function () { s.map(this.parseTextBounds(t), this).forEach(function (e, n) { e && (this.renderer.text(s[n], e.left, e.bottom), this.renderTextDecoration(t.parent, e, this.fontMetrics.getMetrics($, c))) }, this) }, this) }, m.prototype.renderTextDecoration = function (t, e, n) { switch (t.css("textDecoration").split(" ")[0]) { case "underline": this.renderer.rectangle(e.left, Math.round(e.top + n.baseline + n.lineWidth), e.width, 1, t.color("color")); break; case "overline": this.renderer.rectangle(e.left, Math.round(e.top), e.width, 1, t.color("color")); break; case "line-through": this.renderer.rectangle(e.left, Math.ceil(e.top + n.middle + n.lineWidth), e.width, 1, t.color("color")) } }; var v = { inset: [["darken", .6], ["darken", .1], ["darken", .1], ["darken", .6]] }; function k(t, e, n, i) { return t.map(function (o, s) { if (o.width > 0) { var a = e.left, c = e.top, $ = e.width, l = e.height - t[2].width; switch (s) { case 0: l = t[0].width, o.args = T({ c1: [a, c], c2: [a + $, c], c3: [a + $ - t[1].width, c + l], c4: [a + t[3].width, c + l] }, i[0], i[1], n.topLeftOuter, n.topLeftInner, n.topRightOuter, n.topRightInner); break; case 1: a = e.left + e.width - t[1].width, $ = t[1].width, o.args = T({ c1: [a + $, c], c2: [a + $, c + l + t[2].width], c3: [a, c + l], c4: [a, c + t[0].width] }, i[1], i[2], n.topRightOuter, n.topRightInner, n.bottomRightOuter, n.bottomRightInner); break; case 2: c = c + e.height - t[2].width, l = t[2].width, o.args = T({ c1: [a + $, c + l], c2: [a, c + l], c3: [a + t[3].width, c], c4: [a + $ - t[3].width, c] }, i[2], i[3], n.bottomRightOuter, n.bottomRightInner, n.bottomLeftOuter, n.bottomLeftInner); break; case 3: $ = t[3].width, o.args = T({ c1: [a, c + l + t[2].width], c2: [a, c], c3: [a + $, c + t[0].width], c4: [a + $, c + l] }, i[3], i[0], n.bottomLeftOuter, n.bottomLeftInner, n.topLeftOuter, n.topLeftInner) } } return o }) } function C(t, e, n, i) { var o = 4 * ((Math.sqrt(2) - 1) / 3), s = n * o, a = i * o, c = t + n, $ = e + i; return { topLeft: S({ x: t, y: $ }, { x: t, y: $ - a }, { x: c - s, y: e }, { x: c, y: e }), topRight: S({ x: t, y: e }, { x: t + s, y: e }, { x: c, y: $ - a }, { x: c, y: $ }), bottomRight: S({ x: c, y: e }, { x: c, y: e + a }, { x: t + s, y: $ }, { x: t, y: $ }), bottomLeft: S({ x: c, y: $ }, { x: c - s, y: $ }, { x: t, y: e + a }, { x: t, y: e }) } } function q(t, e, n) { var i = t.left, o = t.top, s = t.width, a = t.height, c = e[0][0] < s / 2 ? e[0][0] : s / 2, $ = e[0][1] < a / 2 ? e[0][1] : a / 2, l = e[1][0] < s / 2 ? e[1][0] : s / 2, u = e[1][1] < a / 2 ? e[1][1] : a / 2, h = e[2][0] < s / 2 ? e[2][0] : s / 2, f = e[2][1] < a / 2 ? e[2][1] : a / 2, d = e[3][0] < s / 2 ? e[3][0] : s / 2, p = e[3][1] < a / 2 ? e[3][1] : a / 2, _ = s - l, m = a - f, x = s - h, w = a - p; return { topLeftOuter: C(i, o, c, $).topLeft.subdivide(.5), topLeftInner: C(i + n[3].width, o + n[0].width, Math.max(0, c - n[3].width), Math.max(0, $ - n[0].width)).topLeft.subdivide(.5), topRightOuter: C(i + _, o, l, u).topRight.subdivide(.5), topRightInner: C(i + Math.min(_, s + n[3].width), o + n[0].width, _ > s + n[3].width ? 0 : l - n[3].width, u - n[0].width).topRight.subdivide(.5), bottomRightOuter: C(i + x, o + m, h, f).bottomRight.subdivide(.5), bottomRightInner: C(i + Math.min(x, s - n[3].width), o + Math.min(m, a + n[0].width), Math.max(0, h - n[1].width), f - n[2].width).bottomRight.subdivide(.5), bottomLeftOuter: C(i, o + w, d, p).bottomLeft.subdivide(.5), bottomLeftInner: C(i + n[3].width, o + w, Math.max(0, d - n[3].width), p - n[2].width).bottomLeft.subdivide(.5) } } function S(t, e, n, i) { var o = function (t, e, n) { return { x: t.x + (e.x - t.x) * n, y: t.y + (e.y - t.y) * n } }; return { start: t, startControl: e, endControl: n, end: i, subdivide: function (s) { var a = o(t, e, s), c = o(e, n, s), $ = o(n, i, s), l = o(a, c, s), u = o(c, $, s), h = o(l, u, s); return [S(t, a, l, h), S(h, u, $, i)] }, curveTo: function (t) { t.push(["bezierCurve", e.x, e.y, n.x, n.y, i.x, i.y]) }, curveToReversed: function (i) { i.push(["bezierCurve", n.x, n.y, e.x, e.y, t.x, t.y]) } } } function T(t, e, n, i, o, s, a) { var c = []; return e[0] > 0 || e[1] > 0 ? (c.push(["line", i[1].start.x, i[1].start.y]), i[1].curveTo(c)) : c.push(["line", t.c1[0], t.c1[1]]), n[0] > 0 || n[1] > 0 ? (c.push(["line", s[0].start.x, s[0].start.y]), s[0].curveTo(c), c.push(["line", a[0].end.x, a[0].end.y]), a[0].curveToReversed(c)) : (c.push(["line", t.c2[0], t.c2[1]]), c.push(["line", t.c3[0], t.c3[1]])), e[0] > 0 || e[1] > 0 ? (c.push(["line", o[1].end.x, o[1].end.y]), o[1].curveToReversed(c)) : c.push(["line", t.c4[0], t.c4[1]]), c } function A(t, e, n, i, o, s, a) { e[0] > 0 || e[1] > 0 ? (t.push(["line", i[0].start.x, i[0].start.y]), i[0].curveTo(t), i[1].curveTo(t)) : t.push(["line", s, a]), (n[0] > 0 || n[1] > 0) && t.push(["line", o[0].start.x, o[0].start.y]) } function P(t) { return 0 > t.cssInt("zIndex") } function F(t) { return t.cssInt("zIndex") > 0 } function E(t) { return 0 === t.cssInt("zIndex") } function I(t) { return -1 !== ["inline", "inline-block", "inline-table"].indexOf(t.css("display")) } function B(t) { return t instanceof u } function R(t) { return t.node.data.trim().length > 0 } function O(t) { return t.nodeType === Node.TEXT_NODE || t.nodeType === Node.ELEMENT_NODE } function D(t) { return "static" !== t.css("position") } function z(t) { return "none" !== t.css("float") } function L(t) { var e = this; return function () { return !t.apply(e, arguments) } } function j(t) { return t.node.nodeType === Node.ELEMENT_NODE } function N(t) { return !0 === t.isPseudoElement } function H(t) { return t.node.nodeType === Node.TEXT_NODE } function W(t) { return parseInt(t, 10) } function U(t) { return t.width } function M(t) { return t.node.nodeType !== Node.ELEMENT_NODE || -1 === ["SCRIPT", "HEAD", "TITLE", "OBJECT", "BR", "OPTION"].indexOf(t.node.nodeName) } function X(t) { return [].concat.apply([], t) } function V(t) { return -1 !== [32, 13, 10, 9, 45].indexOf(t) } m.prototype.parseBorders = function (t) { var e, n = t.parseBounds(), i = (e = t, ["TopLeft", "TopRight", "BottomRight", "BottomLeft"].map(function (t) { var n = e.css("border" + t + "Radius").split(" "); return n.length <= 1 && (n[1] = n[0]), n.map(W) })), o = ["Top", "Right", "Bottom", "Left"].map(function (e, n) { var i = t.css("border" + e + "Style"), o = t.color("border" + e + "Color"); "inset" === i && o.isBlack() && (o = new l([255, 255, 255, o.a])); var s = v[i] ? v[i][n] : null; return { width: t.cssInt("border" + e + "Width"), color: s ? o[s[0]](s[1]) : o, args: null } }), s = q(n, i, o); return { clip: this.parseBackgroundClip(t, s, o, i, n), borders: k(o, n, s, i) } }, m.prototype.parseBackgroundClip = function (t, e, n, i, o) { var s = t.css("backgroundClip"), a = []; switch (s) { case "content-box": case "padding-box": A(a, i[0], i[1], e.topLeftInner, e.topRightInner, o.left + n[3].width, o.top + n[0].width), A(a, i[1], i[2], e.topRightInner, e.bottomRightInner, o.left + o.width - n[1].width, o.top + n[0].width), A(a, i[2], i[3], e.bottomRightInner, e.bottomLeftInner, o.left + o.width - n[1].width, o.top + o.height - n[2].width), A(a, i[3], i[0], e.bottomLeftInner, e.topLeftInner, o.left + n[3].width, o.top + o.height - n[2].width); break; default: A(a, i[0], i[1], e.topLeftOuter, e.topRightOuter, o.left, o.top), A(a, i[1], i[2], e.topRightOuter, e.bottomRightOuter, o.left + o.width, o.top), A(a, i[2], i[3], e.bottomRightOuter, e.bottomLeftOuter, o.left + o.width, o.top + o.height), A(a, i[3], i[0], e.bottomLeftOuter, e.topLeftOuter, o.left, o.top + o.height) }return a }, e.exports = m }, { "./color": 3, "./fontmetrics": 7, "./log": 13, "./nodecontainer": 14, "./pseudoelementcontainer": 18, "./stackingcontext": 21, "./textcontainer": 25, "./utils": 26, punycode: 1 }], 16: [function (t, e, n) { var i = t("./xhr"), o = t("./utils"), s = t("./log"), a = t("./clone"), c = o.decode64; function $(t, e, n) { var o = "withCredentials" in new XMLHttpRequest; if (!e) return Promise.reject("No proxy configured"); var s = h(o), a = f(e, t, s); return o ? i(a) : u(n, a, s).then(function (t) { return c(t.content) }) } var l = 0; function u(t, e, n) { return new Promise(function (i, o) { var s = t.createElement("script"), a = function () { delete window.html2canvas.proxy[n], t.body.removeChild(s) }; window.html2canvas.proxy[n] = function (t) { a(), i(t) }, s.src = e, s.onerror = function (t) { a(), o(t) }, t.body.appendChild(s) }) } function h(t) { return t ? "" : "html2canvas_" + Date.now() + "_" + ++l + "_" + Math.round(1e5 * Math.random()) } function f(t, e, n) { return t + "?url=" + encodeURIComponent(e) + (n.length ? "&callback=html2canvas.proxy." + n : "") } n.Proxy = $, n.ProxyURL = function t(e, n, i) { var o = "crossOrigin" in new Image, s = h(o), a = f(n, e, s); return o ? Promise.resolve(a) : u(i, a, s).then(function (t) { return "data:" + t.type + ";base64," + t.content }) }, n.loadUrlDocument = function t(e, n, i, o, c, l) { var u; return new $(e, n, window.document).then((u = e, function (t) { var e, n = new DOMParser; try { e = n.parseFromString(t, "text/html") } catch (i) { s("DOMParser not supported, falling back to createHTMLDocument"), e = document.implementation.createHTMLDocument(""); try { e.open(), e.write(t), e.close() } catch (o) { s("createHTMLDocument write not supported, falling back to document.body.innerHTML"), e.body.innerHTML = t } } var a = e.querySelector("base"); if (!a || !a.href.host) { var c = e.createElement("base"); c.href = u, e.head.insertBefore(c, e.head.firstChild) } return e })).then(function (t) { return a(t, i, o, c, l, 0, 0) }) } }, { "./clone": 2, "./log": 13, "./utils": 26, "./xhr": 28 }], 17: [function (t, e, n) { var i = t("./proxy").ProxyURL; e.exports = function t(e, n) { var o = document.createElement("a"); o.href = e, e = o.href, this.src = e, this.image = new Image; var s = this; this.promise = new Promise(function (t, o) { s.image.crossOrigin = "Anonymous", s.image.onload = t, s.image.onerror = o, new i(e, n, document).then(function (t) { s.image.src = t }).catch(o) }) } }, { "./proxy": 16 }], 18: [function (t, e, n) { var i = t("./nodecontainer"); function o(t, e, n) { i.call(this, t, e), this.isPseudoElement = !0, this.before = ":before" === n } o.prototype.cloneTo = function (t) { o.prototype.cloneTo.call(this, t), t.isPseudoElement = !0, t.before = this.before }, o.prototype = Object.create(i.prototype), o.prototype.appendToDOM = function () { this.before ? this.parent.node.insertBefore(this.node, this.parent.node.firstChild) : this.parent.node.appendChild(this.node), this.parent.node.className += " " + this.getHideClass() }, o.prototype.cleanDOM = function () { this.node.parentNode.removeChild(this.node), this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), "") }, o.prototype.getHideClass = function () { return this["PSEUDO_HIDE_ELEMENT_CLASS_" + (this.before ? "BEFORE" : "AFTER")] }, o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = "___html2canvas___pseudoelement_before", o.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = "___html2canvas___pseudoelement_after", e.exports = o }, { "./nodecontainer": 14 }], 19: [function (t, e, n) { var i = t("./log"); function o(t, e, n, i, o) { this.width = t, this.height = e, this.images = n, this.options = i, this.document = o } o.prototype.renderImage = function (t, e, n, i) { var o = t.cssInt("paddingLeft"), s = t.cssInt("paddingTop"), a = t.cssInt("paddingRight"), c = t.cssInt("paddingBottom"), $ = n.borders, l = e.width - ($[1].width + $[3].width + o + a), u = e.height - ($[0].width + $[2].width + s + c); this.drawImage(i, 0, 0, i.image.width || l, i.image.height || u, e.left + o + $[3].width, e.top + s + $[0].width, l, u) }, o.prototype.renderBackground = function (t, e, n) { e.height > 0 && e.width > 0 && (this.renderBackgroundColor(t, e), this.renderBackgroundImage(t, e, n)) }, o.prototype.renderBackgroundColor = function (t, e) { var n = t.color("backgroundColor"); n.isTransparent() || this.rectangle(e.left, e.top, e.width, e.height, n) }, o.prototype.renderBorders = function (t) { t.forEach(this.renderBorder, this) }, o.prototype.renderBorder = function (t) { t.color.isTransparent() || null === t.args || this.drawShape(t.args, t.color) }, o.prototype.renderBackgroundImage = function (t, e, n) { t.parseBackgroundImages().reverse().forEach(function (o, s, a) { switch (o.method) { case "url": var c = this.images.get(o.args[0]); c ? this.renderBackgroundRepeating(t, e, c, a.length - (s + 1), n) : i("Error loading background-image", o.args[0]); break; case "linear-gradient": case "gradient": var $ = this.images.get(o.value); $ ? this.renderBackgroundGradient($, e, n) : i("Error loading background-image", o.args[0]); break; case "none": break; default: i("Unknown background-image type", o.args[0]) } }, this) }, o.prototype.renderBackgroundRepeating = function (t, e, n, i, o) { var s = t.parseBackgroundSize(e, n.image, i), a = t.parseBackgroundPosition(e, n.image, i, s), c = t.parseBackgroundRepeat(i); switch (c) { case "repeat-x": case "repeat no-repeat": this.backgroundRepeatShape(n, a, s, e, e.left + o[3], e.top + a.top + o[0], 99999, s.height, o); break; case "repeat-y": case "no-repeat repeat": this.backgroundRepeatShape(n, a, s, e, e.left + a.left + o[3], e.top + o[0], s.width, 99999, o); break; case "no-repeat": this.backgroundRepeatShape(n, a, s, e, e.left + a.left + o[3], e.top + a.top + o[0], s.width, s.height, o); break; default: this.renderBackgroundRepeat(n, a, s, { top: e.top, left: e.left }, o[3], o[0]) } }, e.exports = o }, { "./log": 13 }], 20: [function (t, e, n) { var i = t("../renderer"), o = t("../lineargradientcontainer"), s = t("../log"); function a(t, e) { i.apply(this, arguments), this.canvas = this.options.canvas || this.document.createElement("canvas"), this.options.canvas || (this.canvas.width = t, this.canvas.height = e), this.ctx = this.canvas.getContext("2d"), this.taintCtx = this.document.createElement("canvas").getContext("2d"), this.ctx.textBaseline = "bottom", this.variables = {}, s("Initialized CanvasRenderer with size", t, "x", e) } function c(t) { return t.length > 0 } a.prototype = Object.create(i.prototype), a.prototype.setFillStyle = function (t) { return this.ctx.fillStyle = "object" == typeof t && t.isColor ? t.toString() : t, this.ctx }, a.prototype.rectangle = function (t, e, n, i, o) { this.setFillStyle(o).fillRect(t, e, n, i) }, a.prototype.circle = function (t, e, n, i) { this.setFillStyle(i), this.ctx.beginPath(), this.ctx.arc(t + n / 2, e + n / 2, n / 2, 0, 2 * Math.PI, !0), this.ctx.closePath(), this.ctx.fill() }, a.prototype.circleStroke = function (t, e, n, i, o, s) { this.circle(t, e, n, i), this.ctx.strokeStyle = s.toString(), this.ctx.stroke() }, a.prototype.drawShape = function (t, e) { this.shape(t), this.setFillStyle(e).fill() }, a.prototype.taints = function (t) { if (null === t.tainted) { this.taintCtx.drawImage(t.image, 0, 0); try { this.taintCtx.getImageData(0, 0, 1, 1), t.tainted = !1 } catch (e) { this.taintCtx = document.createElement("canvas").getContext("2d"), t.tainted = !0 } } return t.tainted }, a.prototype.drawImage = function (t, e, n, i, o, s, a, c, $) { (!this.taints(t) || this.options.allowTaint) && this.ctx.drawImage(t.image, e, n, i, o, s, a, c, $) }, a.prototype.clip = function (t, e, n) { this.ctx.save(), t.filter(c).forEach(function (t) { this.shape(t).clip() }, this), e.call(n), this.ctx.restore() }, a.prototype.shape = function (t) { return this.ctx.beginPath(), t.forEach(function (t, e) { "rect" === t[0] ? this.ctx.rect.apply(this.ctx, t.slice(1)) : this.ctx[0 === e ? "moveTo" : t[0] + "To"].apply(this.ctx, t.slice(1)) }, this), this.ctx.closePath(), this.ctx }, a.prototype.font = function (t, e, n, i, o, s) { this.setFillStyle(t).font = [e, n, i, o, s].join(" ").split(",")[0] }, a.prototype.fontShadow = function (t, e, n, i) { this.setVariable("shadowColor", t.toString()).setVariable("shadowOffsetY", e).setVariable("shadowOffsetX", n).setVariable("shadowBlur", i) }, a.prototype.clearShadow = function () { this.setVariable("shadowColor", "rgba(0,0,0,0)") }, a.prototype.setOpacity = function (t) { this.ctx.globalAlpha = t }, a.prototype.setTransform = function (t) { this.ctx.translate(t.origin[0], t.origin[1]), this.ctx.transform.apply(this.ctx, t.matrix), this.ctx.translate(-t.origin[0], -t.origin[1]) }, a.prototype.setVariable = function (t, e) { return this.variables[t] !== e && (this.variables[t] = this.ctx[t] = e), this }, a.prototype.text = function (t, e, n) { this.ctx.fillText(t, e, n) }, a.prototype.backgroundRepeatShape = function (t, e, n, i, o, s, a, c, $) { this.clip([[["line", Math.round(o), Math.round(s)], ["line", Math.round(o + a), Math.round(s)], ["line", Math.round(o + a), Math.round(c + s)], ["line", Math.round(o), Math.round(c + s)]]], function () { this.renderBackgroundRepeat(t, e, n, i, $[3], $[0]) }, this) }, a.prototype.renderBackgroundRepeat = function (t, e, n, i, o, s) { var a = Math.round(i.left + e.left + o), c = Math.round(i.top + e.top + s); this.setFillStyle(this.ctx.createPattern(this.resizeImage(t, n), "repeat")), this.ctx.translate(a, c), this.ctx.fill(), this.ctx.translate(-a, -c) }, a.prototype.renderBackgroundGradient = function (t, e) { if (t instanceof o) { var n = this.ctx.createLinearGradient(e.left + e.width * t.x0, e.top + e.height * t.y0, e.left + e.width * t.x1, e.top + e.height * t.y1); t.colorStops.forEach(function (t) { n.addColorStop(t.stop, t.color.toString()) }), this.rectangle(e.left, e.top, e.width, e.height, n) } }, a.prototype.resizeImage = function (t, e) { var n = t.image; if (n.width === e.width && n.height === e.height) return n; var i, o = document.createElement("canvas"); return o.width = e.width, o.height = e.height, (i = o.getContext("2d")).drawImage(n, 0, 0, n.width, n.height, 0, 0, e.width, e.height), o }, e.exports = a }, { "../lineargradientcontainer": 12, "../log": 13, "../renderer": 19 }], 21: [function (t, e, n) { var i = t("./nodecontainer"); function o(t, e, n, o) { i.call(this, n, o), this.ownStacking = t, this.contexts = [], this.children = [], this.opacity = (this.parent ? this.parent.stack.opacity : 1) * e } o.prototype = Object.create(i.prototype), o.prototype.getParentStack = function (t) { var e = this.parent ? this.parent.stack : null; return e ? e.ownStacking ? e : e.getParentStack(t) : t.stack }, e.exports = o }, { "./nodecontainer": 14 }], 22: [function (t, e, n) { function i(t) { this.rangeBounds = this.testRangeBounds(t), this.cors = this.testCORS(), this.svg = this.testSVG() } i.prototype.testRangeBounds = function (t) { var e, n, i, o, s = !1; return t.createRange && (e = t.createRange()).getBoundingClientRect && ((n = t.createElement("boundtest")).style.height = "123px", n.style.display = "block", t.body.appendChild(n), e.selectNode(n), 123 === (o = (i = e.getBoundingClientRect()).height) && (s = !0), t.body.removeChild(n)), s }, i.prototype.testCORS = function () { return void 0 !== new Image().crossOrigin }, i.prototype.testSVG = function () { var t = new Image, e = document.createElement("canvas"), n = e.getContext("2d"); t.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>"; try { n.drawImage(t, 0, 0), e.toDataURL() } catch (i) { return !1 } return !0 }, e.exports = i }, {}], 23: [function (t, e, n) { var i = t("./xhr"), o = t("./utils").decode64; function s(t) { this.src = t, this.image = null; var e = this; this.promise = this.hasFabric().then(function () { return e.isInline(t) ? Promise.resolve(e.inlineFormatting(t)) : i(t) }).then(function (t) { return new Promise(function (n) { window.html2canvas.svg.fabric.loadSVGFromString(t, e.createCanvas.call(e, n)) }) }) } s.prototype.hasFabric = function () { return window.html2canvas.svg && window.html2canvas.svg.fabric ? Promise.resolve() : Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg")) }, s.prototype.inlineFormatting = function (t) { return /^data:image\/svg\+xml;base64,/.test(t) ? this.decode64(this.removeContentType(t)) : this.removeContentType(t) }, s.prototype.removeContentType = function (t) { return t.replace(/^data:image\/svg\+xml(;base64)?,/, "") }, s.prototype.isInline = function (t) { return /^data:image\/svg\+xml/i.test(t) }, s.prototype.createCanvas = function (t) { var e = this; return function (n, i) { var o = new window.html2canvas.svg.fabric.StaticCanvas("c"); e.image = o.lowerCanvasEl, o.setWidth(i.width).setHeight(i.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n, i)).renderAll(), t(o.lowerCanvasEl) } }, s.prototype.decode64 = function (t) { return "function" == typeof window.atob ? window.atob(t) : o(t) }, e.exports = s }, { "./utils": 26, "./xhr": 28 }], 24: [function (t, e, n) { var i = t("./svgcontainer"); function o(t, e) { this.src = t, this.image = null; var n = this; this.promise = e ? new Promise(function (e, i) { n.image = new Image, n.image.onload = e, n.image.onerror = i, n.image.src = "data:image/svg+xml," + new XMLSerializer().serializeToString(t), !0 === n.image.complete && e(n.image) }) : this.hasFabric().then(function () { return new Promise(function (e) { window.html2canvas.svg.fabric.parseSVGDocument(t, n.createCanvas.call(n, e)) }) }) } o.prototype = Object.create(i.prototype), e.exports = o }, { "./svgcontainer": 23 }], 25: [function (t, e, n) { var i = t("./nodecontainer"); function o(t, e) { i.call(this, t, e) } function s(t, e, n) { if (t.length > 0) return e + n.toUpperCase() } o.prototype = Object.create(i.prototype), o.prototype.applyTextTransform = function () { this.node.data = this.transform(this.parent.css("textTransform")) }, o.prototype.transform = function (t) { var e = this.node.data; switch (t) { case "lowercase": return e.toLowerCase(); case "capitalize": return e.replace(/(^|\s|:|-|\(|\))([a-z])/g, s); case "uppercase": return e.toUpperCase(); default: return e } }, e.exports = o }, { "./nodecontainer": 14 }], 26: [function (t, e, n) { n.smallImage = function t() { return "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" }, n.bind = function (t, e) { return function () { return t.apply(e, arguments) } }, n.decode64 = function (t) { var e, n, i, o, s, a, c, $, l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", u = t.length, h = ""; for (e = 0; e < u; e += 4)n = l.indexOf(t[e]), i = l.indexOf(t[e + 1]), o = l.indexOf(t[e + 2]), s = l.indexOf(t[e + 3]), a = n << 2 | i >> 4, c = (15 & i) << 4 | o >> 2, $ = (3 & o) << 6 | s, 64 === o ? h += String.fromCharCode(a) : 64 === s || -1 === s ? h += String.fromCharCode(a, c) : h += String.fromCharCode(a, c, $); return h }, n.getBounds = function (t) { if (t.getBoundingClientRect) { var e = t.getBoundingClientRect(), n = null == t.offsetWidth ? e.width : t.offsetWidth; return { top: e.top, bottom: e.bottom || e.top + e.height, right: e.left + n, left: e.left, width: n, height: null == t.offsetHeight ? e.height : t.offsetHeight } } return {} }, n.offsetBounds = function (t) { var e = t.offsetParent ? n.offsetBounds(t.offsetParent) : { top: 0, left: 0 }; return { top: t.offsetTop + e.top, bottom: t.offsetTop + t.offsetHeight + e.top, right: t.offsetLeft + e.left + t.offsetWidth, left: t.offsetLeft + e.left, width: t.offsetWidth, height: t.offsetHeight } }, n.parseBackgrounds = function (t) { var e, n, i, o, s, a, c, $ = [], l = 0, u = 0, h = function () { e && ('"' === n.substr(0, 1) && (n = n.substr(1, n.length - 2)), n && c.push(n), "-" === e.substr(0, 1) && (o = e.indexOf("-", 1) + 1) > 0 && (i = e.substr(0, o), e = e.substr(o)), $.push({ prefix: i, method: e.toLowerCase(), value: s, args: c, image: null })), c = [], e = i = n = s = "" }; return c = [], e = i = n = s = "", t.split("").forEach(function (t) { if (!(0 === l && " \r\n	".indexOf(t) > -1)) { switch (t) { case '"': a ? a === t && (a = null) : a = t; break; case "(": if (a); else if (0 === l) { l = 1, s += t; return } else u++; break; case ")": if (a); else if (1 === l) { if (0 === u) { l = 0, s += t, h(); return } u-- } break; case ",": if (a); else if (0 === l) { h(); return } else if (1 === l && 0 === u && !e.match(/^url$/i)) { c.push(n), n = "", s += t; return } }s += t, 0 === l ? e += t : n += t } }), h(), $ } }, {}], 27: [function (t, e, n) { var i = t("./gradientcontainer"); function o(t) { i.apply(this, arguments), this.type = "linear" === t.args[0] ? i.TYPES.LINEAR : i.TYPES.RADIAL } o.prototype = Object.create(i.prototype), e.exports = o }, { "./gradientcontainer": 9 }], 28: [function (t, e, n) { e.exports = function t(e) { return new Promise(function (t, n) { var i = new XMLHttpRequest; i.open("GET", e), i.onload = function () { 200 === i.status ? t(i.responseText) : n(Error(i.statusText)) }, i.onerror = function () { n(Error("Network Error")) }, i.send() }) } }, {}] }, {}, [4])(4) }), tR = "undefined" != typeof window && window || void 0, tO = function () { var t, e, n, i, o, s, a, c; function $(t) { var e, n, i, o, s, a, c, $, l, u, h, f, d, p, _; for (this.data = t, this.pos = 8, this.palette = [], this.imgData = [], this.transparency = {}, this.animation = null, this.text = {}, a = null; ;) { switch (e = this.readUInt32(), u = (function () { var t, e; for (e = [], c = t = 0; t < 4; c = ++t)e.push(String.fromCharCode(this.data[this.pos++])); return e }).call(this).join("")) { case "IHDR": this.width = this.readUInt32(), this.height = this.readUInt32(), this.bits = this.data[this.pos++], this.colorType = this.data[this.pos++], this.compressionMethod = this.data[this.pos++], this.filterMethod = this.data[this.pos++], this.interlaceMethod = this.data[this.pos++]; break; case "acTL": this.animation = { numFrames: this.readUInt32(), numPlays: this.readUInt32() || 1 / 0, frames: [] }; break; case "PLTE": this.palette = this.read(e); break; case "fcTL": a && this.animation.frames.push(a), this.pos += 4, a = { width: this.readUInt32(), height: this.readUInt32(), xOffset: this.readUInt32(), yOffset: this.readUInt32() }, s = this.readUInt16(), o = this.readUInt16() || 100, a.delay = 1e3 * s / o, a.disposeOp = this.data[this.pos++], a.blendOp = this.data[this.pos++], a.data = []; break; case "IDAT": case "fdAT": for ("fdAT" === u && (this.pos += 4, e -= 4), t = (null != a ? a.data : void 0) || this.imgData, c = d = 0; 0 <= e ? d < e : d > e; c = 0 <= e ? ++d : --d)t.push(this.data[this.pos++]); break; case "tRNS": switch (this.transparency = {}, this.colorType) { case 3: if (i = this.palette.length / 3, this.transparency.indexed = this.read(e), this.transparency.indexed.length > i) throw Error("More transparent colors than palette size"); if ((h = i - this.transparency.indexed.length) > 0) for (c = p = 0; 0 <= h ? p < h : p > h; c = 0 <= h ? ++p : --p)this.transparency.indexed.push(255); break; case 0: this.transparency.grayscale = this.read(e)[0]; break; case 2: this.transparency.rgb = this.read(e) }break; case "tEXt": $ = (f = this.read(e)).indexOf(0), l = String.fromCharCode.apply(String, f.slice(0, $)), this.text[l] = String.fromCharCode.apply(String, f.slice($ + 1)); break; case "IEND": a && this.animation.frames.push(a), this.colors = (function () { switch (this.colorType) { case 0: case 3: case 4: return 1; case 2: case 6: return 3 } }).call(this), this.hasAlphaChannel = 4 === (_ = this.colorType) || 6 === _, n = this.colors + (this.hasAlphaChannel ? 1 : 0), this.pixelBitlength = this.bits * n, this.colorSpace = (function () { switch (this.colors) { case 1: return "DeviceGray"; case 3: return "DeviceRGB" } }).call(this), this.imgData = new Uint8Array(this.imgData); return; default: this.pos += e }if (this.pos += 4, this.pos > this.data.length) throw Error("Incomplete or corrupt PNG file") } } $.load = function (t, e, n) { var i; return "function" == typeof e && (n = e), (i = new XMLHttpRequest).open("GET", t, !0), i.responseType = "arraybuffer", i.onload = function () { var t, o; return t = new Uint8Array(i.response || i.mozResponseArrayBuffer), o = new $(t), "function" == typeof (null != e ? e.getContext : void 0) && o.render(e), "function" == typeof n ? n(o) : void 0 }, i.send(null) }, i = 0, n = 1, o = 2, e = 0, t = 1, $.prototype.read = function (t) { var e, n, i; for (i = [], e = n = 0; 0 <= t ? n < t : n > t; e = 0 <= t ? ++n : --n)i.push(this.data[this.pos++]); return i }, $.prototype.readUInt32 = function () { var t, e, n, i; return t = this.data[this.pos++] << 24, e = this.data[this.pos++] << 16, t | e | (n = this.data[this.pos++] << 8) | (i = this.data[this.pos++]) }, $.prototype.readUInt16 = function () { var t, e; return (t = this.data[this.pos++] << 8) | (e = this.data[this.pos++]) }, $.prototype.decodePixels = function (t) { var e, n, i, o, s, a, c, $, l, u, h, f, d, p, _, m, x, w, y, v, k, C, q; if (null == t && (t = this.imgData), 0 === t.length) return new Uint8Array(0); for (t = (t = new tM(t)).getBytes(), m = (f = this.pixelBitlength / 8) * this.width, d = new Uint8Array(m * this.height), a = t.length, _ = 0, p = 0, n = 0; p < a;) { switch (t[p++]) { case 0: for (o = y = 0; y < m; o = y += 1)d[n++] = t[p++]; break; case 1: for (o = v = 0; v < m; o = v += 1)e = t[p++], s = o < f ? 0 : d[n - f], d[n++] = (e + s) % 256; break; case 2: for (o = k = 0; k < m; o = k += 1)e = t[p++], i = (o - o % f) / f, x = _ && d[(_ - 1) * m + i * f + o % f], d[n++] = (x + e) % 256; break; case 3: for (o = C = 0; C < m; o = C += 1)e = t[p++], i = (o - o % f) / f, s = o < f ? 0 : d[n - f], x = _ && d[(_ - 1) * m + i * f + o % f], d[n++] = (e + Math.floor((s + x) / 2)) % 256; break; case 4: for (o = q = 0; q < m; o = q += 1)e = t[p++], i = (o - o % f) / f, s = o < f ? 0 : d[n - f], 0 === _ ? x = w = 0 : (x = d[(_ - 1) * m + i * f + o % f], w = i && d[(_ - 1) * m + (i - 1) * f + o % f]), $ = Math.abs((c = s + x - w) - s), u = Math.abs(c - x), h = Math.abs(c - w), l = $ <= u && $ <= h ? s : u <= h ? x : w, d[n++] = (e + l) % 256; break; default: throw Error("Invalid filter algorithm: " + t[p - 1]) }_++ } return d }, $.prototype.decodePalette = function () { var t, e, n, i, o, s, a, c, $, l; for (i = this.palette, a = this.transparency.indexed || [], s = new Uint8Array((a.length || 0) + i.length), o = 0, n = i.length, t = 0, e = c = 0, $ = i.length; c < $; e = c += 3)s[o++] = i[e], s[o++] = i[e + 1], s[o++] = i[e + 2], s[o++] = null != (l = a[t++]) ? l : 255; return s }, $.prototype.copyToImageData = function (t, e) { var n, i, o, s, a, c, $, l, u, h, f; if (i = this.colors, u = null, n = this.hasAlphaChannel, this.palette.length && (u = null != (f = this._decodedPalette) ? f : this._decodedPalette = this.decodePalette(), i = 4, n = !0), l = (o = t.data || t).length, a = u || e, s = c = 0, 1 === i) for (; s < l;)$ = u ? 4 * e[s / 4] : c, h = a[$++], o[s++] = h, o[s++] = h, o[s++] = h, o[s++] = n ? a[$++] : 255, c = $; else for (; s < l;)$ = u ? 4 * e[s / 4] : c, o[s++] = a[$++], o[s++] = a[$++], o[s++] = a[$++], o[s++] = n ? a[$++] : 255, c = $ }, $.prototype.decode = function () { var t; return t = new Uint8Array(this.width * this.height * 4), this.copyToImageData(t, this.decodePixels()), t }; try { c = (a = tR.document.createElement("canvas")).getContext("2d") } catch (l) { return -1 } return s = function (t) { var e; return c.width = t.width, c.height = t.height, c.clearRect(0, 0, t.width, t.height), c.putImageData(t, 0, 0), (e = new Image).src = a.toDataURL(), e }, $.prototype.decodeFrames = function (t) { var e, n, i, o, a, c, $, l; if (this.animation) { for ($ = this.animation.frames, l = [], n = a = 0, c = $.length; a < c; n = ++a)e = $[n], i = t.createImageData(e.width, e.height), o = this.decodePixels(new Uint8Array(e.data)), this.copyToImageData(i, o), e.imageData = i, l.push(e.image = s(i)); return l } }, $.prototype.renderFrame = function (t, i) { var s, a, c; return s = (a = this.animation.frames)[i], c = a[i - 1], 0 === i && t.clearRect(0, 0, this.width, this.height), (null != c ? c.disposeOp : void 0) === n ? t.clearRect(c.xOffset, c.yOffset, c.width, c.height) : (null != c ? c.disposeOp : void 0) === o && t.putImageData(c.imageData, c.xOffset, c.yOffset), s.blendOp === e && t.clearRect(s.xOffset, s.yOffset, s.width, s.height), t.drawImage(s.image, s.xOffset, s.yOffset) }, $.prototype.animate = function (t) { var e, n, i, o, s, a, c = this; return n = 0, o = (a = this.animation).numFrames, i = a.frames, s = a.numPlays, (e = function () { var a, $; if ($ = i[a = n++ % o], c.renderFrame(t, a), o > 1 && n / o < s) return c.animation._timeout = setTimeout(e, $.delay) })() }, $.prototype.stopAnimation = function () { var t; return clearTimeout(null != (t = this.animation) ? t._timeout : void 0) }, $.prototype.render = function (t) { var e, n; return (t._png && t._png.stopAnimation(), t._png = this, t.width = this.width, t.height = this.height, e = t.getContext("2d"), this.animation) ? (this.decodeFrames(e), this.animate(e)) : (n = e.createImageData(this.width, this.height), this.copyToImageData(n, this.decodePixels()), e.putImageData(n, 0, 0)) }, $ }(), tR.PNG = tO; var tz, tL, tj, tN, tH, tW, tU = function () { function t() { this.pos = 0, this.bufferLength = 0, this.eof = !1, this.buffer = null } return t.prototype = { ensureBuffer: function t(e) { var n = this.buffer, i = n ? n.byteLength : 0; if (e < i) return n; for (var o = 512; o < e;)o <<= 1; for (var s = new Uint8Array(o), a = 0; a < i; ++a)s[a] = n[a]; return this.buffer = s }, getByte: function t() { for (var e = this.pos; this.bufferLength <= e;) { if (this.eof) return null; this.readBlock() } return this.buffer[this.pos++] }, getBytes: function t(e) { var n = this.pos; if (e) { this.ensureBuffer(n + e); for (var i = n + e; !this.eof && this.bufferLength < i;)this.readBlock(); var o = this.bufferLength; i > o && (i = o) } else { for (; !this.eof;)this.readBlock(); var i = this.bufferLength } return this.pos = i, this.buffer.subarray(n, i) }, lookChar: function t() { for (var e = this.pos; this.bufferLength <= e;) { if (this.eof) return null; this.readBlock() } return String.fromCharCode(this.buffer[this.pos]) }, getChar: function t() { for (var e = this.pos; this.bufferLength <= e;) { if (this.eof) return null; this.readBlock() } return String.fromCharCode(this.buffer[this.pos++]) }, makeSubStream: function t(e, n, i) { for (var o = e + n; this.bufferLength <= o && !this.eof;)this.readBlock(); return new Stream(this.buffer, e, n, i) }, skip: function t(e) { e || (e = 1), this.pos += e }, reset: function t() { this.pos = 0 } }, t }(), tM = function () { if ("undefined" != typeof Uint32Array) { var t = new Uint32Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), e = new Uint32Array([3, 4, 5, 6, 7, 8, 9, 10, 65547, 65549, 65551, 65553, 131091, 131095, 131099, 131103, 196643, 196651, 196659, 196667, 262211, 262227, 262243, 262259, 327811, 327843, 327875, 327907, 258, 258, 258]), n = new Uint32Array([1, 2, 3, 4, 65541, 65543, 131081, 131085, 196625, 196633, 262177, 262193, 327745, 327777, 393345, 393409, 459009, 459137, 524801, 525057, 590849, 591361, 657409, 658433, 724993, 727041, 794625, 798721, 868353, 876545]), i = [new Uint32Array([459008, 524368, 524304, 524568, 459024, 524400, 524336, 590016, 459016, 524384, 524320, 589984, 524288, 524416, 524352, 590048, 459012, 524376, 524312, 589968, 459028, 524408, 524344, 590032, 459020, 524392, 524328, 59e4, 524296, 524424, 524360, 590064, 459010, 524372, 524308, 524572, 459026, 524404, 524340, 590024, 459018, 524388, 524324, 589992, 524292, 524420, 524356, 590056, 459014, 524380, 524316, 589976, 459030, 524412, 524348, 590040, 459022, 524396, 524332, 590008, 524300, 524428, 524364, 590072, 459009, 524370, 524306, 524570, 459025, 524402, 524338, 590020, 459017, 524386, 524322, 589988, 524290, 524418, 524354, 590052, 459013, 524378, 524314, 589972, 459029, 524410, 524346, 590036, 459021, 524394, 524330, 590004, 524298, 524426, 524362, 590068, 459011, 524374, 524310, 524574, 459027, 524406, 524342, 590028, 459019, 524390, 524326, 589996, 524294, 524422, 524358, 590060, 459015, 524382, 524318, 589980, 459031, 524414, 524350, 590044, 459023, 524398, 524334, 590012, 524302, 524430, 524366, 590076, 459008, 524369, 524305, 524569, 459024, 524401, 524337, 590018, 459016, 524385, 524321, 589986, 524289, 524417, 524353, 590050, 459012, 524377, 524313, 589970, 459028, 524409, 524345, 590034, 459020, 524393, 524329, 590002, 524297, 524425, 524361, 590066, 459010, 524373, 524309, 524573, 459026, 524405, 524341, 590026, 459018, 524389, 524325, 589994, 524293, 524421, 524357, 590058, 459014, 524381, 524317, 589978, 459030, 524413, 524349, 590042, 459022, 524397, 524333, 590010, 524301, 524429, 524365, 590074, 459009, 524371, 524307, 524571, 459025, 524403, 524339, 590022, 459017, 524387, 524323, 589990, 524291, 524419, 524355, 590054, 459013, 524379, 524315, 589974, 459029, 524411, 524347, 590038, 459021, 524395, 524331, 590006, 524299, 524427, 524363, 590070, 459011, 524375, 524311, 524575, 459027, 524407, 524343, 590030, 459019, 524391, 524327, 589998, 524295, 524423, 524359, 590062, 459015, 524383, 524319, 589982, 459031, 524415, 524351, 590046, 459023, 524399, 524335, 590014, 524303, 524431, 524367, 590078, 459008, 524368, 524304, 524568, 459024, 524400, 524336, 590017, 459016, 524384, 524320, 589985, 524288, 524416, 524352, 590049, 459012, 524376, 524312, 589969, 459028, 524408, 524344, 590033, 459020, 524392, 524328, 590001, 524296, 524424, 524360, 590065, 459010, 524372, 524308, 524572, 459026, 524404, 524340, 590025, 459018, 524388, 524324, 589993, 524292, 524420, 524356, 590057, 459014, 524380, 524316, 589977, 459030, 524412, 524348, 590041, 459022, 524396, 524332, 590009, 524300, 524428, 524364, 590073, 459009, 524370, 524306, 524570, 459025, 524402, 524338, 590021, 459017, 524386, 524322, 589989, 524290, 524418, 524354, 590053, 459013, 524378, 524314, 589973, 459029, 524410, 524346, 590037, 459021, 524394, 524330, 590005, 524298, 524426, 524362, 590069, 459011, 524374, 524310, 524574, 459027, 524406, 524342, 590029, 459019, 524390, 524326, 589997, 524294, 524422, 524358, 590061, 459015, 524382, 524318, 589981, 459031, 524414, 524350, 590045, 459023, 524398, 524334, 590013, 524302, 524430, 524366, 590077, 459008, 524369, 524305, 524569, 459024, 524401, 524337, 590019, 459016, 524385, 524321, 589987, 524289, 524417, 524353, 590051, 459012, 524377, 524313, 589971, 459028, 524409, 524345, 590035, 459020, 524393, 524329, 590003, 524297, 524425, 524361, 590067, 459010, 524373, 524309, 524573, 459026, 524405, 524341, 590027, 459018, 524389, 524325, 589995, 524293, 524421, 524357, 590059, 459014, 524381, 524317, 589979, 459030, 524413, 524349, 590043, 459022, 524397, 524333, 590011, 524301, 524429, 524365, 590075, 459009, 524371, 524307, 524571, 459025, 524403, 524339, 590023, 459017, 524387, 524323, 589991, 524291, 524419, 524355, 590055, 459013, 524379, 524315, 589975, 459029, 524411, 524347, 590039, 459021, 524395, 524331, 590007, 524299, 524427, 524363, 590071, 459011, 524375, 524311, 524575, 459027, 524407, 524343, 590031, 459019, 524391, 524327, 589999, 524295, 524423, 524359, 590063, 459015, 524383, 524319, 589983, 459031, 524415, 524351, 590047, 459023, 524399, 524335, 590015, 524303, 524431, 524367, 590079]), 9], o = [new Uint32Array([327680, 327696, 327688, 327704, 327684, 327700, 327692, 327708, 327682, 327698, 327690, 327706, 327686, 327702, 327694, 0, 327681, 327697, 327689, 327705, 327685, 327701, 327693, 327709, 327683, 327699, 327691, 327707, 327687, 327703, 327695, 0]), 5]; return a.prototype = Object.create(tU.prototype), a.prototype.getBits = function (t) { for (var e, n = this.codeSize, i = this.codeBuf, o = this.bytes, a = this.bytesPos; n < t;)void 0 === (e = o[a++]) && s("Bad encoding in flate stream"), i |= e << n, n += 8; return e = i & (1 << t) - 1, this.codeBuf = i >> t, this.codeSize = n -= t, this.bytesPos = a, e }, a.prototype.getCode = function (t) { for (var e, n = t[0], i = t[1], o = this.codeSize, a = this.codeBuf, c = this.bytes, $ = this.bytesPos; o < i;)void 0 === (e = c[$++]) && s("Bad encoding in flate stream"), a |= e << o, o += 8; var l = n[a & (1 << i) - 1], u = l >> 16; return (0 == o || o < u || 0 == u) && s("Bad encoding in flate stream"), this.codeBuf = a >> u, this.codeSize = o - u, this.bytesPos = $, 65535 & l }, a.prototype.generateHuffmanTable = function (t) { for (var e = t.length, n = 0, i = 0; i < e; ++i)t[i] > n && (n = t[i]); for (var o = 1 << n, s = new Uint32Array(o), a = 1, c = 0, $ = 2; a <= n; ++a, c <<= 1, $ <<= 1)for (var l = 0; l < e; ++l)if (t[l] == a) { for (var u = 0, h = c, i = 0; i < a; ++i)u = u << 1 | 1 & h, h >>= 1; for (var i = u; i < o; i += $)s[i] = a << 16 | l; ++c } return [s, n] }, a.prototype.readBlock = function () { function a(t, e, n, i, o) { for (var s = t.getBits(n) + i; s-- > 0;)e[q++] = o } var c, $, l = this.getBits(3); if (1 & l && (this.eof = !0), 0 == (l >>= 1)) { var u, h = this.bytes, f = this.bytesPos; void 0 === (u = h[f++]) && s("Bad block header in flate stream"); var d = u; void 0 === (u = h[f++]) && s("Bad block header in flate stream"), d |= u << 8, void 0 === (u = h[f++]) && s("Bad block header in flate stream"); var p = u; void 0 === (u = h[f++]) && s("Bad block header in flate stream"), (p |= u << 8) != (65535 & ~d) && s("Bad uncompressed block length in flate stream"), this.codeBuf = 0, this.codeSize = 0; var _ = this.bufferLength, m = this.ensureBuffer(_ + d), x = _ + d; this.bufferLength = x; for (var w = _; w < x; ++w) { if (void 0 === (u = h[f++])) { this.eof = !0; break } m[w] = u } this.bytesPos = f; return } if (1 == l) c = i, $ = o; else if (2 == l) { for (var y = this.getBits(5) + 257, v = this.getBits(5) + 1, k = this.getBits(4) + 4, C = Array(t.length), q = 0; q < k;)C[t[q++]] = this.getBits(3); for (var S = this.generateHuffmanTable(C), T = 0, q = 0, A = y + v, P = Array(A); q < A;) { var F = this.getCode(S); 16 == F ? a(this, P, 2, 3, T) : 17 == F ? a(this, P, 3, 3, T = 0) : 18 == F ? a(this, P, 7, 11, T = 0) : P[q++] = T = F } c = this.generateHuffmanTable(P.slice(0, y)), $ = this.generateHuffmanTable(P.slice(y, A)) } else s("Unknown block type in flate stream"); for (var m = this.buffer, E = m ? m.length : 0, I = this.bufferLength; ;) { var B = this.getCode(c); if (B < 256) { I + 1 >= E && (E = (m = this.ensureBuffer(I + 1)).length), m[I++] = B; continue } if (256 == B) { this.bufferLength = I; return } B -= 257; var R = (B = e[B]) >> 16; R > 0 && (R = this.getBits(R)); var T = (65535 & B) + R; (R = (B = n[B = this.getCode($)]) >> 16) > 0 && (R = this.getBits(R)); var O = (65535 & B) + R; I + T >= E && (E = (m = this.ensureBuffer(I + T)).length); for (var D = 0; D < T; ++D, ++I)m[I] = m[I - O] } }, a } function s(t) { throw Error(t) } function a(t) { var e = 0, n = t[e++], i = t[e++]; (-1 == n || -1 == i) && s("Invalid header in flate stream"), (15 & n) != 8 && s("Unknown compression method in flate stream"), ((n << 8) + i) % 31 != 0 && s("Bad FCHECK in flate stream"), 32 & i && s("FDICT bit set in flate stream"), this.bytes = t, this.bytesPos = e, this.codeSize = 0, this.codeBuf = 0, tU.call(this) } }(); return tz = "undefined" != typeof self && self || "undefined" != typeof window && window || void 0, tW = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", void 0 === tz.btoa && (tz.btoa = function (t) { var e, n, i, o, s, a, c, $, l = 0, u = 0, h = "", f = []; if (!t) return t; do e = t.charCodeAt(l++), o = ($ = e << 16 | (n = t.charCodeAt(l++)) << 8 | (i = t.charCodeAt(l++))) >> 18 & 63, s = $ >> 12 & 63, a = $ >> 6 & 63, c = 63 & $, f[u++] = tW.charAt(o) + tW.charAt(s) + tW.charAt(a) + tW.charAt(c); while (l < t.length); h = f.join(""); var d = t.length % 3; return (d ? h.slice(0, d - 3) : h) + "===".slice(d || 3) }), void 0 === tz.atob && (tz.atob = function (t) { var e, n, i, o, s, a, c, $, l = 0, u = 0, h = "", f = []; if (!t) return t; t += ""; do o = tW.indexOf(t.charAt(l++)), s = tW.indexOf(t.charAt(l++)), e = ($ = o << 18 | s << 12 | (a = tW.indexOf(t.charAt(l++))) << 6 | (c = tW.indexOf(t.charAt(l++)))) >> 16 & 255, n = $ >> 8 & 255, i = 255 & $, 64 == a ? f[u++] = String.fromCharCode(e) : 64 == c ? f[u++] = String.fromCharCode(e, n) : f[u++] = String.fromCharCode(e, n, i); while (l < t.length); return f.join("") }), Array.prototype.map || (Array.prototype.map = function (t) { if (void 0 === this || this === null || "function" != typeof t) throw TypeError(); for (var e = Object(this), n = e.length >>> 0, i = Array(n), o = arguments.length > 1 ? arguments[1] : void 0, s = 0; s < n; s++)s in e && (i[s] = t.call(o, e[s], s, e)); return i }), Array.isArray || (Array.isArray = function (t) { return "[object Array]" === Object.prototype.toString.call(t) }), Array.prototype.forEach || (Array.prototype.forEach = function (t, e) { if (void 0 === this || this === null || "function" != typeof t) throw TypeError(); for (var n = Object(this), i = n.length >>> 0, o = 0; o < i; o++)o in n && t.call(e, n[o], o, n) }), !Object.keys && (Object.keys = (tL = Object.prototype.hasOwnProperty, tj = !({ toString: null }).propertyIsEnumerable("toString"), tH = (tN = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"]).length, function (t) { if ("object" != typeof t && ("function" != typeof t || null === t)) throw TypeError(); var e, n, i = []; for (e in t) tL.call(t, e) && i.push(e); if (tj) for (n = 0; n < tH; n++)tL.call(t, tN[n]) && i.push(tN[n]); return i })), String.prototype.trim || (String.prototype.trim = function () { return this.replace(/^\s+|\s+$/g, "") }), String.prototype.trimLeft || (String.prototype.trimLeft = function () { return this.replace(/^\s+/g, "") }), String.prototype.trimRight || (String.prototype.trimRight = function () { return this.replace(/\s+$/g, "") }), e });